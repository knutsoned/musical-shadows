var ks=Object.defineProperty;var Ts=(e,t,n)=>t in e?ks(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var we=(e,t,n)=>(Ts(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const Is=(e,t)=>e===t,Be=Symbol("solid-proxy"),ui=Symbol("solid-track"),Fn={equals:Is};let ea=aa;const et=1,qn=2,ta={owned:null,cleanups:null,context:null,owner:null},lr={};var _e=null;let fr=null,ye=null,Ee=null,Je=null,er=0;function Rs(e,t){const n=ye,r=_e,o=e.length===0,i=o?ta:{owned:null,cleanups:null,context:null,owner:t===void 0?r:t},a=o?e:()=>e(()=>qe(()=>nr(i)));_e=i,ye=null;try{return ot(a,!0)}finally{ye=n,_e=r}}function ve(e,t){t=t?Object.assign({},Fn,t):Fn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=o=>(typeof o=="function"&&(o=o(n.value)),ia(n,o));return[oa.bind(n),r]}function li(e,t,n){const r=tr(e,t,!0,et);Lt(r)}function ue(e,t,n){const r=tr(e,t,!1,et);Lt(r)}function qo(e,t,n){ea=Ms;const r=tr(e,t,!1,et);(!n||!n.render)&&(r.user=!0),Je?Je.push(r):Lt(r)}function ke(e,t,n){n=n?Object.assign({},Fn,n):Fn;const r=tr(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Lt(r),oa.bind(r)}function na(e,t,n){let r,o,i;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,o=e,i=t||{}):(r=e,o=t,i=n||{});let a=null,s=lr,c=!1,h="initialValue"in i,l=typeof r=="function"&&ke(r);const f=new Set,[u,p]=(i.storage||ve)(i.initialValue),[_,m]=ve(void 0),[b,g]=ve(void 0,{equals:!1}),[v,E]=ve(h?"ready":"unresolved");function O(R,C,L,G){return a===R&&(a=null,h=!0,(R===s||C===s)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(G,{value:C})),s=lr,A(C,L)),C}function A(R,C){ot(()=>{C===void 0&&p(()=>R),E(C!==void 0?"errored":"ready"),m(C);for(const L of f.keys())L.decrement();f.clear()},!1)}function j(){const R=Ds,C=u(),L=_();if(L!==void 0&&!a)throw L;return ye&&!ye.user&&R&&li(()=>{b(),a&&(R.resolved||f.has(R)||(R.increment(),f.add(R)))}),C}function k(R=!0){if(R!==!1&&c)return;c=!1;const C=l?l():r;if(C==null||C===!1){O(a,qe(u));return}const L=s!==lr?s:qe(()=>o(C,{value:u(),refetching:R}));return typeof L!="object"||!(L&&"then"in L)?(O(a,L,void 0,C),L):(a=L,c=!0,queueMicrotask(()=>c=!1),ot(()=>{E(h?"refreshing":"pending"),g()},!1),L.then(G=>O(L,G,void 0,C),G=>O(L,void 0,Fs(G),C)))}return Object.defineProperties(j,{state:{get:()=>v()},error:{get:()=>_()},loading:{get(){const R=v();return R==="pending"||R==="refreshing"}},latest:{get(){if(!h)return j();const R=_();if(R&&!a)throw R;return u()}}}),l?li(()=>k(!1)):k(!1),[j,{refetch:k,mutate:p}]}function ra(e){return ot(e,!1)}function qe(e){if(ye===null)return e();const t=ye;ye=null;try{return e()}finally{ye=t}}function Zr(e){return _e===null||(_e.cleanups===null?_e.cleanups=[e]:_e.cleanups.push(e)),e}function Ko(){return ye}function Cs(e){const t=ke(e),n=ke(()=>eo(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Ds;function oa(){if(this.sources&&this.state)if(this.state===et)Lt(this);else{const e=Ee;Ee=null,ot(()=>Ln(this),!1),Ee=e}if(ye){const e=this.observers?this.observers.length:0;ye.sources?(ye.sources.push(this),ye.sourceSlots.push(e)):(ye.sources=[this],ye.sourceSlots=[e]),this.observers?(this.observers.push(ye),this.observerSlots.push(ye.sources.length-1)):(this.observers=[ye],this.observerSlots=[ye.sources.length-1])}return this.value}function ia(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ot(()=>{for(let o=0;o<e.observers.length;o+=1){const i=e.observers[o],a=fr&&fr.running;a&&fr.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?Ee.push(i):Je.push(i),i.observers&&sa(i)),a||(i.state=et)}if(Ee.length>1e6)throw Ee=[],new Error},!1)),t}function Lt(e){if(!e.fn)return;nr(e);const t=_e,n=ye,r=er;ye=_e=e,Ns(e,e.value,r),ye=n,_e=t}function Ns(e,t,n){let r;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=et,e.owned&&e.owned.forEach(nr),e.owned=null),e.updatedAt=n+1,ca(o)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ia(e,r):e.value=r,e.updatedAt=n)}function tr(e,t,n,r=et,o){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:_e,context:null,pure:n};return _e===null||_e!==ta&&(_e.owned?_e.owned.push(i):_e.owned=[i]),i}function Kn(e){if(e.state===0)return;if(e.state===qn)return Ln(e);if(e.suspense&&qe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<er);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===et)Lt(e);else if(e.state===qn){const r=Ee;Ee=null,ot(()=>Ln(e,t[0]),!1),Ee=r}}function ot(e,t){if(Ee)return e();let n=!1;t||(Ee=[]),Je?n=!0:Je=[],er++;try{const r=e();return Bs(n),r}catch(r){n||(Je=null),Ee=null,ca(r)}}function Bs(e){if(Ee&&(aa(Ee),Ee=null),e)return;const t=Je;Je=null,t.length&&ot(()=>ea(t),!1)}function aa(e){for(let t=0;t<e.length;t++)Kn(e[t])}function Ms(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Kn(r)}for(t=0;t<n;t++)Kn(e[t])}function Ln(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const o=r.state;o===et?r!==t&&(!r.updatedAt||r.updatedAt<er)&&Kn(r):o===qn&&Ln(r,t)}}}function sa(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=qn,n.pure?Ee.push(n):Je.push(n),n.observers&&sa(n))}}function nr(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const i=o.pop(),a=n.observerSlots.pop();r<o.length&&(i.sourceSlots[a]=r,o[r]=i,n.observerSlots[r]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)nr(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Fs(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ca(e){throw e}function eo(e){if(typeof e=="function"&&!e.length)return eo(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=eo(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function le(e,t){return qe(()=>e(t||{}))}function gn(){return!0}const to={get(e,t,n){return t===Be?n:e.get(t)},has(e,t){return t===Be?!0:e.has(t)},set:gn,deleteProperty:gn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:gn,deleteProperty:gn}},ownKeys(e){return e.keys()}};function dr(e){return(e=typeof e=="function"?e():e)?e:{}}function ua(...e){let t=!1;for(let r=0;r<e.length;r++){const o=e[r];t=t||!!o&&Be in o,e[r]=typeof o=="function"?(t=!0,ke(o)):o}if(t)return new Proxy({get(r){for(let o=e.length-1;o>=0;o--){const i=dr(e[o])[r];if(i!==void 0)return i}},has(r){for(let o=e.length-1;o>=0;o--)if(r in dr(e[o]))return!0;return!1},keys(){const r=[];for(let o=0;o<e.length;o++)r.push(...Object.keys(dr(e[o])));return[...new Set(r)]}},to);const n={};for(let r=e.length-1;r>=0;r--)if(e[r]){const o=Object.getOwnPropertyDescriptors(e[r]);for(const i in o)i in n||Object.defineProperty(n,i,{enumerable:!0,get(){for(let a=e.length-1;a>=0;a--){const s=(e[a]||{})[i];if(s!==void 0)return s}}})}return n}function qs(e,...t){const n=new Set(t.flat());if(Be in e){const o=t.map(i=>new Proxy({get(a){return i.includes(a)?e[a]:void 0},has(a){return i.includes(a)&&a in e},keys(){return i.filter(a=>a in e)}},to));return o.push(new Proxy({get(i){return n.has(i)?void 0:e[i]},has(i){return n.has(i)?!1:i in e},keys(){return Object.keys(e).filter(i=>!n.has(i))}},to)),o}const r=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(r).filter(o=>!n.has(o))),t.map(o=>{const i={};for(let a=0;a<o.length;a++){const s=o[a];s in e&&Object.defineProperty(i,s,r[s]?r[s]:{get(){return e[s]},set(){return!0},enumerable:!0})}return i})}const Ks=e=>`Stale read from <${e}>.`;function la(e){let t=!1;const n=(i,a)=>i[0]===a[0]&&(t?i[1]===a[1]:!i[1]==!a[1])&&i[2]===a[2],r=Cs(()=>e.children),o=ke(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let a=0;a<i.length;a++){const s=i[a].when;if(s)return t=!!i[a].keyed,[a,s,i[a]]}return[-1]},void 0,{equals:n});return ke(()=>{const[i,a,s]=o();if(i<0)return e.fallback;const c=s.children;return typeof c=="function"&&c.length>0?qe(()=>c(t?a:()=>{if(qe(o)[0]!==i)throw Ks("Match");return s.when})):c},void 0,void 0)}function Ht(e){return e}const Ls=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Us=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ls]),Vs=new Set(["innerHTML","textContent","innerText","children"]),Gs=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),zs=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Ws(e,t){const n=zs[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Hs=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ys={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Js(e,t,n){let r=n.length,o=t.length,i=r,a=0,s=0,c=t[o-1].nextSibling,h=null;for(;a<o||s<i;){if(t[a]===n[s]){a++,s++;continue}for(;t[o-1]===n[i-1];)o--,i--;if(o===a){const l=i<r?s?n[s-1].nextSibling:n[i-s]:c;for(;s<i;)e.insertBefore(n[s++],l)}else if(i===s)for(;a<o;)(!h||!h.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[i-1]&&n[s]===t[o-1]){const l=t[--o].nextSibling;e.insertBefore(n[s++],t[a++].nextSibling),e.insertBefore(n[--i],l),t[o]=n[i]}else{if(!h){h=new Map;let f=s;for(;f<i;)h.set(n[f],f++)}const l=h.get(t[a]);if(l!=null)if(s<l&&l<i){let f=a,u=1,p;for(;++f<o&&f<i&&!((p=h.get(t[f]))==null||p!==l+u);)u++;if(u>l-s){const _=t[a];for(;s<l;)e.insertBefore(n[s++],_)}else e.replaceChild(n[s++],t[a++])}else a++;else t[a++].remove()}}}const fi="_$DX_DELEGATE";function Xs(e,t,n,r={}){let o;return Rs(i=>{o=i,t===document?e():se(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{o(),t.textContent=""}}function fe(e,t,n){let r;const o=()=>{const a=document.createElement("template");return a.innerHTML=e,n?a.content.firstChild.firstChild:a.content.firstChild},i=t?()=>(r||(r=o())).cloneNode(!0):()=>qe(()=>document.importNode(r||(r=o()),!0));return i.cloneNode=i,i}function dn(e,t=window.document){const n=t[fi]||(t[fi]=new Set);for(let r=0,o=e.length;r<o;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,tc))}}function ae(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Qs(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function Ce(e,t){t==null?e.removeAttribute("class"):e.className=t}function no(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const o=n[0];e.addEventListener(t,n[0]=i=>o.call(e,n[1],i))}else e.addEventListener(t,n)}function ro(e,t,n={}){const r=Object.keys(t||{}),o=Object.keys(n);let i,a;for(i=0,a=o.length;i<a;i++){const s=o[i];!s||s==="undefined"||t[s]||(di(e,s,!1),delete n[s])}for(i=0,a=r.length;i<a;i++){const s=r[i],c=!!t[s];!s||s==="undefined"||n[s]===c||!c||(di(e,s,!0),n[s]=c)}return n}function fa(e,t,n){if(!t)return n?ae(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let o,i;for(i in n)t[i]==null&&r.removeProperty(i),delete n[i];for(i in t)o=t[i],o!==n[i]&&(r.setProperty(i,o),n[i]=o);return n}function da(e,t={},n,r){const o={};return r||ue(()=>o.children=Nt(e,t.children,o.children)),ue(()=>t.ref&&t.ref(e)),ue(()=>Zs(e,t,n,!0,o,!0)),o}function gt(e,t,n){return qe(()=>e(t,n))}function se(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Nt(e,t,r,n);ue(o=>Nt(e,t(),o,n),r)}function Zs(e,t,n,r,o={},i=!1){t||(t={});for(const a in o)if(!(a in t)){if(a==="children")continue;o[a]=hi(e,a,null,o[a],n,i)}for(const a in t){if(a==="children"){r||Nt(e,t.children);continue}const s=t[a];o[a]=hi(e,a,s,o[a],n,i)}}function ec(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function di(e,t,n){const r=t.trim().split(/\s+/);for(let o=0,i=r.length;o<i;o++)e.classList.toggle(r[o],n)}function hi(e,t,n,r,o,i){let a,s,c,h,l;if(t==="style")return fa(e,n,r);if(t==="classList")return ro(e,n,r);if(n===r)return r;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);r&&e.removeEventListener(f,r),n&&e.addEventListener(f,n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);r&&e.removeEventListener(f,r,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),u=Hs.has(f);if(!u&&r){const p=Array.isArray(r)?r[0]:r;e.removeEventListener(f,p)}(u||n)&&(no(e,f,n,u),u&&dn([f]))}else if(t.slice(0,5)==="attr:")ae(e,t.slice(5),n);else if((l=t.slice(0,5)==="prop:")||(c=Vs.has(t))||!o&&((h=Ws(t,e.tagName))||(s=Us.has(t)))||(a=e.nodeName.includes("-")))l&&(t=t.slice(5),s=!0),t==="class"||t==="className"?Ce(e,n):a&&!s&&!c?e[ec(t)]=n:e[h||t]=n;else{const f=o&&t.indexOf(":")>-1&&Ys[t.split(":")[0]];f?Qs(e,f,t,n):ae(e,Gs[t]||t,n)}return n}function tc(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const o=n[`${t}Data`];if(o!==void 0?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Nt(e,t,n,r,o){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(t=t.toString()),a){let s=n[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),n=Pt(e,n,r,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||i==="boolean")n=Pt(e,n,r);else{if(i==="function")return ue(()=>{let s=t();for(;typeof s=="function";)s=s();n=Nt(e,s,n,r)}),()=>n;if(Array.isArray(t)){const s=[],c=n&&Array.isArray(n);if(oo(s,t,n,o))return ue(()=>n=Nt(e,s,n,r,!0)),()=>n;if(s.length===0){if(n=Pt(e,n,r),a)return n}else c?n.length===0?pi(e,s,r):Js(e,n,s):(n&&Pt(e),pi(e,s));n=s}else if(t instanceof Node){if(Array.isArray(n)){if(a)return n=Pt(e,n,r,t);Pt(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function oo(e,t,n,r){let o=!1;for(let i=0,a=t.length;i<a;i++){let s=t[i],c=n&&n[i];if(s instanceof Node)e.push(s);else if(!(s==null||s===!0||s===!1))if(Array.isArray(s))o=oo(e,s,c)||o;else if(typeof s=="function")if(r){for(;typeof s=="function";)s=s();o=oo(e,Array.isArray(s)?s:[s],Array.isArray(c)?c:[c])||o}else e.push(s),o=!0;else{const h=String(s);c&&c.nodeType===3?(c.data=h,e.push(c)):e.push(document.createTextNode(h))}}return o}function pi(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function Pt(e,t,n,r){if(n===void 0)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let i=!1;for(let a=t.length-1;a>=0;a--){const s=t[a];if(o!==s){const c=s.parentNode===e;!i&&!a?c?e.replaceChild(o,s):e.insertBefore(o,n):c&&s.remove()}else i=!0}}else e.insertBefore(o,n);return[o]}const nc=!1;const Un=Symbol("store-raw"),rn=Symbol("store-node");function ha(e){let t=e[Be];if(!t&&(Object.defineProperty(e,Be,{value:t=new Proxy(e,ic)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let o=0,i=n.length;o<i;o++){const a=n[o];r[a].get&&Object.defineProperty(e,a,{enumerable:r[a].enumerable,get:r[a].get.bind(t)})}}return t}function Bt(e){let t;return e!=null&&typeof e=="object"&&(e[Be]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Mt(e,t=new Set){let n,r,o,i;if(n=e!=null&&e[Un])return n;if(!Bt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,s=e.length;a<s;a++)o=e[a],(r=Mt(o,t))!==o&&(e[a]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let c=0,h=a.length;c<h;c++)i=a[c],!s[i].get&&(o=e[i],(r=Mt(o,t))!==o&&(e[i]=r))}return e}function Lo(e){let t=e[rn];return t||Object.defineProperty(e,rn,{value:t=Object.create(null)}),t}function io(e,t,n){return e[t]||(e[t]=ya(n))}function rc(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Be||t===rn||(delete n.value,delete n.writable,n.get=()=>e[Be][t]),n}function pa(e){if(Ko()){const t=Lo(e);(t._||(t._=ya()))()}}function oc(e){return pa(e),Reflect.ownKeys(e)}function ya(e){const[t,n]=ve(e,{equals:!1,internal:!0});return t.$=n,t}const ic={get(e,t,n){if(t===Un)return e;if(t===Be)return n;if(t===ui)return pa(e),n;const r=Lo(e),o=r[t];let i=o?o():e[t];if(t===rn||t==="__proto__")return i;if(!o){const a=Object.getOwnPropertyDescriptor(e,t);Ko()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(i=io(r,t,i)())}return Bt(i)?ha(i):i},has(e,t){return t===Un||t===Be||t===ui||t===rn||t==="__proto__"?!0:(this.get(e,t,e),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:oc,getOwnPropertyDescriptor:rc};function Ft(e,t,n,r=!1){if(!r&&e[t]===n)return;const o=e[t],i=e.length;n===void 0?delete e[t]:e[t]=n;let a=Lo(e),s;(s=io(a,t,o))&&s.$(()=>n),Array.isArray(e)&&e.length!==i&&(s=io(a,"length",i))&&s.$(e.length),(s=a._)&&s.$()}function ga(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];Ft(e,o,t[o])}}function ac(e,t){if(typeof t=="function"&&(t=t(e)),t=Mt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const o=t[n];e[n]!==o&&Ft(e,n,o)}Ft(e,"length",r)}else ga(e,t)}function Yt(e,t,n=[]){let r,o=e;if(t.length>1){r=t.shift();const a=typeof r,s=Array.isArray(e);if(Array.isArray(r)){for(let c=0;c<r.length;c++)Yt(e,[r[c]].concat(t),n);return}else if(s&&a==="function"){for(let c=0;c<e.length;c++)r(e[c],c)&&Yt(e,[c].concat(t),n);return}else if(s&&a==="object"){const{from:c=0,to:h=e.length-1,by:l=1}=r;for(let f=c;f<=h;f+=l)Yt(e,[f].concat(t),n);return}else if(t.length>1){Yt(e[r],t,[r].concat(n));return}o=e[r],n=[r].concat(n)}let i=t[0];typeof i=="function"&&(i=i(o,n),i===o)||r===void 0&&i==null||(i=Mt(i),r===void 0||Bt(o)&&Bt(i)&&!Array.isArray(i)?ga(o,i):Ft(e,r,i))}function sc(...[e,t]){const n=Mt(e||{}),r=Array.isArray(n),o=ha(n);function i(...a){ra(()=>{r&&a.length===1?ac(n,a[0]):Yt(n,a)})}return[o,i]}const Vn=new WeakMap,ma={get(e,t){if(t===Un)return e;const n=e[t];let r;return Bt(n)?Vn.get(n)||(Vn.set(n,r=new Proxy(n,ma)),r):n},set(e,t,n){return Ft(e,t,Mt(n)),!0},deleteProperty(e,t){return Ft(e,t,void 0,!0),!0}};function ba(e){return t=>{if(Bt(t)){let n;(n=Vn.get(t))||Vn.set(t,n=new Proxy(t,ma)),e(n)}return t}}const va=7,cc=200,wa=12;var Uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hr={exports:{}},pr={},qt={},_a={},Aa=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;t[n]=o;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==o||a.enumerable!==!0)return!1}return!0},lc=Aa,rr=function(){return lc()&&!!Symbol.toStringTag},yr,yi;function fc(){if(yi)return yr;yi=1;var e=typeof Symbol<"u"&&Symbol,t=Aa;return yr=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},yr}var gr,gi;function dc(){if(gi)return gr;gi=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,n=Object.prototype.toString,r="[object Function]";return gr=function(i){var a=this;if(typeof a!="function"||n.call(a)!==r)throw new TypeError(e+a);for(var s=t.call(arguments,1),c,h=function(){if(this instanceof c){var _=a.apply(this,s.concat(t.call(arguments)));return Object(_)===_?_:this}else return a.apply(i,s.concat(t.call(arguments)))},l=Math.max(0,a.length-s.length),f=[],u=0;u<l;u++)f.push("$"+u);if(c=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(h),a.prototype){var p=function(){};p.prototype=a.prototype,c.prototype=new p,p.prototype=null}return c},gr}var mr,mi;function Vo(){if(mi)return mr;mi=1;var e=dc();return mr=Function.prototype.bind||e,mr}var br,bi;function hc(){if(bi)return br;bi=1;var e=Vo();return br=e.call(Function.call,Object.prototype.hasOwnProperty),br}var vr,vi;function or(){if(vi)return vr;vi=1;var e,t=SyntaxError,n=Function,r=TypeError,o=function(G){try{return n('"use strict"; return ('+G+").constructor;")()}catch{}},i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch{i=null}var a=function(){throw new r},s=i?function(){try{return arguments.callee,a}catch{try{return i(arguments,"callee").get}catch{return a}}}():a,c=fc()(),h=Object.getPrototypeOf||function(G){return G.__proto__},l={},f=typeof Uint8Array>"u"?e:h(Uint8Array),u={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":c?h([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?h(h([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!c?e:h(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!c?e:h(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?h(""[Symbol.iterator]()):e,"%Symbol%":c?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":s,"%TypedArray%":f,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};try{null.error}catch(G){var p=h(h(G));u["%Error.prototype%"]=p}var _=function G(z){var ee;if(z==="%AsyncFunction%")ee=o("async function () {}");else if(z==="%GeneratorFunction%")ee=o("function* () {}");else if(z==="%AsyncGeneratorFunction%")ee=o("async function* () {}");else if(z==="%AsyncGenerator%"){var W=G("%AsyncGeneratorFunction%");W&&(ee=W.prototype)}else if(z==="%AsyncIteratorPrototype%"){var N=G("%AsyncGenerator%");N&&(ee=h(N.prototype))}return u[z]=ee,ee},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=Vo(),g=hc(),v=b.call(Function.call,Array.prototype.concat),E=b.call(Function.apply,Array.prototype.splice),O=b.call(Function.call,String.prototype.replace),A=b.call(Function.call,String.prototype.slice),j=b.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,C=function(z){var ee=A(z,0,1),W=A(z,-1);if(ee==="%"&&W!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(W==="%"&&ee!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var N=[];return O(z,k,function(D,M,B,U){N[N.length]=B?O(U,R,"$1"):M||D}),N},L=function(z,ee){var W=z,N;if(g(m,W)&&(N=m[W],W="%"+N[0]+"%"),g(u,W)){var D=u[W];if(D===l&&(D=_(W)),typeof D>"u"&&!ee)throw new r("intrinsic "+z+" exists, but is not available. Please file an issue!");return{alias:N,name:W,value:D}}throw new t("intrinsic "+z+" does not exist!")};return vr=function(z,ee){if(typeof z!="string"||z.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ee!="boolean")throw new r('"allowMissing" argument must be a boolean');if(j(/^%?[^%]*%?$/,z)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var W=C(z),N=W.length>0?W[0]:"",D=L("%"+N+"%",ee),M=D.name,B=D.value,U=!1,Z=D.alias;Z&&(N=Z[0],E(W,v([0,1],Z)));for(var $=1,d=!0;$<W.length;$+=1){var y=W[$],w=A(y,0,1),T=A(y,-1);if((w==='"'||w==="'"||w==="`"||T==='"'||T==="'"||T==="`")&&w!==T)throw new t("property names with quotes must have matching quotes");if((y==="constructor"||!d)&&(U=!0),N+="."+y,M="%"+N+"%",g(u,M))B=u[M];else if(B!=null){if(!(y in B)){if(!ee)throw new r("base intrinsic for "+z+" exists, but the property is not available.");return}if(i&&$+1>=W.length){var x=i(B,y);d=!!x,d&&"get"in x&&!("originalValue"in x.get)?B=x.get:B=B[y]}else d=g(B,y),B=B[y];d&&!U&&(u[M]=B)}}return B},vr}var wr={exports:{}},wi;function Go(){return wi||(wi=1,function(e){var t=Vo(),n=or(),r=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),i=n("%Reflect.apply%",!0)||t.call(o,r),a=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}e.exports=function(f){var u=i(t,o,arguments);if(a&&s){var p=a(u,"length");p.configurable&&s(u,"length",{value:1+c(0,f.length-(arguments.length-1))})}return u};var h=function(){return i(t,r,arguments)};s?s(e.exports,"apply",{value:h}):e.exports.apply=h}(wr)),wr.exports}var Sa=or(),Ea=Go(),pc=Ea(Sa("String.prototype.indexOf")),zo=function(t,n){var r=Sa(t,!!n);return typeof r=="function"&&pc(t,".prototype.")>-1?Ea(r):r},yc=rr(),gc=zo,ao=gc("Object.prototype.toString"),ir=function(t){return yc&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:ao(t)==="[object Arguments]"},Oa=function(t){return ir(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&ao(t)!=="[object Array]"&&ao(t.callee)==="[object Function]"},mc=function(){return ir(arguments)}();ir.isLegacyArguments=Oa;var bc=mc?ir:Oa,vc=Object.prototype.toString,wc=Function.prototype.toString,_c=/^\s*(?:function)?\*/,Pa=rr(),_r=Object.getPrototypeOf,Ac=function(){if(!Pa)return!1;try{return Function("return function*() {}")()}catch{}},Ar,Sc=function(t){if(typeof t!="function")return!1;if(_c.test(wc.call(t)))return!0;if(!Pa){var n=vc.call(t);return n==="[object GeneratorFunction]"}if(!_r)return!1;if(typeof Ar>"u"){var r=Ac();Ar=r?_r(r):!1}return _r(t)===Ar},ja=Function.prototype.toString,Tt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,so,$n;if(typeof Tt=="function"&&typeof Object.defineProperty=="function")try{so=Object.defineProperty({},"length",{get:function(){throw $n}}),$n={},Tt(function(){throw 42},null,so)}catch(e){e!==$n&&(Tt=null)}else Tt=null;var Ec=/^\s*class\b/,co=function(t){try{var n=ja.call(t);return Ec.test(n)}catch{return!1}},Sr=function(t){try{return co(t)?!1:(ja.call(t),!0)}catch{return!1}},xn=Object.prototype.toString,Oc="[object Object]",Pc="[object Function]",jc="[object GeneratorFunction]",$c="[object HTMLAllCollection]",xc="[object HTML document.all class]",kc="[object HTMLCollection]",Tc=typeof Symbol=="function"&&!!Symbol.toStringTag,Ic=!(0 in[,]),uo=function(){return!1};if(typeof document=="object"){var Rc=document.all;xn.call(Rc)===xn.call(document.all)&&(uo=function(t){if((Ic||!t)&&(typeof t>"u"||typeof t=="object"))try{var n=xn.call(t);return(n===$c||n===xc||n===kc||n===Oc)&&t("")==null}catch{}return!1})}var Cc=Tt?function(t){if(uo(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Tt(t,null,so)}catch(n){if(n!==$n)return!1}return!co(t)&&Sr(t)}:function(t){if(uo(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(Tc)return Sr(t);if(co(t))return!1;var n=xn.call(t);return n!==Pc&&n!==jc&&!/^\[object HTML/.test(n)?!1:Sr(t)},Dc=Cc,Nc=Object.prototype.toString,$a=Object.prototype.hasOwnProperty,Bc=function(t,n,r){for(var o=0,i=t.length;o<i;o++)$a.call(t,o)&&(r==null?n(t[o],o,t):n.call(r,t[o],o,t))},Mc=function(t,n,r){for(var o=0,i=t.length;o<i;o++)r==null?n(t.charAt(o),o,t):n.call(r,t.charAt(o),o,t)},Fc=function(t,n,r){for(var o in t)$a.call(t,o)&&(r==null?n(t[o],o,t):n.call(r,t[o],o,t))},qc=function(t,n,r){if(!Dc(n))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=r),Nc.call(t)==="[object Array]"?Bc(t,n,o):typeof t=="string"?Mc(t,n,o):Fc(t,n,o)},xa=qc,Er=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Kc=typeof globalThis>"u"?Uo:globalThis,ka=function(){for(var t=[],n=0;n<Er.length;n++)typeof Kc[Er[n]]=="function"&&(t[t.length]=Er[n]);return t},Lc=or(),kn=Lc("%Object.getOwnPropertyDescriptor%",!0);if(kn)try{kn([],"length")}catch{kn=null}var Ta=kn,Ia=xa,Uc=ka,Wo=zo,Vc=Wo("Object.prototype.toString"),Ra=rr(),Tn=Ta,Gc=typeof globalThis>"u"?Uo:globalThis,Ca=Uc(),zc=Wo("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},Wc=Wo("String.prototype.slice"),Da={},Or=Object.getPrototypeOf;Ra&&Tn&&Or&&Ia(Ca,function(e){var t=new Gc[e];if(Symbol.toStringTag in t){var n=Or(t),r=Tn(n,Symbol.toStringTag);if(!r){var o=Or(n);r=Tn(o,Symbol.toStringTag)}Da[e]=r.get}});var Hc=function(t){var n=!1;return Ia(Da,function(r,o){if(!n)try{n=r.call(t)===o}catch{}}),n},Na=function(t){if(!t||typeof t!="object")return!1;if(!Ra||!(Symbol.toStringTag in t)){var n=Wc(Vc(t),8,-1);return zc(Ca,n)>-1}return Tn?Hc(t):!1},Ba=xa,Yc=ka,Ma=zo,Pr=Ta,Jc=Ma("Object.prototype.toString"),Fa=rr(),_i=typeof globalThis>"u"?Uo:globalThis,Xc=Yc(),Qc=Ma("String.prototype.slice"),qa={},jr=Object.getPrototypeOf;Fa&&Pr&&jr&&Ba(Xc,function(e){if(typeof _i[e]=="function"){var t=new _i[e];if(Symbol.toStringTag in t){var n=jr(t),r=Pr(n,Symbol.toStringTag);if(!r){var o=jr(n);r=Pr(o,Symbol.toStringTag)}qa[e]=r.get}}});var Zc=function(t){var n=!1;return Ba(qa,function(r,o){if(!n)try{var i=r.call(t);i===o&&(n=i)}catch{}}),n},eu=Na,tu=function(t){return eu(t)?!Fa||!(Symbol.toStringTag in t)?Qc(Jc(t),8,-1):Zc(t):!1};(function(e){var t=bc,n=Sc,r=tu,o=Na;function i(I){return I.call.bind(I)}var a=typeof BigInt<"u",s=typeof Symbol<"u",c=i(Object.prototype.toString),h=i(Number.prototype.valueOf),l=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(a)var u=i(BigInt.prototype.valueOf);if(s)var p=i(Symbol.prototype.valueOf);function _(I,lt){if(typeof I!="object")return!1;try{return lt(I),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=o;function m(I){return typeof Promise<"u"&&I instanceof Promise||I!==null&&typeof I=="object"&&typeof I.then=="function"&&typeof I.catch=="function"}e.isPromise=m;function b(I){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(I):o(I)||y(I)}e.isArrayBufferView=b;function g(I){return r(I)==="Uint8Array"}e.isUint8Array=g;function v(I){return r(I)==="Uint8ClampedArray"}e.isUint8ClampedArray=v;function E(I){return r(I)==="Uint16Array"}e.isUint16Array=E;function O(I){return r(I)==="Uint32Array"}e.isUint32Array=O;function A(I){return r(I)==="Int8Array"}e.isInt8Array=A;function j(I){return r(I)==="Int16Array"}e.isInt16Array=j;function k(I){return r(I)==="Int32Array"}e.isInt32Array=k;function R(I){return r(I)==="Float32Array"}e.isFloat32Array=R;function C(I){return r(I)==="Float64Array"}e.isFloat64Array=C;function L(I){return r(I)==="BigInt64Array"}e.isBigInt64Array=L;function G(I){return r(I)==="BigUint64Array"}e.isBigUint64Array=G;function z(I){return c(I)==="[object Map]"}z.working=typeof Map<"u"&&z(new Map);function ee(I){return typeof Map>"u"?!1:z.working?z(I):I instanceof Map}e.isMap=ee;function W(I){return c(I)==="[object Set]"}W.working=typeof Set<"u"&&W(new Set);function N(I){return typeof Set>"u"?!1:W.working?W(I):I instanceof Set}e.isSet=N;function D(I){return c(I)==="[object WeakMap]"}D.working=typeof WeakMap<"u"&&D(new WeakMap);function M(I){return typeof WeakMap>"u"?!1:D.working?D(I):I instanceof WeakMap}e.isWeakMap=M;function B(I){return c(I)==="[object WeakSet]"}B.working=typeof WeakSet<"u"&&B(new WeakSet);function U(I){return B(I)}e.isWeakSet=U;function Z(I){return c(I)==="[object ArrayBuffer]"}Z.working=typeof ArrayBuffer<"u"&&Z(new ArrayBuffer);function $(I){return typeof ArrayBuffer>"u"?!1:Z.working?Z(I):I instanceof ArrayBuffer}e.isArrayBuffer=$;function d(I){return c(I)==="[object DataView]"}d.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&d(new DataView(new ArrayBuffer(1),0,1));function y(I){return typeof DataView>"u"?!1:d.working?d(I):I instanceof DataView}e.isDataView=y;var w=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function T(I){return c(I)==="[object SharedArrayBuffer]"}function x(I){return typeof w>"u"?!1:(typeof T.working>"u"&&(T.working=T(new w)),T.working?T(I):I instanceof w)}e.isSharedArrayBuffer=x;function K(I){return c(I)==="[object AsyncFunction]"}e.isAsyncFunction=K;function H(I){return c(I)==="[object Map Iterator]"}e.isMapIterator=H;function V(I){return c(I)==="[object Set Iterator]"}e.isSetIterator=V;function ne(I){return c(I)==="[object Generator]"}e.isGeneratorObject=ne;function pe(I){return c(I)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=pe;function $e(I){return _(I,h)}e.isNumberObject=$e;function Te(I){return _(I,l)}e.isStringObject=Te;function ge(I){return _(I,f)}e.isBooleanObject=ge;function Le(I){return a&&_(I,u)}e.isBigIntObject=Le;function ut(I){return s&&_(I,p)}e.isSymbolObject=ut;function Oe(I){return $e(I)||Te(I)||ge(I)||Le(I)||ut(I)}e.isBoxedPrimitive=Oe;function Ue(I){return typeof Uint8Array<"u"&&($(I)||x(I))}e.isAnyArrayBuffer=Ue,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(I){Object.defineProperty(e,I,{enumerable:!1,value:function(){throw new Error(I+" is not supported in userland")}})})})(_a);var nu=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},lo={exports:{}};typeof Object.create=="function"?lo.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:lo.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var ru=lo.exports;(function(e){var t=Object.getOwnPropertyDescriptors||function(y){for(var w=Object.keys(y),T={},x=0;x<w.length;x++)T[w[x]]=Object.getOwnPropertyDescriptor(y,w[x]);return T},n=/%[sdj%]/g;e.format=function(d){if(!A(d)){for(var y=[],w=0;w<arguments.length;w++)y.push(a(arguments[w]));return y.join(" ")}for(var w=1,T=arguments,x=T.length,K=String(d).replace(n,function(V){if(V==="%%")return"%";if(w>=x)return V;switch(V){case"%s":return String(T[w++]);case"%d":return Number(T[w++]);case"%j":try{return JSON.stringify(T[w++])}catch{return"[Circular]"}default:return V}}),H=T[w];w<x;H=T[++w])v(H)||!C(H)?K+=" "+H:K+=" "+a(H);return K},e.deprecate=function(d,y){if(typeof process<"u"&&process.noDeprecation===!0)return d;if(typeof process>"u")return function(){return e.deprecate(d,y).apply(this,arguments)};var w=!1;function T(){if(!w){if(process.throwDeprecation)throw new Error(y);process.traceDeprecation?console.trace(y):console.error(y),w=!0}return d.apply(this,arguments)}return T};var r={},o=/^$/;if({}.NODE_DEBUG){var i={}.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+i+"$","i")}e.debuglog=function(d){if(d=d.toUpperCase(),!r[d])if(o.test(d)){var y=process.pid;r[d]=function(){var w=e.format.apply(e,arguments);console.error("%s %d: %s",d,y,w)}}else r[d]=function(){};return r[d]};function a(d,y){var w={seen:[],stylize:c};return arguments.length>=3&&(w.depth=arguments[2]),arguments.length>=4&&(w.colors=arguments[3]),g(y)?w.showHidden=y:y&&e._extend(w,y),k(w.showHidden)&&(w.showHidden=!1),k(w.depth)&&(w.depth=2),k(w.colors)&&(w.colors=!1),k(w.customInspect)&&(w.customInspect=!0),w.colors&&(w.stylize=s),l(w,d,w.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(d,y){var w=a.styles[y];return w?"\x1B["+a.colors[w][0]+"m"+d+"\x1B["+a.colors[w][1]+"m":d}function c(d,y){return d}function h(d){var y={};return d.forEach(function(w,T){y[w]=!0}),y}function l(d,y,w){if(d.customInspect&&y&&z(y.inspect)&&y.inspect!==e.inspect&&!(y.constructor&&y.constructor.prototype===y)){var T=y.inspect(w,d);return A(T)||(T=l(d,T,w)),T}var x=f(d,y);if(x)return x;var K=Object.keys(y),H=h(K);if(d.showHidden&&(K=Object.getOwnPropertyNames(y)),G(y)&&(K.indexOf("message")>=0||K.indexOf("description")>=0))return u(y);if(K.length===0){if(z(y)){var V=y.name?": "+y.name:"";return d.stylize("[Function"+V+"]","special")}if(R(y))return d.stylize(RegExp.prototype.toString.call(y),"regexp");if(L(y))return d.stylize(Date.prototype.toString.call(y),"date");if(G(y))return u(y)}var ne="",pe=!1,$e=["{","}"];if(b(y)&&(pe=!0,$e=["[","]"]),z(y)){var Te=y.name?": "+y.name:"";ne=" [Function"+Te+"]"}if(R(y)&&(ne=" "+RegExp.prototype.toString.call(y)),L(y)&&(ne=" "+Date.prototype.toUTCString.call(y)),G(y)&&(ne=" "+u(y)),K.length===0&&(!pe||y.length==0))return $e[0]+ne+$e[1];if(w<0)return R(y)?d.stylize(RegExp.prototype.toString.call(y),"regexp"):d.stylize("[Object]","special");d.seen.push(y);var ge;return pe?ge=p(d,y,w,H,K):ge=K.map(function(Le){return _(d,y,w,H,Le,pe)}),d.seen.pop(),m(ge,ne,$e)}function f(d,y){if(k(y))return d.stylize("undefined","undefined");if(A(y)){var w="'"+JSON.stringify(y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return d.stylize(w,"string")}if(O(y))return d.stylize(""+y,"number");if(g(y))return d.stylize(""+y,"boolean");if(v(y))return d.stylize("null","null")}function u(d){return"["+Error.prototype.toString.call(d)+"]"}function p(d,y,w,T,x){for(var K=[],H=0,V=y.length;H<V;++H)B(y,String(H))?K.push(_(d,y,w,T,String(H),!0)):K.push("");return x.forEach(function(ne){ne.match(/^\d+$/)||K.push(_(d,y,w,T,ne,!0))}),K}function _(d,y,w,T,x,K){var H,V,ne;if(ne=Object.getOwnPropertyDescriptor(y,x)||{value:y[x]},ne.get?ne.set?V=d.stylize("[Getter/Setter]","special"):V=d.stylize("[Getter]","special"):ne.set&&(V=d.stylize("[Setter]","special")),B(T,x)||(H="["+x+"]"),V||(d.seen.indexOf(ne.value)<0?(v(w)?V=l(d,ne.value,null):V=l(d,ne.value,w-1),V.indexOf(`
`)>-1&&(K?V=V.split(`
`).map(function(pe){return"  "+pe}).join(`
`).slice(2):V=`
`+V.split(`
`).map(function(pe){return"   "+pe}).join(`
`))):V=d.stylize("[Circular]","special")),k(H)){if(K&&x.match(/^\d+$/))return V;H=JSON.stringify(""+x),H.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=d.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=d.stylize(H,"string"))}return H+": "+V}function m(d,y,w){var T=d.reduce(function(x,K){return K.indexOf(`
`)>=0,x+K.replace(/\u001b\[\d\d?m/g,"").length+1},0);return T>60?w[0]+(y===""?"":y+`
 `)+" "+d.join(`,
  `)+" "+w[1]:w[0]+y+" "+d.join(", ")+" "+w[1]}e.types=_a;function b(d){return Array.isArray(d)}e.isArray=b;function g(d){return typeof d=="boolean"}e.isBoolean=g;function v(d){return d===null}e.isNull=v;function E(d){return d==null}e.isNullOrUndefined=E;function O(d){return typeof d=="number"}e.isNumber=O;function A(d){return typeof d=="string"}e.isString=A;function j(d){return typeof d=="symbol"}e.isSymbol=j;function k(d){return d===void 0}e.isUndefined=k;function R(d){return C(d)&&W(d)==="[object RegExp]"}e.isRegExp=R,e.types.isRegExp=R;function C(d){return typeof d=="object"&&d!==null}e.isObject=C;function L(d){return C(d)&&W(d)==="[object Date]"}e.isDate=L,e.types.isDate=L;function G(d){return C(d)&&(W(d)==="[object Error]"||d instanceof Error)}e.isError=G,e.types.isNativeError=G;function z(d){return typeof d=="function"}e.isFunction=z;function ee(d){return d===null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||typeof d=="symbol"||typeof d>"u"}e.isPrimitive=ee,e.isBuffer=nu;function W(d){return Object.prototype.toString.call(d)}function N(d){return d<10?"0"+d.toString(10):d.toString(10)}var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var d=new Date,y=[N(d.getHours()),N(d.getMinutes()),N(d.getSeconds())].join(":");return[d.getDate(),D[d.getMonth()],y].join(" ")}e.log=function(){console.log("%s - %s",M(),e.format.apply(e,arguments))},e.inherits=ru,e._extend=function(d,y){if(!y||!C(y))return d;for(var w=Object.keys(y),T=w.length;T--;)d[w[T]]=y[w[T]];return d};function B(d,y){return Object.prototype.hasOwnProperty.call(d,y)}var U=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(y){if(typeof y!="function")throw new TypeError('The "original" argument must be of type Function');if(U&&y[U]){var w=y[U];if(typeof w!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(w,U,{value:w,enumerable:!1,writable:!1,configurable:!0}),w}function w(){for(var T,x,K=new Promise(function(ne,pe){T=ne,x=pe}),H=[],V=0;V<arguments.length;V++)H.push(arguments[V]);H.push(function(ne,pe){ne?x(ne):T(pe)});try{y.apply(this,H)}catch(ne){x(ne)}return K}return Object.setPrototypeOf(w,Object.getPrototypeOf(y)),U&&Object.defineProperty(w,U,{value:w,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(w,t(y))},e.promisify.custom=U;function Z(d,y){if(!d){var w=new Error("Promise was rejected with a falsy value");w.reason=d,d=w}return y(d)}function $(d){if(typeof d!="function")throw new TypeError('The "original" argument must be of type Function');function y(){for(var w=[],T=0;T<arguments.length;T++)w.push(arguments[T]);var x=w.pop();if(typeof x!="function")throw new TypeError("The last argument must be of type Function");var K=this,H=function(){return x.apply(K,arguments)};d.apply(this,w).then(function(V){process.nextTick(H.bind(null,null,V))},function(V){process.nextTick(Z.bind(null,V,H))})}return Object.setPrototypeOf(y,Object.getPrototypeOf(d)),Object.defineProperties(y,t(d)),y}e.callbackify=$})(qt);var Ai;function Ka(){if(Ai)return pr;Ai=1;function e(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(g){return typeof g}:e=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(m)}function t(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function n(m,b){return b&&(e(b)==="object"||typeof b=="function")?b:r(m)}function r(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function o(m){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},o(m)}function i(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),b&&a(m,b)}function a(m,b){return a=Object.setPrototypeOf||function(v,E){return v.__proto__=E,v},a(m,b)}var s={},c,h;function l(m,b,g){g||(g=Error);function v(O,A,j){return typeof b=="string"?b:b(O,A,j)}var E=function(O){i(A,O);function A(j,k,R){var C;return t(this,A),C=n(this,o(A).call(this,v(j,k,R))),C.code=m,C}return A}(g);s[m]=E}function f(m,b){if(Array.isArray(m)){var g=m.length;return m=m.map(function(v){return String(v)}),g>2?"one of ".concat(b," ").concat(m.slice(0,g-1).join(", "),", or ")+m[g-1]:g===2?"one of ".concat(b," ").concat(m[0]," or ").concat(m[1]):"of ".concat(b," ").concat(m[0])}else return"of ".concat(b," ").concat(String(m))}function u(m,b,g){return m.substr(!g||g<0?0:+g,b.length)===b}function p(m,b,g){return(g===void 0||g>m.length)&&(g=m.length),m.substring(g-b.length,g)===b}function _(m,b,g){return typeof g!="number"&&(g=0),g+b.length>m.length?!1:m.indexOf(b,g)!==-1}return l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",function(m,b,g){c===void 0&&(c=fo()),c(typeof m=="string","'name' must be a string");var v;typeof b=="string"&&u(b,"not ")?(v="must not be",b=b.replace(/^not /,"")):v="must be";var E;if(p(m," argument"))E="The ".concat(m," ").concat(v," ").concat(f(b,"type"));else{var O=_(m,".")?"property":"argument";E='The "'.concat(m,'" ').concat(O," ").concat(v," ").concat(f(b,"type"))}return E+=". Received type ".concat(e(g)),E},TypeError),l("ERR_INVALID_ARG_VALUE",function(m,b){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";h===void 0&&(h=qt);var v=h.inspect(b);return v.length>128&&(v="".concat(v.slice(0,128),"...")),"The argument '".concat(m,"' ").concat(g,". Received ").concat(v)},TypeError),l("ERR_INVALID_RETURN_VALUE",function(m,b,g){var v;return g&&g.constructor&&g.constructor.name?v="instance of ".concat(g.constructor.name):v="type ".concat(e(g)),"Expected ".concat(m,' to be returned from the "').concat(b,'"')+" function but got ".concat(v,".")},TypeError),l("ERR_MISSING_ARGS",function(){for(var m=arguments.length,b=new Array(m),g=0;g<m;g++)b[g]=arguments[g];c===void 0&&(c=fo()),c(b.length>0,"At least one arg needs to be specified");var v="The ",E=b.length;switch(b=b.map(function(O){return'"'.concat(O,'"')}),E){case 1:v+="".concat(b[0]," argument");break;case 2:v+="".concat(b[0]," and ").concat(b[1]," arguments");break;default:v+=b.slice(0,E-1).join(", "),v+=", and ".concat(b[E-1]," arguments");break}return"".concat(v," must be specified")},TypeError),pr.codes=s,pr}var $r,Si;function ou(){if(Si)return $r;Si=1;function e(N){for(var D=1;D<arguments.length;D++){var M=arguments[D]!=null?arguments[D]:{},B=Object.keys(M);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(M).filter(function(U){return Object.getOwnPropertyDescriptor(M,U).enumerable}))),B.forEach(function(U){t(N,U,M[U])})}return N}function t(N,D,M){return D in N?Object.defineProperty(N,D,{value:M,enumerable:!0,configurable:!0,writable:!0}):N[D]=M,N}function n(N,D){if(!(N instanceof D))throw new TypeError("Cannot call a class as a function")}function r(N,D){for(var M=0;M<D.length;M++){var B=D[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(N,B.key,B)}}function o(N,D,M){return D&&r(N.prototype,D),M&&r(N,M),N}function i(N,D){return D&&(_(D)==="object"||typeof D=="function")?D:a(N)}function a(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function s(N,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(D&&D.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),D&&u(N,D)}function c(N){var D=typeof Map=="function"?new Map:void 0;return c=function(B){if(B===null||!f(B))return B;if(typeof B!="function")throw new TypeError("Super expression must either be null or a function");if(typeof D<"u"){if(D.has(B))return D.get(B);D.set(B,U)}function U(){return l(B,arguments,p(this).constructor)}return U.prototype=Object.create(B.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),u(U,B)},c(N)}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function l(N,D,M){return h()?l=Reflect.construct:l=function(U,Z,$){var d=[null];d.push.apply(d,Z);var y=Function.bind.apply(U,d),w=new y;return $&&u(w,$.prototype),w},l.apply(null,arguments)}function f(N){return Function.toString.call(N).indexOf("[native code]")!==-1}function u(N,D){return u=Object.setPrototypeOf||function(B,U){return B.__proto__=U,B},u(N,D)}function p(N){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},p(N)}function _(N){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(M){return typeof M}:_=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},_(N)}var m=qt,b=m.inspect,g=Ka(),v=g.codes.ERR_INVALID_ARG_TYPE;function E(N,D,M){return(M===void 0||M>N.length)&&(M=N.length),N.substring(M-D.length,M)===D}function O(N,D){if(D=Math.floor(D),N.length==0||D==0)return"";var M=N.length*D;for(D=Math.floor(Math.log(D)/Math.log(2));D;)N+=N,D--;return N+=N.substring(0,M-N.length),N}var A="",j="",k="",R="",C={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},L=10;function G(N){var D=Object.keys(N),M=Object.create(Object.getPrototypeOf(N));return D.forEach(function(B){M[B]=N[B]}),Object.defineProperty(M,"message",{value:N.message}),M}function z(N){return b(N,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function ee(N,D,M){var B="",U="",Z=0,$="",d=!1,y=z(N),w=y.split(`
`),T=z(D).split(`
`),x=0,K="";if(M==="strictEqual"&&_(N)==="object"&&_(D)==="object"&&N!==null&&D!==null&&(M="strictEqualObject"),w.length===1&&T.length===1&&w[0]!==T[0]){var H=w[0].length+T[0].length;if(H<=L){if((_(N)!=="object"||N===null)&&(_(D)!=="object"||D===null)&&(N!==0||D!==0))return"".concat(C[M],`

`)+"".concat(w[0]," !== ").concat(T[0],`
`)}else if(M!=="strictEqualObject"){var V=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(H<V){for(;w[0][x]===T[0][x];)x++;x>2&&(K=`
  `.concat(O(" ",x),"^"),x=0)}}}for(var ne=w[w.length-1],pe=T[T.length-1];ne===pe&&(x++<2?$=`
  `.concat(ne).concat($):B=ne,w.pop(),T.pop(),!(w.length===0||T.length===0));)ne=w[w.length-1],pe=T[T.length-1];var $e=Math.max(w.length,T.length);if($e===0){var Te=y.split(`
`);if(Te.length>30)for(Te[26]="".concat(A,"...").concat(R);Te.length>27;)Te.pop();return"".concat(C.notIdentical,`

`).concat(Te.join(`
`),`
`)}x>3&&($=`
`.concat(A,"...").concat(R).concat($),d=!0),B!==""&&($=`
  `.concat(B).concat($),B="");var ge=0,Le=C[M]+`
`.concat(j,"+ actual").concat(R," ").concat(k,"- expected").concat(R),ut=" ".concat(A,"...").concat(R," Lines skipped");for(x=0;x<$e;x++){var Oe=x-Z;if(w.length<x+1)Oe>1&&x>2&&(Oe>4?(U+=`
`.concat(A,"...").concat(R),d=!0):Oe>3&&(U+=`
  `.concat(T[x-2]),ge++),U+=`
  `.concat(T[x-1]),ge++),Z=x,B+=`
`.concat(k,"-").concat(R," ").concat(T[x]),ge++;else if(T.length<x+1)Oe>1&&x>2&&(Oe>4?(U+=`
`.concat(A,"...").concat(R),d=!0):Oe>3&&(U+=`
  `.concat(w[x-2]),ge++),U+=`
  `.concat(w[x-1]),ge++),Z=x,U+=`
`.concat(j,"+").concat(R," ").concat(w[x]),ge++;else{var Ue=T[x],I=w[x],lt=I!==Ue&&(!E(I,",")||I.slice(0,-1)!==Ue);lt&&E(Ue,",")&&Ue.slice(0,-1)===I&&(lt=!1,I+=","),lt?(Oe>1&&x>2&&(Oe>4?(U+=`
`.concat(A,"...").concat(R),d=!0):Oe>3&&(U+=`
  `.concat(w[x-2]),ge++),U+=`
  `.concat(w[x-1]),ge++),Z=x,U+=`
`.concat(j,"+").concat(R," ").concat(I),B+=`
`.concat(k,"-").concat(R," ").concat(Ue),ge+=2):(U+=B,B="",(Oe===1||x===0)&&(U+=`
  `.concat(I),ge++))}if(ge>20&&x<$e-2)return"".concat(Le).concat(ut,`
`).concat(U,`
`).concat(A,"...").concat(R).concat(B,`
`)+"".concat(A,"...").concat(R)}return"".concat(Le).concat(d?ut:"",`
`).concat(U).concat(B).concat($).concat(K)}var W=function(N){s(D,N);function D(M){var B;if(n(this,D),_(M)!=="object"||M===null)throw new v("options","Object",M);var U=M.message,Z=M.operator,$=M.stackStartFn,d=M.actual,y=M.expected,w=Error.stackTraceLimit;if(Error.stackTraceLimit=0,U!=null)B=i(this,p(D).call(this,String(U)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(A="\x1B[34m",j="\x1B[32m",R="\x1B[39m",k="\x1B[31m"):(A="",j="",R="",k="")),_(d)==="object"&&d!==null&&_(y)==="object"&&y!==null&&"stack"in d&&d instanceof Error&&"stack"in y&&y instanceof Error&&(d=G(d),y=G(y)),Z==="deepStrictEqual"||Z==="strictEqual")B=i(this,p(D).call(this,ee(d,y,Z)));else if(Z==="notDeepStrictEqual"||Z==="notStrictEqual"){var T=C[Z],x=z(d).split(`
`);if(Z==="notStrictEqual"&&_(d)==="object"&&d!==null&&(T=C.notStrictEqualObject),x.length>30)for(x[26]="".concat(A,"...").concat(R);x.length>27;)x.pop();x.length===1?B=i(this,p(D).call(this,"".concat(T," ").concat(x[0]))):B=i(this,p(D).call(this,"".concat(T,`

`).concat(x.join(`
`),`
`)))}else{var K=z(d),H="",V=C[Z];Z==="notDeepEqual"||Z==="notEqual"?(K="".concat(C[Z],`

`).concat(K),K.length>1024&&(K="".concat(K.slice(0,1021),"..."))):(H="".concat(z(y)),K.length>512&&(K="".concat(K.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),Z==="deepEqual"||Z==="equal"?K="".concat(V,`

`).concat(K,`

should equal

`):H=" ".concat(Z," ").concat(H)),B=i(this,p(D).call(this,"".concat(K).concat(H)))}return Error.stackTraceLimit=w,B.generatedMessage=!U,Object.defineProperty(a(B),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),B.code="ERR_ASSERTION",B.actual=d,B.expected=y,B.operator=Z,Error.captureStackTrace&&Error.captureStackTrace(a(B),$),B.stack,B.name="AssertionError",i(B)}return o(D,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:b.custom,value:function(B,U){return b(this,e({},U,{customInspect:!1,depth:0}))}}]),D}(c(Error));return $r=W,$r}var xr,Ei;function iu(){if(Ei)return xr;Ei=1;function e(n,r){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var o=Object(n),i=1;i<arguments.length;i++){var a=arguments[i];if(a!=null)for(var s=Object.keys(Object(a)),c=0,h=s.length;c<h;c++){var l=s[c],f=Object.getOwnPropertyDescriptor(a,l);f!==void 0&&f.enumerable&&(o[l]=a[l])}}return o}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}return xr={assign:e,polyfill:t},xr}var kr,Oi;function La(){if(Oi)return kr;Oi=1;var e=Object.prototype.toString;return kr=function(n){var r=e.call(n),o=r==="[object Arguments]";return o||(o=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),o},kr}var Tr,Pi;function au(){if(Pi)return Tr;Pi=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=La(),o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(u){var p=u.constructor;return p&&p.prototype===u},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},l=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!h["$"+u]&&t.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{c(window[u])}catch{return!0}}catch{return!0}return!1}(),f=function(u){if(typeof window>"u"||!l)return c(u);try{return c(u)}catch{return!1}};e=function(p){var _=p!==null&&typeof p=="object",m=n.call(p)==="[object Function]",b=r(p),g=_&&n.call(p)==="[object String]",v=[];if(!_&&!m&&!b)throw new TypeError("Object.keys called on a non-object");var E=a&&m;if(g&&p.length>0&&!t.call(p,0))for(var O=0;O<p.length;++O)v.push(String(O));if(b&&p.length>0)for(var A=0;A<p.length;++A)v.push(String(A));else for(var j in p)!(E&&j==="prototype")&&t.call(p,j)&&v.push(String(j));if(i)for(var k=f(p),R=0;R<s.length;++R)!(k&&s[R]==="constructor")&&t.call(p,s[R])&&v.push(s[R]);return v}}return Tr=e,Tr}var Ir,ji;function su(){if(ji)return Ir;ji=1;var e=Array.prototype.slice,t=La(),n=Object.keys,r=n?function(a){return n(a)}:au(),o=Object.keys;return r.shim=function(){if(Object.keys){var a=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);a||(Object.keys=function(c){return t(c)?o(e.call(c)):o(c)})}else Object.keys=r;return Object.keys||r},Ir=r,Ir}var Rr,$i;function cu(){if($i)return Rr;$i=1;var e=or(),t=e("%Object.defineProperty%",!0),n=function(){if(t)try{return t({},"a",{value:1}),!0}catch{return!1}return!1};return n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Rr=n,Rr}var Cr,xi;function ar(){if(xi)return Cr;xi=1;var e=su(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,o=Object.defineProperty,i=function(l){return typeof l=="function"&&n.call(l)==="[object Function]"},a=cu()(),s=o&&a,c=function(l,f,u,p){if(f in l){if(p===!0){if(l[f]===u)return}else if(!i(p)||!p())return}s?o(l,f,{configurable:!0,enumerable:!1,value:u,writable:!0}):l[f]=u},h=function(l,f){var u=arguments.length>2?arguments[2]:{},p=e(f);t&&(p=r.call(p,Object.getOwnPropertySymbols(f)));for(var _=0;_<p.length;_+=1)c(l,p[_],f[p[_]],u[p[_]])};return h.supportsDescriptors=!!s,Cr=h,Cr}var Dr,ki;function Ua(){if(ki)return Dr;ki=1;var e=function(t){return t!==t};return Dr=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},Dr}var Nr,Ti;function Va(){if(Ti)return Nr;Ti=1;var e=Ua();return Nr=function(){return typeof Object.is=="function"?Object.is:e},Nr}var Br,Ii;function uu(){if(Ii)return Br;Ii=1;var e=Va(),t=ar();return Br=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},Br}var Mr,Ri;function Ga(){if(Ri)return Mr;Ri=1;var e=ar(),t=Go(),n=Ua(),r=Va(),o=uu(),i=t(r(),Object);return e(i,{getPolyfill:r,implementation:n,shim:o}),Mr=i,Mr}var Fr,Ci;function za(){return Ci||(Ci=1,Fr=function(t){return t!==t}),Fr}var qr,Di;function Wa(){if(Di)return qr;Di=1;var e=za();return qr=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},qr}var Kr,Ni;function lu(){if(Ni)return Kr;Ni=1;var e=ar(),t=Wa();return Kr=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},Kr}var Lr,Bi;function fu(){if(Bi)return Lr;Bi=1;var e=Go(),t=ar(),n=za(),r=Wa(),o=lu(),i=e(r(),Number);return t(i,{getPolyfill:r,implementation:n,shim:o}),Lr=i,Lr}var Ur,Mi;function du(){if(Mi)return Ur;Mi=1;function e(S,P){return r(S)||n(S,P)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(S,P){var F=[],Y=!0,J=!1,re=void 0;try{for(var te=S[Symbol.iterator](),ie;!(Y=(ie=te.next()).done)&&(F.push(ie.value),!(P&&F.length===P));Y=!0);}catch(oe){J=!0,re=oe}finally{try{!Y&&te.return!=null&&te.return()}finally{if(J)throw re}}return F}function r(S){if(Array.isArray(S))return S}function o(S){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(F){return typeof F}:o=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o(S)}var i=/a/g.flags!==void 0,a=function(P){var F=[];return P.forEach(function(Y){return F.push(Y)}),F},s=function(P){var F=[];return P.forEach(function(Y,J){return F.push([J,Y])}),F},c=Object.is?Object.is:Ga(),h=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:fu();function f(S){return S.call.bind(S)}var u=f(Object.prototype.hasOwnProperty),p=f(Object.prototype.propertyIsEnumerable),_=f(Object.prototype.toString),m=qt.types,b=m.isAnyArrayBuffer,g=m.isArrayBufferView,v=m.isDate,E=m.isMap,O=m.isRegExp,A=m.isSet,j=m.isNativeError,k=m.isBoxedPrimitive,R=m.isNumberObject,C=m.isStringObject,L=m.isBooleanObject,G=m.isBigIntObject,z=m.isSymbolObject,ee=m.isFloat32Array,W=m.isFloat64Array;function N(S){if(S.length===0||S.length>10)return!0;for(var P=0;P<S.length;P++){var F=S.charCodeAt(P);if(F<48||F>57)return!0}return S.length===10&&S>=Math.pow(2,32)}function D(S){return Object.keys(S).filter(N).concat(h(S).filter(Object.prototype.propertyIsEnumerable.bind(S)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function M(S,P){if(S===P)return 0;for(var F=S.length,Y=P.length,J=0,re=Math.min(F,Y);J<re;++J)if(S[J]!==P[J]){F=S[J],Y=P[J];break}return F<Y?-1:Y<F?1:0}var B=!0,U=!1,Z=0,$=1,d=2,y=3;function w(S,P){return i?S.source===P.source&&S.flags===P.flags:RegExp.prototype.toString.call(S)===RegExp.prototype.toString.call(P)}function T(S,P){if(S.byteLength!==P.byteLength)return!1;for(var F=0;F<S.byteLength;F++)if(S[F]!==P[F])return!1;return!0}function x(S,P){return S.byteLength!==P.byteLength?!1:M(new Uint8Array(S.buffer,S.byteOffset,S.byteLength),new Uint8Array(P.buffer,P.byteOffset,P.byteLength))===0}function K(S,P){return S.byteLength===P.byteLength&&M(new Uint8Array(S),new Uint8Array(P))===0}function H(S,P){return R(S)?R(P)&&c(Number.prototype.valueOf.call(S),Number.prototype.valueOf.call(P)):C(S)?C(P)&&String.prototype.valueOf.call(S)===String.prototype.valueOf.call(P):L(S)?L(P)&&Boolean.prototype.valueOf.call(S)===Boolean.prototype.valueOf.call(P):G(S)?G(P)&&BigInt.prototype.valueOf.call(S)===BigInt.prototype.valueOf.call(P):z(P)&&Symbol.prototype.valueOf.call(S)===Symbol.prototype.valueOf.call(P)}function V(S,P,F,Y){if(S===P)return S!==0?!0:F?c(S,P):!0;if(F){if(o(S)!=="object")return typeof S=="number"&&l(S)&&l(P);if(o(P)!=="object"||S===null||P===null||Object.getPrototypeOf(S)!==Object.getPrototypeOf(P))return!1}else{if(S===null||o(S)!=="object")return P===null||o(P)!=="object"?S==P:!1;if(P===null||o(P)!=="object")return!1}var J=_(S),re=_(P);if(J!==re)return!1;if(Array.isArray(S)){if(S.length!==P.length)return!1;var te=D(S),ie=D(P);return te.length!==ie.length?!1:pe(S,P,F,Y,$,te)}if(J==="[object Object]"&&(!E(S)&&E(P)||!A(S)&&A(P)))return!1;if(v(S)){if(!v(P)||Date.prototype.getTime.call(S)!==Date.prototype.getTime.call(P))return!1}else if(O(S)){if(!O(P)||!w(S,P))return!1}else if(j(S)||S instanceof Error){if(S.message!==P.message||S.name!==P.name)return!1}else if(g(S)){if(!F&&(ee(S)||W(S))){if(!T(S,P))return!1}else if(!x(S,P))return!1;var oe=D(S),xe=D(P);return oe.length!==xe.length?!1:pe(S,P,F,Y,Z,oe)}else{if(A(S))return!A(P)||S.size!==P.size?!1:pe(S,P,F,Y,d);if(E(S))return!E(P)||S.size!==P.size?!1:pe(S,P,F,Y,y);if(b(S)){if(!K(S,P))return!1}else if(k(S)&&!H(S,P))return!1}return pe(S,P,F,Y,Z)}function ne(S,P){return P.filter(function(F){return p(S,F)})}function pe(S,P,F,Y,J,re){if(arguments.length===5){re=Object.keys(S);var te=Object.keys(P);if(re.length!==te.length)return!1}for(var ie=0;ie<re.length;ie++)if(!u(P,re[ie]))return!1;if(F&&arguments.length===5){var oe=h(S);if(oe.length!==0){var xe=0;for(ie=0;ie<oe.length;ie++){var Ie=oe[ie];if(p(S,Ie)){if(!p(P,Ie))return!1;re.push(Ie),xe++}else if(p(P,Ie))return!1}var Gt=h(P);if(oe.length!==Gt.length&&ne(P,Gt).length!==xe)return!1}else{var Et=h(P);if(Et.length!==0&&ne(P,Et).length!==0)return!1}}if(re.length===0&&(J===Z||J===$&&S.length===0||S.size===0))return!0;if(Y===void 0)Y={val1:new Map,val2:new Map,position:0};else{var zt=Y.val1.get(S);if(zt!==void 0){var Ot=Y.val2.get(P);if(Ot!==void 0)return zt===Ot}Y.position++}Y.val1.set(S,Y.position),Y.val2.set(P,Y.position);var xs=I(S,P,F,re,Y,J);return Y.val1.delete(S),Y.val2.delete(P),xs}function $e(S,P,F,Y){for(var J=a(S),re=0;re<J.length;re++){var te=J[re];if(V(P,te,F,Y))return S.delete(te),!0}return!1}function Te(S){switch(o(S)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":S=+S;case"number":if(l(S))return!1}return!0}function ge(S,P,F){var Y=Te(F);return Y??(P.has(Y)&&!S.has(Y))}function Le(S,P,F,Y,J){var re=Te(F);if(re!=null)return re;var te=P.get(re);return te===void 0&&!P.has(re)||!V(Y,te,!1,J)?!1:!S.has(re)&&V(Y,te,!1,J)}function ut(S,P,F,Y){for(var J=null,re=a(S),te=0;te<re.length;te++){var ie=re[te];if(o(ie)==="object"&&ie!==null)J===null&&(J=new Set),J.add(ie);else if(!P.has(ie)){if(F||!ge(S,P,ie))return!1;J===null&&(J=new Set),J.add(ie)}}if(J!==null){for(var oe=a(P),xe=0;xe<oe.length;xe++){var Ie=oe[xe];if(o(Ie)==="object"&&Ie!==null){if(!$e(J,Ie,F,Y))return!1}else if(!F&&!S.has(Ie)&&!$e(J,Ie,F,Y))return!1}return J.size===0}return!0}function Oe(S,P,F,Y,J,re){for(var te=a(S),ie=0;ie<te.length;ie++){var oe=te[ie];if(V(F,oe,J,re)&&V(Y,P.get(oe),J,re))return S.delete(oe),!0}return!1}function Ue(S,P,F,Y){for(var J=null,re=s(S),te=0;te<re.length;te++){var ie=e(re[te],2),oe=ie[0],xe=ie[1];if(o(oe)==="object"&&oe!==null)J===null&&(J=new Set),J.add(oe);else{var Ie=P.get(oe);if(Ie===void 0&&!P.has(oe)||!V(xe,Ie,F,Y)){if(F||!Le(S,P,oe,xe,Y))return!1;J===null&&(J=new Set),J.add(oe)}}}if(J!==null){for(var Gt=s(P),Et=0;Et<Gt.length;Et++){var zt=e(Gt[Et],2),oe=zt[0],Ot=zt[1];if(o(oe)==="object"&&oe!==null){if(!Oe(J,S,oe,Ot,F,Y))return!1}else if(!F&&(!S.has(oe)||!V(S.get(oe),Ot,!1,Y))&&!Oe(J,S,oe,Ot,!1,Y))return!1}return J.size===0}return!0}function I(S,P,F,Y,J,re){var te=0;if(re===d){if(!ut(S,P,F,J))return!1}else if(re===y){if(!Ue(S,P,F,J))return!1}else if(re===$)for(;te<S.length;te++)if(u(S,te)){if(!u(P,te)||!V(S[te],P[te],F,J))return!1}else{if(u(P,te))return!1;for(var ie=Object.keys(S);te<ie.length;te++){var oe=ie[te];if(!u(P,oe)||!V(S[oe],P[oe],F,J))return!1}return ie.length===Object.keys(P).length}for(te=0;te<Y.length;te++){var xe=Y[te];if(!V(S[xe],P[xe],F,J))return!1}return!0}function lt(S,P){return V(S,P,U)}function ci(S,P){return V(S,P,B)}return Ur={isDeepEqual:lt,isDeepStrictEqual:ci},Ur}var Fi;function fo(){if(Fi)return hr.exports;Fi=1;function e($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(y){return typeof y}:e=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e($)}function t($,d){if(!($ instanceof d))throw new TypeError("Cannot call a class as a function")}var n=Ka(),r=n.codes,o=r.ERR_AMBIGUOUS_ARGUMENT,i=r.ERR_INVALID_ARG_TYPE,a=r.ERR_INVALID_ARG_VALUE,s=r.ERR_INVALID_RETURN_VALUE,c=r.ERR_MISSING_ARGS,h=ou(),l=qt,f=l.inspect,u=qt.types,p=u.isPromise,_=u.isRegExp,m=Object.assign?Object.assign:iu().assign,b=Object.is?Object.is:Ga(),g,v;function E(){var $=du();g=$.isDeepEqual,v=$.isDeepStrictEqual}var O=!1,A=hr.exports=L,j={};function k($){throw $.message instanceof Error?$.message:new h($)}function R($,d,y,w,T){var x=arguments.length,K;if(x===0)K="Failed";else if(x===1)y=$,$=void 0;else{if(O===!1){O=!0;var H=process.emitWarning?process.emitWarning:console.warn.bind(console);H("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}x===2&&(w="!=")}if(y instanceof Error)throw y;var V={actual:$,expected:d,operator:w===void 0?"fail":w,stackStartFn:T||R};y!==void 0&&(V.message=y);var ne=new h(V);throw K&&(ne.message=K,ne.generatedMessage=!0),ne}A.fail=R,A.AssertionError=h;function C($,d,y,w){if(!y){var T=!1;if(d===0)T=!0,w="No value argument passed to `assert.ok()`";else if(w instanceof Error)throw w;var x=new h({actual:y,expected:!0,message:w,operator:"==",stackStartFn:$});throw x.generatedMessage=T,x}}function L(){for(var $=arguments.length,d=new Array($),y=0;y<$;y++)d[y]=arguments[y];C.apply(void 0,[L,d.length].concat(d))}A.ok=L,A.equal=function $(d,y,w){if(arguments.length<2)throw new c("actual","expected");d!=y&&k({actual:d,expected:y,message:w,operator:"==",stackStartFn:$})},A.notEqual=function $(d,y,w){if(arguments.length<2)throw new c("actual","expected");d==y&&k({actual:d,expected:y,message:w,operator:"!=",stackStartFn:$})},A.deepEqual=function $(d,y,w){if(arguments.length<2)throw new c("actual","expected");g===void 0&&E(),g(d,y)||k({actual:d,expected:y,message:w,operator:"deepEqual",stackStartFn:$})},A.notDeepEqual=function $(d,y,w){if(arguments.length<2)throw new c("actual","expected");g===void 0&&E(),g(d,y)&&k({actual:d,expected:y,message:w,operator:"notDeepEqual",stackStartFn:$})},A.deepStrictEqual=function $(d,y,w){if(arguments.length<2)throw new c("actual","expected");g===void 0&&E(),v(d,y)||k({actual:d,expected:y,message:w,operator:"deepStrictEqual",stackStartFn:$})},A.notDeepStrictEqual=G;function G($,d,y){if(arguments.length<2)throw new c("actual","expected");g===void 0&&E(),v($,d)&&k({actual:$,expected:d,message:y,operator:"notDeepStrictEqual",stackStartFn:G})}A.strictEqual=function $(d,y,w){if(arguments.length<2)throw new c("actual","expected");b(d,y)||k({actual:d,expected:y,message:w,operator:"strictEqual",stackStartFn:$})},A.notStrictEqual=function $(d,y,w){if(arguments.length<2)throw new c("actual","expected");b(d,y)&&k({actual:d,expected:y,message:w,operator:"notStrictEqual",stackStartFn:$})};var z=function $(d,y,w){var T=this;t(this,$),y.forEach(function(x){x in d&&(w!==void 0&&typeof w[x]=="string"&&_(d[x])&&d[x].test(w[x])?T[x]=w[x]:T[x]=d[x])})};function ee($,d,y,w,T,x){if(!(y in $)||!v($[y],d[y])){if(!w){var K=new z($,T),H=new z(d,T,$),V=new h({actual:K,expected:H,operator:"deepStrictEqual",stackStartFn:x});throw V.actual=$,V.expected=d,V.operator=x.name,V}k({actual:$,expected:d,message:w,operator:x.name,stackStartFn:x})}}function W($,d,y,w){if(typeof d!="function"){if(_(d))return d.test($);if(arguments.length===2)throw new i("expected",["Function","RegExp"],d);if(e($)!=="object"||$===null){var T=new h({actual:$,expected:d,message:y,operator:"deepStrictEqual",stackStartFn:w});throw T.operator=w.name,T}var x=Object.keys(d);if(d instanceof Error)x.push("name","message");else if(x.length===0)throw new a("error",d,"may not be an empty object");return g===void 0&&E(),x.forEach(function(K){typeof $[K]=="string"&&_(d[K])&&d[K].test($[K])||ee($,d,K,y,x,w)}),!0}return d.prototype!==void 0&&$ instanceof d?!0:Error.isPrototypeOf(d)?!1:d.call({},$)===!0}function N($){if(typeof $!="function")throw new i("fn","Function",$);try{$()}catch(d){return d}return j}function D($){return p($)||$!==null&&e($)==="object"&&typeof $.then=="function"&&typeof $.catch=="function"}function M($){return Promise.resolve().then(function(){var d;if(typeof $=="function"){if(d=$(),!D(d))throw new s("instance of Promise","promiseFn",d)}else if(D($))d=$;else throw new i("promiseFn",["Function","Promise"],$);return Promise.resolve().then(function(){return d}).then(function(){return j}).catch(function(y){return y})})}function B($,d,y,w){if(typeof y=="string"){if(arguments.length===4)throw new i("error",["Object","Error","Function","RegExp"],y);if(e(d)==="object"&&d!==null){if(d.message===y)throw new o("error/message",'The error message "'.concat(d.message,'" is identical to the message.'))}else if(d===y)throw new o("error/message",'The error "'.concat(d,'" is identical to the message.'));w=y,y=void 0}else if(y!=null&&e(y)!=="object"&&typeof y!="function")throw new i("error",["Object","Error","Function","RegExp"],y);if(d===j){var T="";y&&y.name&&(T+=" (".concat(y.name,")")),T+=w?": ".concat(w):".";var x=$.name==="rejects"?"rejection":"exception";k({actual:void 0,expected:y,operator:$.name,message:"Missing expected ".concat(x).concat(T),stackStartFn:$})}if(y&&!W(d,y,w,$))throw d}function U($,d,y,w){if(d!==j){if(typeof y=="string"&&(w=y,y=void 0),!y||W(d,y)){var T=w?": ".concat(w):".",x=$.name==="doesNotReject"?"rejection":"exception";k({actual:d,expected:y,operator:$.name,message:"Got unwanted ".concat(x).concat(T,`
`)+'Actual message: "'.concat(d&&d.message,'"'),stackStartFn:$})}throw d}}A.throws=function $(d){for(var y=arguments.length,w=new Array(y>1?y-1:0),T=1;T<y;T++)w[T-1]=arguments[T];B.apply(void 0,[$,N(d)].concat(w))},A.rejects=function $(d){for(var y=arguments.length,w=new Array(y>1?y-1:0),T=1;T<y;T++)w[T-1]=arguments[T];return M(d).then(function(x){return B.apply(void 0,[$,x].concat(w))})},A.doesNotThrow=function $(d){for(var y=arguments.length,w=new Array(y>1?y-1:0),T=1;T<y;T++)w[T-1]=arguments[T];U.apply(void 0,[$,N(d)].concat(w))},A.doesNotReject=function $(d){for(var y=arguments.length,w=new Array(y>1?y-1:0),T=1;T<y;T++)w[T-1]=arguments[T];return M(d).then(function(x){return U.apply(void 0,[$,x].concat(w))})},A.ifError=function $(d){if(d!=null){var y="ifError got unwanted exception: ";e(d)==="object"&&typeof d.message=="string"?d.message.length===0&&d.constructor?y+=d.constructor.name:y+=d.message:y+=f(d);var w=new h({actual:d,expected:null,operator:"ifError",message:y,stackStartFn:$}),T=d.stack;if(typeof T=="string"){var x=T.split(`
`);x.shift();for(var K=w.stack.split(`
`),H=0;H<x.length;H++){var V=K.indexOf(x[H]);if(V!==-1){K=K.slice(0,V);break}}w.stack="".concat(K.join(`
`),`
`).concat(x.join(`
`))}throw w}};function Z(){for(var $=arguments.length,d=new Array($),y=0;y<$;y++)d[y]=arguments[y];C.apply(void 0,[Z,d.length].concat(d))}return A.strict=m(Z,A,{equal:A.strictEqual,deepEqual:A.deepStrictEqual,notEqual:A.notStrictEqual,notDeepEqual:A.notDeepStrictEqual}),A.strict.strict=A.strict,hr.exports}var hu=fo();const Ha=uc(hu),de=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,me=Object.keys,Se=Array.isArray;function je(e,t){return typeof t!="object"||me(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||de.Promise||(de.Promise=Promise);const on=Object.getPrototypeOf,pu={}.hasOwnProperty;function De(e,t){return pu.call(e,t)}function Kt(e,t){typeof t=="function"&&(t=t(on(e))),(typeof Reflect>"u"?me:Reflect.ownKeys)(t).forEach(n=>{Xe(e,n,t[n])})}const Ya=Object.defineProperty;function Xe(e,t,n,r){Ya(e,t,je(n&&De(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Rt(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Xe(e.prototype,"constructor",e),{extend:Kt.bind(null,e.prototype)}}}}const yu=Object.getOwnPropertyDescriptor;function Ho(e,t){let n;return yu(e,t)||(n=on(e))&&Ho(n,t)}const gu=[].slice;function Gn(e,t,n){return gu.call(e,t,n)}function Ja(e,t){return t(e)}function Jt(e){if(!e)throw new Error("Assertion Failed")}function Xa(e){de.setImmediate?setImmediate(e):setTimeout(e,0)}function Qa(e,t){return e.reduce((n,r,o)=>{var i=t(r,o);return i&&(n[i[0]]=i[1]),n},{})}function Qe(e,t){if(De(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,o=t.length;r<o;++r){var i=Qe(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(a!==-1){var s=e[t.substr(0,a)];return s===void 0?void 0:Qe(s,t.substr(a+1))}}function Ne(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Jt(typeof n!="string"&&"length"in n);for(var r=0,o=t.length;r<o;++r)Ne(e,t[r],n[r])}else{var i=t.indexOf(".");if(i!==-1){var a=t.substr(0,i),s=t.substr(i+1);if(s==="")n===void 0?Se(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var c=e[a];c&&De(e,a)||(c=e[a]={}),Ne(c,s,n)}}else n===void 0?Se(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Za(e){var t={};for(var n in e)De(e,n)&&(t[n]=e[n]);return t}const mu=[].concat;function es(e){return mu.apply([],e)}const ts="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(es([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>de[e]),bu=ts.map(e=>de[e]);Qa(ts,e=>[e,!0]);let nt=null;function hn(e){nt=typeof WeakMap<"u"&&new WeakMap;const t=ho(e);return nt=null,t}function ho(e){if(!e||typeof e!="object")return e;let t=nt&&nt.get(e);if(t)return t;if(Se(e)){t=[],nt&&nt.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(ho(e[n]))}else if(bu.indexOf(e.constructor)>=0)t=e;else{const i=on(e);for(var o in t=i===Object.prototype?{}:Object.create(i),nt&&nt.set(e,t),e)De(e,o)&&(t[o]=ho(e[o]))}return t}const{toString:vu}={};function po(e){return vu.call(e).slice(8,-1)}const yo=typeof Symbol<"u"?Symbol.iterator:"@@iterator",wu=typeof yo=="symbol"?function(e){var t;return e!=null&&(t=e[yo])&&t.apply(e)}:function(){return null},xt={};function He(e){var t,n,r,o;if(arguments.length===1){if(Se(e))return e.slice();if(this===xt&&typeof e=="string")return[e];if(o=wu(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Yo=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Ke=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ns(e,t){Ke=e,rs=t}var rs=()=>!0;const _u=!new Error("").stack;function St(){if(_u)try{throw St.arguments,new Error}catch(e){return e}return new Error}function go(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(rs).map(r=>`
`+r).join("")):""}var os=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Jo=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(os),Au={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ct(e,t){this._e=St(),this.name=e,this.message=t}function is(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,o)=>o.indexOf(n)===r).join(`
`)}function zn(e,t,n,r){this._e=St(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=is(e,t)}function Qt(e,t){this._e=St(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=is(e,t)}Rt(Ct).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+go(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Rt(zn).from(Ct),Rt(Qt).from(Ct);var Xo=Jo.reduce((e,t)=>(e[t]=t+"Error",e),{});const Su=Ct;var Q=Jo.reduce((e,t)=>{var n=t+"Error";function r(o,i){this._e=St(),this.name=n,o?typeof o=="string"?(this.message=`${o}${i?`
 `+i:""}`,this.inner=i||null):typeof o=="object"&&(this.message=`${o.name} ${o.message}`,this.inner=o):(this.message=Au[t]||n,this.inner=null)}return Rt(r).from(Su),e[t]=r,e},{});Q.Syntax=SyntaxError,Q.Type=TypeError,Q.Range=RangeError;var qi=os.reduce((e,t)=>(e[t+"Error"]=Q[t],e),{}),In=Jo.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Q[t]),e),{});function ce(){}function an(e){return e}function Eu(e,t){return e==null||e===an?t:function(n){return t(e(n))}}function _t(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ou(e,t){return e===ce?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?_t(r,this.onsuccess):r),o&&(this.onerror=this.onerror?_t(o,this.onerror):o),i!==void 0?i:n}}function Pu(e,t){return e===ce?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?_t(n,this.onsuccess):n),r&&(this.onerror=this.onerror?_t(r,this.onerror):r)}}function ju(e,t){return e===ce?t:function(n){var r=e.apply(this,arguments);je(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?_t(o,this.onsuccess):o),i&&(this.onerror=this.onerror?_t(i,this.onerror):i),r===void 0?a===void 0?void 0:a:je(r,a)}}function $u(e,t){return e===ce?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Qo(e,t){return e===ce?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}In.ModifyError=zn,In.DexieError=Ct,In.BulkError=Qt;var sn={};const[mo,Wn,bo]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,on(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,on(t),e]})(),as=Wn&&Wn.then,Rn=mo&&mo.constructor,Zo=!!bo;var vo=!1,xu=bo?()=>{bo.then(mn)}:de.setImmediate?setImmediate.bind(null,mn):de.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{mn(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(mn,0)},Zt=function(e,t){Xt.push([e,t]),Hn&&(xu(),Hn=!1)},wo=!0,Hn=!0,mt=[],Cn=[],_o=null,Ao=an,Dt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Li,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{Li(e[0],e[1])}catch{}})}},X=Dt,Xt=[],bt=0,Dn=[];function q(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ce,this._lib=!1;var t=this._PSD=X;if(Ke&&(this._stackHolder=St(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==sn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Eo(this,this._value))}this._state=null,this._value=null,++t.ref,cs(this,e)}const So={get:function(){var e=X,t=Yn;function n(r,o){var i=!e.global&&(e!==X||t!==Yn);const a=i&&!Ze();var s=new q((c,h)=>{ei(this,new ss(Jn(r,e,i,a),Jn(o,e,i,a),c,h,e))});return Ke&&fs(s,this),s}return n.prototype=sn,n},set:function(e){Xe(this,"then",e&&e.prototype===sn?So:{get:function(){return e},set:So.set})}};function ss(e,t,n,r,o){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=o}function cs(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&pn();n&&typeof n.then=="function"?cs(e,(o,i)=>{n instanceof q?n._then(o,i):n.then(o,i)}):(e._state=!0,e._value=n,us(e)),r&&yn()}},Eo.bind(null,e))}catch(n){Eo(e,n)}}function Eo(e,t){if(Cn.push(t),e._state===null){var n=e._lib&&pn();t=Ao(t),e._state=!1,e._value=t,Ke&&t!==null&&typeof t=="object"&&!t._promise&&function(r,o,i){try{r.apply(null,i)}catch(a){o&&o(a)}}(()=>{var r=Ho(t,"stack");t._promise=e,Xe(t,"stack",{get:()=>vo?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){mt.some(o=>o._value===r._value)||mt.push(r)}(e),us(e),n&&yn()}}function us(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ei(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),bt===0&&(++bt,Zt(()=>{--bt==0&&ti()},[]))}function ei(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++bt,Zt(ku,[n,e,t])}else e._listeners.push(t)}function ku(e,t,n){try{_o=t;var r,o=t._value;t._state?r=e(o):(Cn.length&&(Cn=[]),r=e(o),Cn.indexOf(o)===-1&&function(i){for(var a=mt.length;a;)if(mt[--a]._value===i._value)return void mt.splice(a,1)}(t)),n.resolve(r)}catch(i){n.reject(i)}finally{_o=null,--bt==0&&ti(),--n.psd.ref||n.psd.finalize()}}function ls(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var o,i,a=e._value;a!=null?(o=a.name||"Error",i=a.message||a,r=go(a,0)):(o=a,i=""),t.push(o+(i?": "+i:"")+r)}return Ke&&((r=go(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&ls(e._prev,t,n)),t}function fs(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function mn(){pn()&&yn()}function pn(){var e=wo;return wo=!1,Hn=!1,e}function yn(){var e,t,n;do for(;Xt.length>0;)for(e=Xt,Xt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Xt.length>0);wo=!0,Hn=!0}function ti(){var e=mt;mt=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=Dn.slice(0),n=t.length;n;)t[--n]()}function bn(e){return new q(sn,!1,e)}function he(e,t){var n=X;return function(){var r=pn(),o=X;try{return at(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{at(o,!1),r&&yn()}}}Kt(q.prototype,{then:So,_then:function(e,t){ei(this,new ss(null,null,e,t,X))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):bn(r)):this.then(null,r=>r&&r.name===t?n(r):bn(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),bn(t)))},stack:{get:function(){if(this._stack)return this._stack;try{vo=!0;var e=ls(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{vo=!1}}},timeout:function(e,t){return e<1/0?new q((n,r)=>{var o=setTimeout(()=>r(new Q.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,o))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Xe(q.prototype,Symbol.toStringTag,"Dexie.Promise"),Dt.env=ds(),Kt(q,{all:function(){var e=He.apply(null,arguments).map(vn);return new q(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((o,i)=>q.resolve(o).then(a=>{e[i]=a,--r||t(e)},n))})},resolve:e=>{if(e instanceof q)return e;if(e&&typeof e.then=="function")return new q((n,r)=>{e.then(n,r)});var t=new q(sn,!0,e);return fs(t,_o),t},reject:bn,race:function(){var e=He.apply(null,arguments).map(vn);return new q((t,n)=>{e.map(r=>q.resolve(r).then(t,n))})},PSD:{get:()=>X,set:e=>X=e},totalEchoes:{get:()=>Yn},newPSD:it,usePSD:Vt,scheduler:{get:()=>Zt,set:e=>{Zt=e}},rejectionMapper:{get:()=>Ao,set:e=>{Ao=e}},follow:(e,t)=>new q((n,r)=>it((o,i)=>{var a=X;a.unhandleds=[],a.onunhandled=i,a.finalize=_t(function(){(function(s){function c(){s(),Dn.splice(Dn.indexOf(c),1)}Dn.push(c),++bt,Zt(()=>{--bt==0&&ti()},[])})(()=>{this.unhandleds.length===0?o():i(this.unhandleds[0])})},a.finalize),e()},t,n,r))}),Rn&&(Rn.allSettled&&Xe(q,"allSettled",function(){const e=He.apply(null,arguments).map(vn);return new q(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((o,i)=>q.resolve(o).then(a=>r[i]={status:"fulfilled",value:a},a=>r[i]={status:"rejected",reason:a}).then(()=>--n||t(r)))})}),Rn.any&&typeof AggregateError<"u"&&Xe(q,"any",function(){const e=He.apply(null,arguments).map(vn);return new q((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const o=new Array(r);e.forEach((i,a)=>q.resolve(i).then(s=>t(s),s=>{o[a]=s,--r||n(new AggregateError(o))}))})}));const Ae={awaits:0,echoes:0,id:0};var Tu=0,Nn=[],Vr=0,Yn=0,Iu=0;function it(e,t,n,r){var o=X,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Iu;var a=Dt.env;i.env=Zo?{Promise:q,PromiseProp:{value:q,configurable:!0,writable:!0},all:q.all,race:q.race,allSettled:q.allSettled,any:q.any,resolve:q.resolve,reject:q.reject,nthen:Ki(a.nthen,i),gthen:Ki(a.gthen,i)}:{},t&&je(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Vt(i,e,n,r);return i.ref===0&&i.finalize(),s}function Ut(){return Ae.id||(Ae.id=++Tu),++Ae.awaits,Ae.echoes+=100,Ae.id}function Ze(){return!!Ae.awaits&&(--Ae.awaits==0&&(Ae.id=0),Ae.echoes=100*Ae.awaits,!0)}function vn(e){return Ae.echoes&&e&&e.constructor===Rn?(Ut(),e.then(t=>(Ze(),t),t=>(Ze(),be(t)))):e}function Ru(e){++Yn,Ae.echoes&&--Ae.echoes!=0||(Ae.echoes=Ae.id=0),Nn.push(X),at(e,!0)}function Cu(){var e=Nn[Nn.length-1];Nn.pop(),at(e,!1)}function at(e,t){var n=X;if((t?!Ae.echoes||Vr++&&e===X:!Vr||--Vr&&e===X)||hs(t?Ru.bind(null,e):Cu),e!==X&&(X=e,n===Dt&&(Dt.env=ds()),Zo)){var r=Dt.env.Promise,o=e.env;Wn.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(de,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function ds(){var e=de.Promise;return Zo?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(de,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Wn.then,gthen:e.prototype.then}:{}}function Vt(e,t,n,r,o){var i=X;try{return at(e,!0),t(n,r,o)}finally{at(i,!1)}}function hs(e){as.call(mo,e)}function Jn(e,t,n,r){return typeof e!="function"?e:function(){var o=X;n&&Ut(),at(t,!0);try{return e.apply(this,arguments)}finally{at(o,!1),r&&hs(Ze)}}}function Ki(e,t){return function(n,r){return e.call(this,Jn(n,t),Jn(r,t))}}(""+as).indexOf("[native code]")===-1&&(Ut=Ze=ce);function Li(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,o={promise:t,reason:e};if(de.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),je(r,o)):de.CustomEvent&&je(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&de.dispatchEvent&&(dispatchEvent(r),!de.PromiseRejectionEvent&&de.onunhandledrejection))try{de.onunhandledrejection(r)}catch{}Ke&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var be=q.reject;function Oo(e,t,n,r){if(e.idbdb&&(e._state.openComplete||X.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Xo.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Oo(e,t,n,r))):be(i)}return o._promise(t,(i,a)=>it(()=>(X.trans=o,r(i,a,o)))).then(i=>o._completion.then(()=>i))}if(e._state.openComplete)return be(new Q.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return be(new Q.DatabaseClosed);e.open().catch(ce)}return e._state.dbReadyPromise.then(()=>Oo(e,t,n,r))}const yt=String.fromCharCode(65535),Ve="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",en=[],sr=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Du=sr,Nu=sr,ps=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function At(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const ys={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function wn(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=hn(t))[e],t)}class Bu{_trans(t,n,r){const o=this._tx||X.trans,i=this.name;function a(c,h,l){if(!l.schema[i])throw new Q.NotFound("Table "+i+" not part of transaction");return n(l.idbtrans,l)}const s=pn();try{return o&&o.db===this.db?o===X.trans?o._promise(t,a,r):it(()=>o._promise(t,a,r),{trans:o,transless:X.transless||X}):Oo(this.db,t,[this.name],a)}finally{s&&yn()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(o=>this.hook.reading.fire(o))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Se(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=me(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(h=>h.compound&&n.every(l=>h.keyPath.indexOf(l)>=0)&&h.keyPath.every(l=>n.indexOf(l)>=0))[0];if(r&&this.db._maxKey!==yt)return this.where(r.name).equals(r.keyPath.map(h=>t[h]));!r&&Ke&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:o}=this.schema,i=this.db._deps.indexedDB;function a(h,l){try{return i.cmp(h,l)===0}catch{return!1}}const[s,c]=n.reduce(([h,l],f)=>{const u=o[f],p=t[f];return[h||u,h||!u?At(l,u&&u.multi?_=>{const m=Qe(_,f);return Se(m)&&m.some(b=>a(p,b))}:_=>a(p,Qe(_,f))):l]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Se(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const o=Object.create(t.prototype);for(var i in r)if(De(r,i))try{o[i]=r[i]}catch{}return o};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){je(this,t)})}add(t,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=t;return o&&r&&(i=wn(o)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[i]})).then(a=>a.numFailures?q.reject(a.failures[0]):a.lastResult).then(a=>{if(o)try{Ne(t,o,a)}catch{}return a})}update(t,n){if(typeof t!="object"||Se(t))return this.where(":id").equals(t).modify(n);{const r=Qe(t,this.schema.primKey.keyPath);if(r===void 0)return be(new Q.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?me(n).forEach(o=>{Ne(t,o,n[o])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=t;return o&&r&&(i=wn(o)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[i],keys:n!=null?[n]:null})).then(a=>a.numFailures?q.reject(a.failures[0]):a.lastResult).then(a=>{if(o)try{Ne(t,o,a)}catch{}return a})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?q.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:ys})).then(t=>t.numFailures?q.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(o=>this.hook.reading.fire(o))))}bulkAdd(t,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:c}=this.schema.primKey;if(c&&o)throw new Q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");const h=t.length;let l=c&&s?t.map(wn(c)):t;return this.core.mutate({trans:a,type:"add",keys:o,values:l,wantResults:i}).then(({numFailures:f,results:u,lastResult:p,failures:_})=>{if(f===0)return i?u:p;throw new Qt(`${this.name}.bulkAdd(): ${f} of ${h} operations failed`,_)})})}bulkPut(t,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:c}=this.schema.primKey;if(c&&o)throw new Q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");const h=t.length;let l=c&&s?t.map(wn(c)):t;return this.core.mutate({trans:a,type:"put",keys:o,values:l,wantResults:i}).then(({numFailures:f,results:u,lastResult:p,failures:_})=>{if(f===0)return i?u:p;throw new Qt(`${this.name}.bulkPut(): ${f} of ${h} operations failed`,_)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:o,failures:i})=>{if(r===0)return o;throw new Qt(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}}function tn(e){var t={},n=function(s,c){if(c){for(var h=arguments.length,l=new Array(h-1);--h;)l[h-1]=arguments[h];return t[s].subscribe.apply(null,l),e}if(typeof s=="string")return t[s]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(s,c,h){if(typeof s=="object")return a(s);c||(c=$u),h||(h=ce);var l={subscribers:[],fire:h,subscribe:function(f){l.subscribers.indexOf(f)===-1&&(l.subscribers.push(f),l.fire=c(l.fire,f))},unsubscribe:function(f){l.subscribers=l.subscribers.filter(function(u){return u!==f}),l.fire=l.subscribers.reduce(c,h)}};return t[s]=n[s]=l,l}function a(s){me(s).forEach(function(c){var h=s[c];if(Se(h))i(c,s[c][0],s[c][1]);else{if(h!=="asap")throw new Q.InvalidArgument("Invalid event config");var l=i(c,an,function(){for(var f=arguments.length,u=new Array(f);f--;)u[f]=arguments[f];l.subscribers.forEach(function(p){Xa(function(){p.apply(null,u)})})})}})}}function Wt(e,t){return Rt(t).from({prototype:e}),t}function jt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Gr(e,t){e.filter=At(e.filter,t)}function zr(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>At(r(),t()):t,e.justLimit=n&&!r}function Bn(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Q.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Ui(e,t,n){const r=Bn(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function _n(e,t,n,r){const o=e.replayFilter?At(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},a=(s,c,h)=>{if(!o||o(c,h,u=>c.stop(u),u=>c.fail(u))){var l=c.primaryKey,f=""+l;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(l)),De(i,f)||(i[f]=!0,t(s,c,h))}};return Promise.all([e.or._iterate(a,n),Vi(Ui(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Vi(Ui(e,r,n),At(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Vi(e,t,n,r){var o=he(r?(i,a,s)=>n(r(i),a,s):n);return e.then(i=>{if(i)return i.start(()=>{var a=()=>i.continue();t&&!t(i,s=>a=s,s=>{i.stop(s),a=ce},s=>{i.fail(s),a=ce})||o(i.value,i,s=>a=s),a()})})}function Pe(e,t){try{const n=Gi(e),r=Gi(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(o,i){const a=o.length,s=i.length,c=a<s?a:s;for(let h=0;h<c;++h)if(o[h]!==i[h])return o[h]<i[h]?-1:1;return a===s?0:a<s?-1:1}(zi(e),zi(t));case"Array":return function(o,i){const a=o.length,s=i.length,c=a<s?a:s;for(let h=0;h<c;++h){const l=Pe(o[h],i[h]);if(l!==0)return l}return a===s?0:a<s?-1:1}(e,t)}}catch{}return NaN}function Gi(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=po(e);return n==="ArrayBuffer"?"binary":n}function zi(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Mu{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,be.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,be.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=At(n.algorithm,t)}_iterate(t,n){return _n(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&je(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>_n(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,o=r.table.core;if(jt(r,!0))return o.count({trans:n,query:{index:Bn(r,o.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var i=0;return _n(r,()=>(++i,!1),n,o).then(()=>i)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),o=r[0],i=r.length-1;function a(h,l){return l?a(h[r[l]],l-1):h[o]}var s=this._ctx.dir==="next"?1:-1;function c(h,l){var f=a(h,i),u=a(l,i);return f<u?-s:f>u?s:0}return this.toArray(function(h){return h.sort(c)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&jt(r,!0)&&r.limit>0){const{valueMapper:o}=r,i=Bn(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:a})=>o?a.map(o):a)}{const o=[];return _n(r,i=>o.push(i),n,r.table.core).then(()=>o)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,jt(n)?zr(n,()=>{var r=t;return(o,i)=>r===0||(r===1?(--r,!1):(i(()=>{o.advance(r),r=0}),!1))}):zr(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),zr(this._ctx,()=>{var n=t;return function(r,o,i){return--n<=0&&o(i),n>=0}},!0),this}until(t,n){return Gr(this._ctx,function(r,o,i){return!t(r.value)||(o(i),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Gr(this._ctx,function(o){return t(o.value)}),n=this._ctx,r=t,n.isMatch=At(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){t(o.key,o)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){t(o.primaryKey,o)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&jt(n,!0)&&n.limit>0)return this._read(o=>{var i=Bn(n,n.table.core.schema);return n.table.core.query({trans:o,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:o})=>o).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Gr(this._ctx,function(o){var i=o.primaryKey.toString(),a=De(r,i);return r[i]=!0,!a}),this}modify(t){var n=this._ctx;return this._write(r=>{var o;if(typeof t=="function")o=t;else{var i=me(t),a=i.length;o=function(m){for(var b=!1,g=0;g<a;++g){var v=i[g],E=t[v];Qe(m,v)!==E&&(Ne(m,v,E),b=!0)}return b}}const s=n.table.core,{outbound:c,extractKey:h}=s.schema.primaryKey,l=this.db._options.modifyChunkSize||200,f=[];let u=0;const p=[],_=(m,b)=>{const{failures:g,numFailures:v}=b;u+=m-v;for(let E of me(g))f.push(g[E])};return this.clone().primaryKeys().then(m=>{const b=g=>{const v=Math.min(l,m.length-g);return s.getMany({trans:r,keys:m.slice(g,g+v),cache:"immutable"}).then(E=>{const O=[],A=[],j=c?[]:null,k=[];for(let C=0;C<v;++C){const L=E[C],G={value:hn(L),primKey:m[g+C]};o.call(G,G.value,G)!==!1&&(G.value==null?k.push(m[g+C]):c||Pe(h(L),h(G.value))===0?(A.push(G.value),c&&j.push(m[g+C])):(k.push(m[g+C]),O.push(G.value)))}const R=jt(n)&&n.limit===1/0&&(typeof t!="function"||t===Wr)&&{index:n.index,range:n.range};return Promise.resolve(O.length>0&&s.mutate({trans:r,type:"add",values:O}).then(C=>{for(let L in C.failures)k.splice(parseInt(L),1);_(O.length,C)})).then(()=>(A.length>0||R&&typeof t=="object")&&s.mutate({trans:r,type:"put",keys:j,values:A,criteria:R,changeSpec:typeof t!="function"&&t}).then(C=>_(A.length,C))).then(()=>(k.length>0||R&&t===Wr)&&s.mutate({trans:r,type:"delete",keys:k,criteria:R}).then(C=>_(k.length,C))).then(()=>m.length>g+v&&b(g+l))})};return b(0).then(()=>{if(f.length>0)throw new zn("Error modifying one or more objects",f,u,p);return m.length})})})}delete(){var t=this._ctx,n=t.range;return jt(t)&&(t.isPrimKey&&!Nu||n.type===3)?this._write(r=>{const{primaryKey:o}=t.table.core.schema,i=n;return t.table.core.count({trans:r,query:{index:o,range:i}}).then(a=>t.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:s,lastResult:c,results:h,numFailures:l})=>{if(l)throw new zn("Could not delete some values",Object.keys(s).map(f=>s[f]),a-l);return a-l}))}):this.modify(Wr)}}const Wr=(e,t)=>t.value=null;function Fu(e,t){return e<t?-1:e===t?0:1}function qu(e,t){return e>t?-1:e===t?0:1}function Re(e,t,n){var r=e instanceof ms?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function $t(e){return new e.Collection(e,()=>gs("")).limit(0)}function Ku(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),s=-1,c=0;c<a;++c){var h=t[c];if(h!==r[c])return o(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):o(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;o(e[c],h)<0&&(s=c)}return a<r.length&&i==="next"?e+n.substr(e.length):a<e.length&&i==="prev"?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function An(e,t,n,r){var o,i,a,s,c,h,l,f=n.length;if(!n.every(m=>typeof m=="string"))return Re(e,"String expected.");function u(m){o=function(g){return g==="next"?v=>v.toUpperCase():v=>v.toLowerCase()}(m),i=function(g){return g==="next"?v=>v.toLowerCase():v=>v.toUpperCase()}(m),a=m==="next"?Fu:qu;var b=n.map(function(g){return{lower:i(g),upper:o(g)}}).sort(function(g,v){return a(g.lower,v.lower)});s=b.map(function(g){return g.upper}),c=b.map(function(g){return g.lower}),h=m,l=m==="next"?"":r}u("next");var p=new e.Collection(e,()=>tt(s[0],c[f-1]+r));p._ondirectionchange=function(m){u(m)};var _=0;return p._addAlgorithm(function(m,b,g){var v=m.key;if(typeof v!="string")return!1;var E=i(v);if(t(E,c,_))return!0;for(var O=null,A=_;A<f;++A){var j=Ku(v,E,s[A],c[A],a,h);j===null&&O===null?_=A+1:(O===null||a(O,j)>0)&&(O=j)}return b(O!==null?function(){m.continue(O+l)}:g),!1}),p}function tt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function gs(e){return{type:1,lower:e,upper:e}}class ms{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,o){r=r!==!1,o=o===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||o)&&(!r||!o)?$t(this):new this.Collection(this,()=>tt(t,n,!r,!o))}catch{return Re(this,Ve)}}equals(t){return t==null?Re(this,Ve):new this.Collection(this,()=>gs(t))}above(t){return t==null?Re(this,Ve):new this.Collection(this,()=>tt(t,void 0,!0))}aboveOrEqual(t){return t==null?Re(this,Ve):new this.Collection(this,()=>tt(t,void 0,!1))}below(t){return t==null?Re(this,Ve):new this.Collection(this,()=>tt(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Re(this,Ve):new this.Collection(this,()=>tt(void 0,t))}startsWith(t){return typeof t!="string"?Re(this,"String expected."):this.between(t,t+yt,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):An(this,(n,r)=>n.indexOf(r[0])===0,[t],yt)}equalsIgnoreCase(t){return An(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=He.apply(xt,arguments);return t.length===0?$t(this):An(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=He.apply(xt,arguments);return t.length===0?$t(this):An(this,(n,r)=>r.some(o=>n.indexOf(o)===0),t,yt)}anyOf(){const t=He.apply(xt,arguments);let n=this._cmp;try{t.sort(n)}catch{return Re(this,Ve)}if(t.length===0)return $t(this);const r=new this.Collection(this,()=>tt(t[0],t[t.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,t.sort(n)};let o=0;return r._addAlgorithm((i,a,s)=>{const c=i.key;for(;n(c,t[o])>0;)if(++o,o===t.length)return a(s),!1;return n(c,t[o])===0||(a(()=>{i.continue(t[o])}),!1)}),r}notEqual(t){return this.inAnyRange([[-(1/0),t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=He.apply(xt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Re(this,Ve)}const n=t.reduce((r,o)=>r?r.concat([[r[r.length-1][1],o]]):[[-(1/0),o]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,o=this._ascending,i=this._descending,a=this._min,s=this._max;if(t.length===0)return $t(this);if(!t.every(v=>v[0]!==void 0&&v[1]!==void 0&&o(v[0],v[1])<=0))return Re(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Q.InvalidArgument);const c=!n||n.includeLowers!==!1,h=n&&n.includeUppers===!0;let l,f=o;function u(v,E){return f(v[0],E[0])}try{l=t.reduce(function(v,E){let O=0,A=v.length;for(;O<A;++O){const j=v[O];if(r(E[0],j[1])<0&&r(E[1],j[0])>0){j[0]=a(j[0],E[0]),j[1]=s(j[1],E[1]);break}}return O===A&&v.push(E),v},[]),l.sort(u)}catch{return Re(this,Ve)}let p=0;const _=h?v=>o(v,l[p][1])>0:v=>o(v,l[p][1])>=0,m=c?v=>i(v,l[p][0])>0:v=>i(v,l[p][0])>=0;let b=_;const g=new this.Collection(this,()=>tt(l[0][0],l[l.length-1][1],!c,!h));return g._ondirectionchange=v=>{v==="next"?(b=_,f=o):(b=m,f=i),l.sort(u)},g._addAlgorithm((v,E,O)=>{for(var A=v.key;b(A);)if(++p,p===l.length)return E(O),!1;return!!function(j){return!_(j)&&!m(j)}(A)||(this._cmp(A,l[p][1])===0||this._cmp(A,l[p][0])===0||E(()=>{f===o?v.continue(l[p][0]):v.continue(l[p][1])}),!1)}),g}startsWithAnyOf(){const t=He.apply(xt,arguments);return t.every(n=>typeof n=="string")?t.length===0?$t(this):this.inAnyRange(t.map(n=>[n,n+yt])):Re(this,"startsWithAnyOf() only works with strings")}}function Me(e){return he(function(t){return cn(t),e(t.target.error),!1})}function cn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const st=tn(null,"storagemutated");class Lu{_lock(){return Jt(!X.global),++this._reculock,this._reculock!==1||X.global||(X.lockOwnerFor=this),this}_unlock(){if(Jt(!X.global),--this._reculock==0)for(X.global||(X.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Vt(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&X.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Jt(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Q.DatabaseClosed(r);case"MissingAPIError":throw new Q.MissingAPI(r.message,r);default:throw new Q.OpenFailed(r)}if(!this.active)throw new Q.TransactionInactive;return Jt(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=he(o=>{cn(o),this._reject(t.error)}),t.onabort=he(o=>{cn(o),this.active&&this._reject(new Q.Abort(t.error)),this.active=!1,this.on("abort").fire(o)}),t.oncomplete=he(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&st.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return be(new Q.ReadOnly("Transaction is readonly"));if(!this.active)return be(new Q.TransactionInactive);if(this._locked())return new q((i,a)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(i,a)},X])});if(r)return it(()=>{var i=new q((a,s)=>{this._lock();const c=n(a,s,this);c&&c.then&&c.then(a,s)});return i.finally(()=>this._unlock()),i._lib=!0,i});var o=new q((i,a)=>{var s=n(i,a,this);s&&s.then&&s.then(i,a)});return o._lib=!0,o}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=q.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var o=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(o.get(-1/0).onsuccess=a)})()}var i=n._waitingFor;return new q((a,s)=>{r.then(c=>n._waitingQueue.push(he(a.bind(null,c))),c=>n._waitingQueue.push(he(s.bind(null,c)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Q.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(De(n,t))return n[t];const r=this.schema[t];if(!r)throw new Q.NotFound("Table "+t+" not part of transaction");const o=new this.db.Table(t,r,this);return o.core=this.db.core.table(t),n[t]=o,o}}function Po(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+bs(t)}}function bs(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function vs(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Qa(n,r=>[r.name,r])}}let un=e=>{try{return e.only([[]]),un=()=>[[]],[[]]}catch{return un=()=>yt,yt}};function jo(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?n=>n[t]:n=>Qe(n,t)}(e):t=>Qe(t,e)}function Wi(e){return[].slice.call(e)}let Uu=0;function nn(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function Vu(e,t,n){function r(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:h,upper:l,lowerOpen:f,upperOpen:u}=c;return h===void 0?l===void 0?null:t.upperBound(l,!!u):l===void 0?t.lowerBound(h,!!f):t.bound(h,l,!!f,!!u)}const{schema:o,hasGetAll:i}=function(c,h){const l=Wi(c.objectStoreNames);return{schema:{name:c.name,tables:l.map(f=>h.objectStore(f)).map(f=>{const{keyPath:u,autoIncrement:p}=f,_=Se(u),m=u==null,b={},g={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:_,keyPath:u,autoIncrement:p,unique:!0,extractKey:jo(u)},indexes:Wi(f.indexNames).map(v=>f.index(v)).map(v=>{const{name:E,unique:O,multiEntry:A,keyPath:j}=v,k={name:E,compound:Se(j),keyPath:j,unique:O,multiEntry:A,extractKey:jo(j)};return b[nn(j)]=k,k}),getIndexByKeyPath:v=>b[nn(v)]};return b[":id"]=g.primaryKey,u!=null&&(b[nn(u)]=g.primaryKey),g})},hasGetAll:l.length>0&&"getAll"in h.objectStore(l[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=o.tables.map(c=>function(h){const l=h.name;return{name:l,schema:h,mutate:function({trans:f,type:u,keys:p,values:_,range:m}){return new Promise((b,g)=>{b=he(b);const v=f.objectStore(l),E=v.keyPath==null,O=u==="put"||u==="add";if(!O&&u!=="delete"&&u!=="deleteRange")throw new Error("Invalid operation type: "+u);const{length:A}=p||_||{length:1};if(p&&_&&p.length!==_.length)throw new Error("Given keys array must have same length as given values array.");if(A===0)return b({numFailures:0,failures:{},results:[],lastResult:void 0});let j;const k=[],R=[];let C=0;const L=z=>{++C,cn(z)};if(u==="deleteRange"){if(m.type===4)return b({numFailures:C,failures:R,results:[],lastResult:void 0});m.type===3?k.push(j=v.clear()):k.push(j=v.delete(r(m)))}else{const[z,ee]=O?E?[_,p]:[_,null]:[p,null];if(O)for(let W=0;W<A;++W)k.push(j=ee&&ee[W]!==void 0?v[u](z[W],ee[W]):v[u](z[W])),j.onerror=L;else for(let W=0;W<A;++W)k.push(j=v[u](z[W])),j.onerror=L}const G=z=>{const ee=z.target.result;k.forEach((W,N)=>W.error!=null&&(R[N]=W.error)),b({numFailures:C,failures:R,results:u==="delete"?p:k.map(W=>W.result),lastResult:ee})};j.onerror=z=>{L(z),G(z)},j.onsuccess=G})},getMany:({trans:f,keys:u})=>new Promise((p,_)=>{p=he(p);const m=f.objectStore(l),b=u.length,g=new Array(b);let v,E=0,O=0;const A=k=>{const R=k.target;g[R._pos]=R.result,++O===E&&p(g)},j=Me(_);for(let k=0;k<b;++k)u[k]!=null&&(v=m.get(u[k]),v._pos=k,v.onsuccess=A,v.onerror=j,++E);E===0&&p(g)}),get:({trans:f,key:u})=>new Promise((p,_)=>{p=he(p);const m=f.objectStore(l).get(u);m.onsuccess=b=>p(b.target.result),m.onerror=Me(_)}),query:function(f){return u=>new Promise((p,_)=>{p=he(p);const{trans:m,values:b,limit:g,query:v}=u,E=g===1/0?void 0:g,{index:O,range:A}=v,j=m.objectStore(l),k=O.isPrimaryKey?j:j.index(O.name),R=r(A);if(g===0)return p({result:[]});if(f){const C=b?k.getAll(R,E):k.getAllKeys(R,E);C.onsuccess=L=>p({result:L.target.result}),C.onerror=Me(_)}else{let C=0;const L=b||!("openKeyCursor"in k)?k.openCursor(R):k.openKeyCursor(R),G=[];L.onsuccess=z=>{const ee=L.result;return ee?(G.push(b?ee.value:ee.primaryKey),++C===g?p({result:G}):void ee.continue()):p({result:G})},L.onerror=Me(_)}})}(i),openCursor:function({trans:f,values:u,query:p,reverse:_,unique:m}){return new Promise((b,g)=>{b=he(b);const{index:v,range:E}=p,O=f.objectStore(l),A=v.isPrimaryKey?O:O.index(v.name),j=_?m?"prevunique":"prev":m?"nextunique":"next",k=u||!("openKeyCursor"in A)?A.openCursor(r(E),j):A.openKeyCursor(r(E),j);k.onerror=Me(g),k.onsuccess=he(R=>{const C=k.result;if(!C)return void b(null);C.___id=++Uu,C.done=!1;const L=C.continue.bind(C);let G=C.continuePrimaryKey;G&&(G=G.bind(C));const z=C.advance.bind(C),ee=()=>{throw new Error("Cursor not stopped")};C.trans=f,C.stop=C.continue=C.continuePrimaryKey=C.advance=()=>{throw new Error("Cursor not started")},C.fail=he(g),C.next=function(){let W=1;return this.start(()=>W--?this.continue():this.stop()).then(()=>this)},C.start=W=>{const N=new Promise((M,B)=>{M=he(M),k.onerror=Me(B),C.fail=B,C.stop=U=>{C.stop=C.continue=C.continuePrimaryKey=C.advance=ee,M(U)}}),D=()=>{if(k.result)try{W()}catch(M){C.fail(M)}else C.done=!0,C.start=()=>{throw new Error("Cursor behind last entry")},C.stop()};return k.onsuccess=he(M=>{k.onsuccess=D,D()}),C.continue=L,C.continuePrimaryKey=G,C.advance=z,D(),N},b(C)},g)})},count({query:f,trans:u}){const{index:p,range:_}=f;return new Promise((m,b)=>{const g=u.objectStore(l),v=p.isPrimaryKey?g:g.index(p.name),E=r(_),O=E?v.count(E):v.count();O.onsuccess=he(A=>m(A.target.result)),O.onerror=Me(b)})}}}(c)),s={};return a.forEach(c=>s[c.name]=c),{stack:"dbcore",transaction:e.transaction.bind(e),table(c){if(!s[c])throw new Error(`Table '${c}' not found`);return s[c]},MIN_KEY:-1/0,MAX_KEY:un(t),schema:o}}function $o({_novip:e},t){const n=t.db,r=function(o,i,{IDBKeyRange:a,indexedDB:s},c){return{dbcore:function(l,f){return f.reduce((u,{create:p})=>({...u,...p(u)}),l)}(Vu(i,a,c),o.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(o=>{const i=o.name;e.core.schema.tables.some(a=>a.name===i)&&(o.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=o.core))})}function Xn({_novip:e},t,n,r){n.forEach(o=>{const i=r[o];t.forEach(a=>{const s=Ho(a,o);(!s||"value"in s&&s.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?Xe(a,o,{get(){return this.table(o)},set(c){Ya(this,o,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):a[o]=new e.Table(o,i))})})}function xo({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function Gu(e,t){return e._cfg.version-t._cfg.version}function zu(e,t,n,r){const o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);const a=i._reject.bind(i),s=X.transless||X;it(()=>{X.trans=i,X.transless=s,t===0?(me(o).forEach(c=>{Hr(n,c,o[c].primKey,o[c].indexes)}),$o(e,n),q.follow(()=>e.on.populate.fire(i)).catch(a)):function({_novip:c},h,l,f){const u=[],p=c._versions;let _=c._dbSchema=To(c,c.idbdb,f),m=!1;function b(){return u.length?q.resolve(u.shift()(l.idbtrans)).then(b):q.resolve()}return p.filter(g=>g._cfg.version>=h).forEach(g=>{u.push(()=>{const v=_,E=g._cfg.dbschema;Io(c,v,f),Io(c,E,f),_=c._dbSchema=E;const O=ws(v,E);O.add.forEach(j=>{Hr(f,j[0],j[1].primKey,j[1].indexes)}),O.change.forEach(j=>{if(j.recreate)throw new Q.Upgrade("Not yet support for changing primary key");{const k=f.objectStore(j.name);j.add.forEach(R=>ko(k,R)),j.change.forEach(R=>{k.deleteIndex(R.name),ko(k,R)}),j.del.forEach(R=>k.deleteIndex(R))}});const A=g._cfg.contentUpgrade;if(A&&g._cfg.version>h){$o(c,f),l._memoizedTables={},m=!0;let j=Za(E);O.del.forEach(L=>{j[L]=v[L]}),xo(c,[c.Transaction.prototype]),Xn(c,[c.Transaction.prototype],me(j),j),l.schema=j;const k=Yo(A);let R;k&&Ut();const C=q.follow(()=>{if(R=A(l),R&&k){var L=Ze.bind(null,null);R.then(L,L)}});return R&&typeof R.then=="function"?q.resolve(R):C.then(()=>R)}}),u.push(v=>{(!m||!Du)&&function(E,O){[].slice.call(O.db.objectStoreNames).forEach(A=>E[A]==null&&O.db.deleteObjectStore(A))}(g._cfg.dbschema,v),xo(c,[c.Transaction.prototype]),Xn(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),l.schema=c._dbSchema})}),b().then(()=>{var g,v;v=f,me(g=_).forEach(E=>{v.db.objectStoreNames.contains(E)||Hr(v,E,g[E].primKey,g[E].indexes)})})}(e,t,i,n).catch(a)})}function ws(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const o=e[r],i=t[r];if(o){const a={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!sr)a.recreate=!0,n.change.push(a);else{const s=o.idxByName,c=i.idxByName;let h;for(h in s)c[h]||a.del.push(h);for(h in c){const l=s[h],f=c[h];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,i])}return n}function Hr(e,t,n,r){const o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>ko(o,i)),o}function ko(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function To(e,t,n){const r={};return Gn(t.objectStoreNames,0).forEach(o=>{const i=n.objectStore(o);let a=i.keyPath;const s=Po(bs(a),a||"",!1,!1,!!i.autoIncrement,a&&typeof a!="string",!0),c=[];for(let l=0;l<i.indexNames.length;++l){const f=i.index(i.indexNames[l]);a=f.keyPath;var h=Po(f.name,a,!!f.unique,!!f.multiEntry,!1,a&&typeof a!="string",!1);c.push(h)}r[o]=vs(o,s,c)}),r}function Io({_novip:e},t,n){const r=n.db.objectStoreNames;for(let o=0;o<r.length;++o){const i=r[o],a=n.objectStore(i);e._hasGetAll="getAll"in a;for(let s=0;s<a.indexNames.length;++s){const c=a.indexNames[s],h=a.index(c).keyPath,l=typeof h=="string"?h:"["+Gn(h).join("+")+"]";if(t[i]){const f=t[i].idxByName[l];f&&(f.name=c,delete t[i].idxByName[l],t[i].idxByName[c]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&de.WorkerGlobalScope&&de instanceof de.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Wu{_parseStoresSpec(t,n){me(t).forEach(r=>{if(t[r]!==null){var o=t[r].split(",").map((a,s)=>{const c=(a=a.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return Po(c,h||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),Se(h),s===0)}),i=o.shift();if(i.multi)throw new Q.Schema("Primary key cannot be multi-valued");o.forEach(a=>{if(a.auto)throw new Q.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new Q.Schema("Index must have a name and cannot be an empty string")}),n[r]=vs(r,i,o)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?je(this._cfg.storesSource,t):t;const r=n._versions,o={};let i={};return r.forEach(a=>{je(o,a._cfg.storesSource),i=a._cfg.dbschema={},a._parseStoresSpec(o,i)}),n._dbSchema=i,xo(n,[n._allTables,n,n.Transaction.prototype]),Xn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],me(i),i),n._storeNames=me(i),this}upgrade(t){return this._cfg.contentUpgrade=Qo(this._cfg.contentUpgrade||ce,t),this}}function ni(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new vt("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function ri(e){return e&&typeof e.databases=="function"}function Ro(e){return it(function(){return X.letThrough=!0,e()})}function Hu(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function Yu(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?be(t.dbOpenError):e);Ke&&(t.openCanceller._stackHolder=St()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new Q.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,a=null,s=!1;return q.race([r,(typeof navigator>"u"?q.resolve():Hu()).then(()=>new q((c,h)=>{if(o(),!n)throw new Q.MissingAPI;const l=e.name,f=t.autoSchema?n.open(l):n.open(l,Math.round(10*e.verno));if(!f)throw new Q.MissingAPI;f.onerror=Me(h),f.onblocked=he(e._fireOnBlocked),f.onupgradeneeded=he(u=>{if(a=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=cn,a.abort(),f.result.close();const _=n.deleteDatabase(l);_.onsuccess=_.onerror=he(()=>{h(new Q.NoSuchDatabase(`Database ${l} doesnt exist`))})}else{a.onerror=Me(h);var p=u.oldVersion>Math.pow(2,62)?0:u.oldVersion;s=p<1,e._novip.idbdb=f.result,zu(e,p/10,a,h)}},h),f.onsuccess=he(()=>{a=null;const u=e._novip.idbdb=f.result,p=Gn(u.objectStoreNames);if(p.length>0)try{const m=u.transaction((_=p).length===1?_[0]:_,"readonly");t.autoSchema?function({_novip:b},g,v){b.verno=g.version/10;const E=b._dbSchema=To(0,g,v);b._storeNames=Gn(g.objectStoreNames,0),Xn(b,[b._allTables],me(E),E)}(e,u,m):(Io(e,e._dbSchema,m),function(b,g){const v=ws(To(0,b.idbdb,g),b._dbSchema);return!(v.add.length||v.change.some(E=>E.add.length||E.change.length))}(e,m)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),$o(e,m)}catch{}var _;en.push(e),u.onversionchange=he(m=>{t.vcFired=!0,e.on("versionchange").fire(m)}),u.onclose=he(m=>{e.on("close").fire(m)}),s&&function({indexedDB:m,IDBKeyRange:b},g){!ri(m)&&g!=="__dbnames"&&ni(m,b).put({name:g}).catch(ce)}(e._deps,l),c()},h)}))]).then(()=>(o(),t.onReadyBeingFired=[],q.resolve(Ro(()=>e.on.ready.fire(e.vip))).then(function c(){if(t.onReadyBeingFired.length>0){let h=t.onReadyBeingFired.reduce(Qo,ce);return t.onReadyBeingFired=[],q.resolve(Ro(()=>h(e.vip))).then(c)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(c=>{t.dbOpenError=c;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),be(c)}).finally(()=>{t.openComplete=!0,i()})}function Co(e){var t=i=>e.next(i),n=o(t),r=o(i=>e.throw(i));function o(i){return a=>{var s=i(a),c=s.value;return s.done?c:c&&typeof c.then=="function"?c.then(n,r):Se(c)?Promise.all(c).then(n,r):n(c)}}return o(t)()}function Ju(e,t,n){var r=arguments.length;if(r<2)throw new Q.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];n=o.pop();var i=es(o);return[e,i,n]}function _s(e,t,n,r,o){return q.resolve().then(()=>{const i=X.transless||X,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(f){return f.name===Xo.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>_s(e,t,n,null,o))):be(f)}const c=Yo(o);let h;c&&Ut();const l=q.follow(()=>{if(h=o.call(a,a),h)if(c){var f=Ze.bind(null,null);h.then(f,f)}else typeof h.next=="function"&&typeof h.throw=="function"&&(h=Co(h))},s);return(h&&typeof h.then=="function"?q.resolve(h).then(f=>a.active?f:be(new Q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):l.then(()=>h)).then(f=>(r&&a._resolve(),a._completion.then(()=>f))).catch(f=>(a._reject(f),be(f)))})}function Sn(e,t,n){const r=Se(e)?e.slice():[e];for(let o=0;o<n;++o)r.push(t);return r}const Xu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,o={},i=[];function a(l,f,u){const p=nn(l),_=o[p]=o[p]||[],m=l==null?0:typeof l=="string"?1:l.length,b=f>0,g={...u,isVirtual:b,keyTail:f,keyLength:m,extractKey:jo(l),unique:!b&&u.unique};return _.push(g),g.isPrimaryKey||i.push(g),m>1&&a(m===2?l[0]:l.slice(0,m-1),f+1,u),_.sort((v,E)=>v.keyTail-E.keyTail),g}const s=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[s];for(const l of r.indexes)a(l.keyPath,0,l);function c(l){const f=l.query.index;return f.isVirtual?{...l,query:{index:f,range:(u=l.query.range,p=f.keyTail,{type:u.type===1?2:u.type,lower:Sn(u.lower,u.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:Sn(u.upper,u.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0})}}:l;var u,p}return{...n,schema:{...r,primaryKey:s,indexes:i,getIndexByKeyPath:function(l){const f=o[nn(l)];return f&&f[0]}},count:l=>n.count(c(l)),query:l=>n.query(c(l)),openCursor(l){const{keyTail:f,isVirtual:u,keyLength:p}=l.query.index;return u?n.openCursor(c(l)).then(_=>_&&function(m){return Object.create(m,{continue:{value:function(g){g!=null?m.continue(Sn(g,l.reverse?e.MAX_KEY:e.MIN_KEY,f)):l.unique?m.continue(m.key.slice(0,p).concat(l.reverse?e.MIN_KEY:e.MAX_KEY,f)):m.continue()}},continuePrimaryKey:{value(g,v){m.continuePrimaryKey(Sn(g,e.MAX_KEY,f),v)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const g=m.key;return p===1?g[0]:g.slice(0,p)}},value:{get:()=>m.value}})}(_)):n.openCursor(l)}}}}}};function oi(e,t,n,r){return n=n||{},r=r||"",me(e).forEach(o=>{if(De(t,o)){var i=e[o],a=t[o];if(typeof i=="object"&&typeof a=="object"&&i&&a){const s=po(i);s!==po(a)?n[r+o]=t[o]:s==="Object"?oi(i,a,n,r+o+"."):i!==a&&(n[r+o]=t[o])}else i!==a&&(n[r+o]=t[o])}else n[r+o]=void 0}),me(t).forEach(o=>{De(e,o)||(n[r+o]=t[o])}),n}const Qu={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(i){const a=X.trans,{deleting:s,creating:c,updating:h}=a.table(t).hook;switch(i.type){case"add":if(c.fire===ce)break;return a._promise("readwrite",()=>l(i),!0);case"put":if(c.fire===ce&&h.fire===ce)break;return a._promise("readwrite",()=>l(i),!0);case"delete":if(s.fire===ce)break;return a._promise("readwrite",()=>l(i),!0);case"deleteRange":if(s.fire===ce)break;return a._promise("readwrite",()=>function(u){return f(u.trans,u.range,1e4)}(i),!0)}return n.mutate(i);function l(u){const p=X.trans,_=u.keys||function(m,b){return b.type==="delete"?b.keys:b.keys||b.values.map(m.extractKey)}(r,u);if(!_)throw new Error("Keys missing");return(u=u.type==="add"||u.type==="put"?{...u,keys:_}:{...u}).type!=="delete"&&(u.values=[...u.values]),u.keys&&(u.keys=[...u.keys]),function(m,b,g){return b.type==="add"?Promise.resolve([]):m.getMany({trans:b.trans,keys:g,cache:"immutable"})}(n,u,_).then(m=>{const b=_.map((g,v)=>{const E=m[v],O={onerror:null,onsuccess:null};if(u.type==="delete")s.fire.call(O,g,E,p);else if(u.type==="add"||E===void 0){const A=c.fire.call(O,g,u.values[v],p);g==null&&A!=null&&(g=A,u.keys[v]=g,r.outbound||Ne(u.values[v],r.keyPath,g))}else{const A=oi(E,u.values[v]),j=h.fire.call(O,A,g,E,p);if(j){const k=u.values[v];Object.keys(j).forEach(R=>{De(k,R)?k[R]=j[R]:Ne(k,R,j[R])})}}return O});return n.mutate(u).then(({failures:g,results:v,numFailures:E,lastResult:O})=>{for(let A=0;A<_.length;++A){const j=v?v[A]:_[A],k=b[A];j==null?k.onerror&&k.onerror(g[A]):k.onsuccess&&k.onsuccess(u.type==="put"&&m[A]?u.values[A]:j)}return{failures:g,results:v,numFailures:E,lastResult:O}}).catch(g=>(b.forEach(v=>v.onerror&&v.onerror(g)),Promise.reject(g)))})}function f(u,p,_){return n.query({trans:u,values:!1,query:{index:r,range:p},limit:_}).then(({result:m})=>l({type:"delete",keys:m,trans:u}).then(b=>b.numFailures>0?Promise.reject(b.failures[0]):m.length<_?{failures:[],numFailures:0,lastResult:void 0}:f(u,{...p,lower:m[m.length-1],lowerOpen:!0},_)))}}}}})};function As(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let o=0,i=0;o<t.keys.length&&i<e.length;++o)Pe(t.keys[o],e[i])===0&&(r.push(n?hn(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch{return null}}const Zu={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const o=As(r.keys,r.trans._cache,r.cache==="clone");return o?q.resolve(o):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?hn(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function ii(e){return!("from"in e)}const We=function(e,t){if(!this){const n=new We;return e&&"d"in e&&je(n,e),n}je(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function ln(e,t,n){const r=Pe(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(ii(e))return je(e,{from:t,to:n,d:1});const o=e.l,i=e.r;if(Pe(n,e.from)<0)return o?ln(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Hi(e);if(Pe(t,e.to)>0)return i?ln(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Hi(e);Pe(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),Pe(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;o&&!e.l&&Qn(e,o),i&&a&&Qn(e,i)}function Qn(e,t){ii(t)||function n(r,{from:o,to:i,l:a,r:s}){ln(r,o,i),a&&n(r,a),s&&n(r,s)}(e,t)}function el(e,t){const n=Do(t);let r=n.next();if(r.done)return!1;let o=r.value;const i=Do(e);let a=i.next(o.from),s=a.value;for(;!r.done&&!a.done;){if(Pe(s.from,o.to)<=0&&Pe(s.to,o.from)>=0)return!0;Pe(o.from,s.from)<0?o=(r=n.next(s.from)).value:s=(a=i.next(o.from)).value}return!1}function Do(e){let t=ii(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Pe(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Pe(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Hi(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){const i=o==="r"?"l":"r",a={...e},s=e[o];e.from=s.from,e.to=s.to,e[o]=s[o],a[o]=s[i],e[i]=a,a.d=Yi(a)}e.d=Yi(e)}function Yi({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Kt(We.prototype,{add(e){return Qn(this,e),this},addKey(e){return ln(this,e,e),this},addKeys(e){return e.forEach(t=>ln(this,t,t)),this},[yo](){return Do(this)}});const tl={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new We(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const o=e.table(r),{schema:i}=o,{primaryKey:a}=i,{extractKey:s,outbound:c}=a,h={...o,mutate:u=>{const p=u.trans,_=p.mutatedParts||(p.mutatedParts={}),m=j=>{const k=`idb://${t}/${r}/${j}`;return _[k]||(_[k]=new We)},b=m(""),g=m(":dels"),{type:v}=u;let[E,O]=u.type==="deleteRange"?[u.range]:u.type==="delete"?[u.keys]:u.values.length<50?[[],u.values]:[];const A=u.trans._cache;return o.mutate(u).then(j=>{if(Se(E)){v!=="delete"&&(E=j.results),b.addKeys(E);const k=As(E,A);k||v==="add"||g.addKeys(E),(k||O)&&function(R,C,L,G){function z(ee){const W=R(ee.name||"");function N(M){return M!=null?ee.extractKey(M):null}const D=M=>ee.multiEntry&&Se(M)?M.forEach(B=>W.addKey(B)):W.addKey(M);(L||G).forEach((M,B)=>{const U=L&&N(L[B]),Z=G&&N(G[B]);Pe(U,Z)!==0&&(U!=null&&D(U),Z!=null&&D(Z))})}C.indexes.forEach(z)}(m,i,k,O)}else if(E){const k={from:E.lower,to:E.upper};g.add(k),b.add(k)}else b.add(n),g.add(n),i.indexes.forEach(k=>m(k.name).add(n));return j})}},l=({query:{index:u,range:p}})=>{var _,m;return[u,new We((_=p.lower)!==null&&_!==void 0?_:e.MIN_KEY,(m=p.upper)!==null&&m!==void 0?m:e.MAX_KEY)]},f={get:u=>[a,new We(u.key)],getMany:u=>[a,new We().addKeys(u.keys)],count:l,query:l,openCursor:l};return me(f).forEach(u=>{h[u]=function(p){const{subscr:_}=X;if(_){const m=O=>{const A=`idb://${t}/${r}/${O}`;return _[A]||(_[A]=new We)},b=m(""),g=m(":dels"),[v,E]=f[u](p);if(m(v.name||"").add(E),!v.isPrimaryKey){if(u!=="count"){const O=u==="query"&&c&&p.values&&o.query({...p,values:!1});return o[u].apply(this,arguments).then(A=>{if(u==="query"){if(c&&p.values)return O.then(({result:k})=>(b.addKeys(k),A));const j=p.values?A.result.map(s):A.result;p.values?b.addKeys(j):g.addKeys(j)}else if(u==="openCursor"){const j=A,k=p.values;return j&&Object.create(j,{key:{get:()=>(g.addKey(j.primaryKey),j.key)},primaryKey:{get(){const R=j.primaryKey;return g.addKey(R),R}},value:{get:()=>(k&&b.addKey(j.primaryKey),j.value)}})}return A})}g.add(n)}}return o[u].apply(this,arguments)}}),h}}}};class vt{constructor(t,n){this._middlewares={},this.verno=0;const r=vt.dependencies;this._options=n={addons:vt.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:o}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ce,dbReadyPromise:null,cancelOpen:ce,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;i.dbReadyPromise=new q(s=>{i.dbReadyResolve=s}),i.openCanceller=new q((s,c)=>{i.cancelOpen=c}),this._state=i,this.name=t,this.on=tn(this,"populate","blocked","versionchange","close",{ready:[Qo,ce]}),this.on.ready.subscribe=Ja(this.on.ready.subscribe,s=>(c,h)=>{vt.vip(()=>{const l=this._state;if(l.openComplete)l.dbOpenError||q.resolve().then(c),h&&s(c);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(c),h&&s(c);else{s(c);const f=this;h||s(function u(){f.on.ready.unsubscribe(c),f.on.ready.unsubscribe(u)})}})}),this.Collection=(a=this,Wt(Mu.prototype,function(s,c){this.db=a;let h=ys,l=null;if(c)try{h=c()}catch(_){l=_}const f=s._ctx,u=f.table,p=u.hook.reading.fire;this._ctx={table:u,index:f.index,isPrimKey:!f.index||u.schema.primKey.keyPath&&f.index===u.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:l,or:f.or,valueMapper:p!==an?p:null}})),this.Table=function(s){return Wt(Bu.prototype,function(c,h,l){this.db=s,this._tx=l,this.name=c,this.schema=h,this.hook=s._allTables[c]?s._allTables[c].hook:tn(null,{creating:[Ou,ce],reading:[Eu,an],updating:[ju,ce],deleting:[Pu,ce]})})}(this),this.Transaction=function(s){return Wt(Lu.prototype,function(c,h,l,f,u){this.db=s,this.mode=c,this.storeNames=h,this.schema=l,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=tn(this,"complete","error","abort"),this.parent=u||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new q((p,_)=>{this._resolve=p,this._reject=_}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var _=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):_&&this.idbtrans&&this.idbtrans.abort(),be(p)})})}(this),this.Version=function(s){return Wt(Wu.prototype,function(c){this.db=s,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(s){return Wt(ms.prototype,function(c,h,l){this.db=s,this._ctx={table:c,index:h===":id"?null:h,or:l};const f=s._deps.indexedDB;if(!f)throw new Q.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(u,p)=>f.cmp(p,u),this._max=(u,p)=>f.cmp(u,p)>0?u:p,this._min=(u,p)=>f.cmp(u,p)<0?u:p,this._IDBKeyRange=s._deps.IDBKeyRange})}(this),this.on("versionchange",s=>{s.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",s=>{!s.newVersion||s.newVersion<s.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${s.oldVersion/10}`)}),this._maxKey=un(n.IDBKeyRange),this._createTransaction=(s,c,h,l)=>new this.Transaction(s,c,h,this._options.chromeTransactionDurability,l),this._fireOnBlocked=s=>{this.on("blocked").fire(s),en.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(s))},this.use(Xu),this.use(Qu),this.use(tl),this.use(Zu),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(s=>s(this))}version(t){if(isNaN(t)||t<.1)throw new Q.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(o=>o._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(Gu),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||X.letThrough||this._vip)?t():new q((n,r)=>{if(this._state.openComplete)return r(new Q.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new Q.DatabaseClosed);this.open().catch(ce)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:o}){o&&this.unuse({stack:t,name:o});const i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:r??10,name:o}),i.sort((a,s)=>a.level-s.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(o=>r?o.create!==r:!!n&&o.name!==n)),this}open(){return Yu(this)}_close(){const t=this._state,n=en.indexOf(this);if(n>=0&&en.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new q(r=>{t.dbReadyResolve=r}),t.openCanceller=new q((r,o)=>{t.cancelOpen=o})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Q.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new q((r,o)=>{const i=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=he(()=>{(function({indexedDB:s,IDBKeyRange:c},h){!ri(s)&&h!=="__dbnames"&&ni(s,c).delete(h).catch(ce)})(this._deps,this.name),r()}),a.onerror=Me(o),a.onblocked=this._fireOnBlocked};if(t)throw new Q.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return me(this._allTables).map(t=>this._allTables[t])}transaction(){const t=Ju.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let o=X.trans;o&&o.db===this&&t.indexOf("!")===-1||(o=null);const i=t.indexOf("?")!==-1;let a,s;t=t.replace("!","").replace("?","");try{if(s=n.map(h=>{var l=h instanceof this.Table?h.name:h;if(typeof l!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return l}),t=="r"||t==="readonly")a="readonly";else{if(t!="rw"&&t!="readwrite")throw new Q.InvalidArgument("Invalid transaction mode: "+t);a="readwrite"}if(o){if(o.mode==="readonly"&&a==="readwrite"){if(!i)throw new Q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&s.forEach(h=>{if(o&&o.storeNames.indexOf(h)===-1){if(!i)throw new Q.SubTransaction("Table "+h+" not included in parent transaction.");o=null}}),i&&o&&!o.active&&(o=null)}}catch(h){return o?o._promise(null,(l,f)=>{f(h)}):be(h)}const c=_s.bind(null,this,a,s,o,r);return o?o._promise(a,c,"lock"):X.trans?Vt(X.transless,()=>this._whenReady(c)):this._whenReady(c)}table(t){if(!De(this._allTables,t))throw new Q.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const nl=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class rl{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[nl](){return this}}function Ss(e,t){return me(t).forEach(n=>{Qn(e[n]||(e[n]=new We),t[n])}),e}function ol(e){return new rl(t=>{const n=Yo(e);let r=!1,o={},i={};const a={get closed(){return r},unsubscribe:()=>{r=!0,st.storagemutated.unsubscribe(l)}};t.start&&t.start(a);let s=!1,c=!1;function h(){return me(i).some(u=>o[u]&&el(o[u],i[u]))}const l=u=>{Ss(o,u),h()&&f()},f=()=>{if(s||r)return;o={};const u={},p=function(_){n&&Ut();const m=()=>it(e,{subscr:_,trans:null}),b=X.trans?Vt(X.transless,m):m();return n&&b.then(Ze,Ze),b}(u);c||(st("storagemutated",l),c=!0),s=!0,Promise.resolve(p).then(_=>{s=!1,r||(h()?f():(o={},i=u,t.next&&t.next(_)))},_=>{s=!1,t.error&&t.error(_),a.unsubscribe()})};return f(),a})}let No;try{No={indexedDB:de.indexedDB||de.mozIndexedDB||de.webkitIndexedDB||de.msIndexedDB,IDBKeyRange:de.IDBKeyRange||de.webkitIDBKeyRange}}catch{No={indexedDB:null,IDBKeyRange:null}}const ft=vt;function Mn(e){let t=Ye;try{Ye=!0,st.storagemutated.fire(e)}finally{Ye=t}}Kt(ft,{...In,delete:e=>new ft(e,{addons:[]}).delete(),exists:e=>new ft(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return ri(t)?Promise.resolve(t.databases()).then(r=>r.map(o=>o.name).filter(o=>o!=="__dbnames")):ni(t,n).toCollection().primaryKeys()}(ft.dependencies).then(e)}catch{return be(new Q.MissingAPI)}},defineClass:()=>function(e){je(this,e)},ignoreTransaction:e=>X.trans?Vt(X.transless,e):e(),vip:Ro,async:function(e){return function(){try{var t=Co(e.apply(this,arguments));return t&&typeof t.then=="function"?t:q.resolve(t)}catch(n){return be(n)}}},spawn:function(e,t,n){try{var r=Co(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:q.resolve(r)}catch(o){return be(o)}},currentTransaction:{get:()=>X.trans||null},waitFor:function(e,t){const n=q.resolve(typeof e=="function"?ft.ignoreTransaction(e):e).timeout(t||6e4);return X.trans?X.trans.waitFor(n):n},Promise:q,debug:{get:()=>Ke,set:e=>{ns(e,e==="dexie"?()=>!0:ps)}},derive:Rt,extend:je,props:Kt,override:Ja,Events:tn,on:st,liveQuery:ol,extendObservabilitySet:Ss,getByKeyPath:Qe,setByKeyPath:Ne,delByKeyPath:function(e,t){typeof t=="string"?Ne(e,t,void 0):"length"in t&&[].map.call(t,function(n){Ne(e,n,void 0)})},shallowClone:Za,deepClone:hn,getObjectDiff:oi,cmp:Pe,asap:Xa,minKey:-(1/0),addons:[],connections:en,errnames:Xo,dependencies:No,semVer:"3.2.3",version:"3.2.3".split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),ft.maxKey=un(ft.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(st("storagemutated",e=>{if(!Ye){let t;sr?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),Ye=!0,dispatchEvent(t),Ye=!1}}),addEventListener("x-storagemutated-1",({detail:e})=>{Ye||Mn(e)}));let Ye=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel("x-storagemutated-1");typeof e.unref=="function"&&e.unref(),st("storagemutated",t=>{Ye||e.postMessage(t)}),e.onmessage=t=>{t.data&&Mn(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){st("storagemutated",t=>{try{Ye||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:"x-storagemutated-1",changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key==="x-storagemutated-1"){const n=JSON.parse(t.newValue);n&&Mn(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type==="x-storagemutated-1"&&Mn(t.changedParts)})}q.rejectionMapper=function(e,t){if(!e||e instanceof Ct||e instanceof TypeError||e instanceof SyntaxError||!e.name||!qi[e.name])return e;var n=new qi[e.name](t||e.message,e);return"stack"in e&&Xe(n,"stack",{get:function(){return this.inner.stack}}),n},ns(Ke,ps);class il extends vt{constructor(){super("SoundBoardDB");we(this,"sample");this.version(1).stores({sample:"filename"})}}const ht=class{constructor(){we(this,"_db",new il);we(this,"_channelDataStore",new Map)}static init(){ht._instance=new ht}static get instance(){return ht._instance||ht.init(),ht._instance}async getSampleBlob(t){return await this._db.sample.get({filename:t}).then(n=>n==null?void 0:n.data)}cacheChannelData(t,n){this._channelDataStore.set(t,n)}getChannelData(t){return this._channelDataStore.get(t)}async getAllSampleFileNames(){return await this._db.sample.toCollection().keys()}async addSampleFromFile(t){return await this._db.sample.put({filename:t.name,data:t})}async addSample(t){return await this._db.sample.put(t)}async deleteSampleByName(t){return this._channelDataStore.delete(t),await this._db.sample.where({filename:t}).delete()}};let Fe=ht;we(Fe,"_instance");function al(e){return(e.split(/.*[/|\\]/).at(-1)??"").replace(/\..*$/,"")}async function sl(e,t,n){const r=await fetch(`https://api.github.com/repos/${e}/${t}/contents/samples/${n}`,{headers:{"Content-Type":"application/vnd.github.raw"}});if(!r.ok)throw new Error(`Error fetching file:'${n}'
${await r.text()}`);return(await r.json()).content}class Es{static decodeArrayBuffer(t){const n=t.length/4*3,r=new ArrayBuffer(n);return this.decode(t,r),r}static removePaddingChars(t){return this._keyStr.indexOf(t.charAt(t.length-1))==64?t.substring(0,t.length-1):t}static decode(t,n){t=this.removePaddingChars(t),t=this.removePaddingChars(t);const r=Math.floor(t.length/4*3);let o,i,a,s,c,h,l,f=0,u=0;const p=n?new Uint8Array(n):new Uint8Array(r);for(t=t.replace(/[^A-Za-z0-9+/=]/g,""),f=0;f<r;f+=3)s=this._keyStr.indexOf(t.charAt(u++)),c=this._keyStr.indexOf(t.charAt(u++)),h=this._keyStr.indexOf(t.charAt(u++)),l=this._keyStr.indexOf(t.charAt(u++)),o=s<<2|c>>4,i=(c&15)<<4|h>>2,a=(h&3)<<6|l,p[f]=o,h!=64&&(p[f+1]=i),l!=64&&(p[f+2]=a);return p}}we(Es,"_keyStr","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");class cl{get filename(){const t=this.location.split("/").at(-1);if(!t)throw new Error(`Unexpected sample location '${this.location}'`);return t}}class Ge extends cl{constructor(n,r){super();we(this,"label");we(this,"location");this.location=n,this.label=r}async downloadDirtSample(){const o=await sl("knutsoned","musical-shadows",this.location),i=Es.decodeArrayBuffer(o);return new Blob([i],{type:"audio/wav"})}async ensureCached(){let n;n=await Fe.instance.getSampleBlob(this.filename),n||(n=await this.downloadDirtSample(),Fe.instance.addSample({filename:this.filename,data:n}))}}class cr{}we(cr,"samples",[new Ge("24_TechNoir_ARP2600_C0.wav","TechNoir"),new Ge("50_Marimba_DX100_D2.wav","Marimba"),new Ge("52 Funk Bass AELITA E2_0001.wav","Aelita"),new Ge("M1 Organ Stab Vinyl Synths Fmaj9 C2.wav","Vinyl"),new Ge("55_BillyZaneBass_ARP2600_G2.wav","Zane"),new Ge("21_Sehnsucht_ARP2600_A-1.wav","Sehnsucht"),new Ge("95 Acoustic Guitar Chorus Mirage B5.wav","Guitar"),new Ge("Orbit Keys S950 C4.wav","Orbit"),new Ge("Stutter Bass Mirage C2.wav","Stutter")]);Ha(cr.samples.length>va,"Not enough default samples");var Os=(e=>(e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e))(Os||{});const pt=class{static log(t,n,...r){pt.Loggers[Os[n]](`[${n}] ${t}`,...r)}static error(t,...n){pt.log(t,"ERROR",...n)}static warn(t,...n){pt.log(t,"WARN",...n)}static info(t,...n){pt.log(t,"INFO",...n)}static debug(t,...n){pt.log(t,"DEBUG",...n)}};let rt=pt;we(rt,"Loggers",[console.error,console.warn,console.info,console.debug]);class ul{static toAppState(t){return dl(JSON.parse(t),Mo("AppState"))}static appStateToJson(t){return JSON.stringify(hl(t,Mo("AppState")),null,2)}}function ze(e,t,n,r=""){const o=Bo(e),i=r?` on ${r}`:"",a=n?` for key "${n}"`:"";throw Error(`Invalid value${a}${i}. Expected ${o} but got ${JSON.stringify(t)}`)}function Bo(e){return Array.isArray(e)?e.length===2&&e[0]===void 0?`an optional ${Bo(e[1])}`:`one of [${e.map(t=>Bo(t)).join(", ")}]`:typeof e=="object"&&e.literal!==void 0?e.literal:typeof e}function ll(e){if(e.jsonToJS===void 0){const t={};e.props.forEach(n=>t[n.json]={key:n.js,typ:n.typ}),e.jsonToJS=t}return e.jsonToJS}function fl(e){if(e.jsToJSON===void 0){const t={};e.props.forEach(n=>t[n.js]={key:n.json,typ:n.typ}),e.jsToJSON=t}return e.jsToJSON}function It(e,t,n,r="",o=""){function i(u,p){return typeof u==typeof p?p:ze(u,p,r,o)}function a(u,p){const _=u.length;for(let m=0;m<_;m++){const b=u[m];try{return It(p,b,n)}catch{}}return ze(u,p,r,o)}function s(u,p){return u.indexOf(p)!==-1?p:ze(u.map(_=>En(_)),p,r,o)}function c(u,p){return Array.isArray(p)?p.map(_=>It(_,u,n)):ze(En("array"),p,r,o)}function h(u){if(u===null)return null;const p=new Date(u);return isNaN(p.valueOf())?ze(En("Date"),u,r,o):p}function l(u,p,_){if(_===null||typeof _!="object"||Array.isArray(_))return ze(En(f||"object"),_,r,o);const m={};return Object.getOwnPropertyNames(u).forEach(b=>{const g=u[b],v=Object.prototype.hasOwnProperty.call(_,b)?_[b]:void 0;m[g.key]=It(v,g.typ,n,b,f)}),Object.getOwnPropertyNames(_).forEach(b=>{Object.prototype.hasOwnProperty.call(u,b)||(m[b]=It(_[b],p,n,b,f))}),m}if(t==="any")return e;if(t===null)return e===null?e:ze(t,e,r,o);if(t===!1)return ze(t,e,r,o);let f;for(;typeof t=="object"&&t.ref!==void 0;)f=t.ref,t=yl[t.ref];return Array.isArray(t)?s(t,e):typeof t=="object"?t.hasOwnProperty("unionMembers")?a(t.unionMembers,e):t.hasOwnProperty("arrayItems")?c(t.arrayItems,e):t.hasOwnProperty("props")?l(n(t),t.additional,e):ze(t,e,r,o):t===Date&&typeof e!="number"?h(e):i(t,e)}function dl(e,t){return It(e,t,ll)}function hl(e,t){return It(e,t,fl)}function En(e){return{literal:e}}function pl(e){return{arrayItems:e}}function Ji(e,t){return{props:e,additional:t}}function Mo(e){return{ref:e}}const yl={AppState:Ji([{json:"samplers",js:"samplers",typ:pl(Mo("SamplePlayer"))}],!1),SamplePlayer:Ji([{json:"label",js:"label",typ:""},{json:"playbackRate",js:"playbackRate",typ:3.14},{json:"src",js:"src",typ:""}],!1)},Ps="soundbored-app";function gl(){const e=localStorage.getItem(Ps);if(e)try{return ul.toAppState(e)}catch(t){return rt.error("Failed to parse App state from JSON",t),null}return null}function ml(){return{samplers:cr.samples.slice(0,va).map(({filename:t,label:n})=>({src:t,label:n,playbackRate:1}))}}const bl=gl()??ml(),[ur,js]=sc(bl);function Fo(){localStorage.setItem(Ps,JSON.stringify(ur))}async function vl(){Fe.init(),performance.mark("fetch-sample-start");const e=await Promise.allSettled(cr.samples.map(async r=>{try{return await r.ensureCached(),Promise.resolve()}catch(o){return rt.error(`Failed to load sample '${r}'`,o),Promise.reject()}}));performance.mark("fetch-sample-end");const t=e.reduce((r,o)=>(r[o.status]+=1,r),{fulfilled:0,rejected:0}),n=performance.measure("fetch-sample-duration","fetch-sample-start","fetch-sample-end");t.fulfilled&&rt.info(`Successfully loaded ${t.fulfilled} samples`),t.rejected&&rt.warn(`Failed to load ${t.rejected} samples`),rt.debug(`Sample fetch took ${Math.ceil(n.duration)}ms`)}const wl="_root_i3ynq_1",_l="_content_i3ynq_7",Al="_navbar_i3ynq_14",Sl="_icon_i3ynq_27",El="_footer_i3ynq_47",Ol="_interaction_i3ynq_64",On={root:wl,content:_l,navbar:Al,icon:Sl,"header-title":"_header-title_i3ynq_43",footer:El,interaction:Ol},Pl=fe('<div><header><h1>Musical Shadows</h1></header><main role="main" class="flex flex-1 justify-content-center align-items-center"></main><footer>');function jl(){const e=vl(),[t,n]=ve(!0);return(()=>{const r=Pl(),o=r.firstChild,i=o.firstChild,a=o.nextSibling,s=a.nextSibling;return se(r,le(Sf,{get show(){return t()},setShow:n}),o),se(a,le(Vf,{appInitialized:e,get samplers(){return ur.samplers}})),ue(c=>{const h=On.root,l=On.navbar+" px-4 justify-content-center align-items-center",f=On["header-title"],u=On.footer;return h!==c._v$&&Ce(r,c._v$=h),l!==c._v$2&&Ce(o,c._v$2=l),f!==c._v$3&&Ce(i,c._v$3=f),u!==c._v$4&&Ce(s,c._v$4=u),c},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()}function $l(e){return e!==null&&(typeof e=="object"||typeof e=="function")}var Zn=e=>typeof e=="function"&&!e.length?e():e,Xi=e=>Array.isArray(e)?e:e?[e]:[];function Qi(e,...t){return typeof e=="function"?e(...t):e}var xl=Object.entries,kl=Zr;function Tl(e,t,n,r){return e.addEventListener(t,n,r),kl(e.removeEventListener.bind(e,t,n,r))}function Il(e,t,n,r){const o=()=>{Xi(Zn(e)).forEach(i=>{i&&Xi(Zn(t)).forEach(a=>Tl(i,a,n,r))})};typeof e=="function"?qo(o):ue(o)}var Rl=e=>Object.assign({},e);function Zi(e,...t){const n=typeof t[0]=="string"?[t]:t,r=Rl(e),o=[];for(let i=0;i<n.length;i++){const a=n[i];o.push({});for(const s of a)o[i][s]=r[s],delete r[s]}return[...o,r]}var Cl=e=>e.substring(2).toLowerCase(),Dl=e=>{const t={};return Object.entries(e).forEach(([n,r])=>t[Cl(n)]=r),t};function fn(e){const[{target:t=document.body,pointerTypes:n,passive:r=!0},o]=Zi(e,"target","pointerTypes","passive"),[{gotcapture:i,lostcapture:a},s]=Zi(Dl(o),"gotcapture","lostcapture"),c=l=>f=>(!n||n.includes(f.pointerType))&&l(f),h=(l,f)=>Il(t,l,c(f),{passive:r});xl(s).forEach(([l,f])=>f&&h(`pointer${l}`,f)),i&&h("gotpointercapture",i),a&&h("lostpointercapture",a)}const Nl=fe('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>',2),Bl=fe("<title></title>",2);function ct(e,t){const n=ua(e.a,t);return(()=>{const r=Nl.cloneNode(!0);return da(r,n,!0,!0),se(r,()=>nc,null),se(r,(()=>{const o=ke(()=>!!t.title,!0);return()=>o()&&(()=>{const i=Bl.cloneNode(!0);return se(i,()=>t.title),i})()})(),null),ue(o=>{const i=e.a.stroke,a={...t.style,overflow:"visible",color:t.color||"currentColor"},s=t.size||"1em",c=t.size||"1em",h=e.c;return i!==o._v$&&ae(r,"stroke",o._v$=i),o._v$2=fa(r,a,o._v$2),s!==o._v$3&&ae(r,"height",o._v$3=s),c!==o._v$4&&ae(r,"width",o._v$4=c),h!==o._v$5&&(r.innerHTML=o._v$5=h),o},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),r})()}function Ml(e){return ct({a:{viewBox:"0 0 24 24"},c:'<path d="M7 6v12l10-6z"/>'},e)}function Fl(e){return ct({a:{viewBox:"0 0 24 24"},c:'<path d="M7 7h10v10H7z"/>'},e)}function ql(e){return ct({a:{viewBox:"0 0 24 24"},c:'<path d="M2.165 19.551c.186.28.499.449.835.449h15c.4 0 .762-.238.919-.606l3-7A.998.998 0 0021 11h-1V8c0-1.103-.897-2-2-2h-6.655L8.789 4H4c-1.103 0-2 .897-2 2v13h.007a1 1 0 00.158.551zM18 8v3H6c-.4 0-.762.238-.919.606L4 14.129V8h14z"/>'},e)}function Kl(e){return ct({a:{viewBox:"0 0 24 24"},c:'<path d="M20 5h-9.586L8.707 3.293A.997.997 0 008 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2z"/>'},e)}function Yr(e,t,n,r,o){t.forEach(i=>{e.addEventListener(i,n,{capture:r,passive:o})})}function Pn(e,t,n,r,o){t.forEach(i=>e.removeEventListener(i,n,{capture:r,passive:o}))}function Ll(e,t=!1,n=!1){const r=document.hidden!==void 0;function o(){}const i=navigator.userAgent.toLowerCase(),a=n||i.indexOf("iphone")>=0&&i.indexOf("like iphone")<0||i.indexOf("ipad")>=0&&i.indexOf("like ipad")<0||i.indexOf("ipod")>=0&&i.indexOf("like ipod")<0||i.indexOf("mac os x")>=0&&navigator.maxTouchPoints>0;let s=!0;function c(){const O=!!(t||(!r||!document.hidden)&&(!a||document.hasFocus()));O!==s&&(s=O,m(!1),f())}const h=()=>{c()};r&&Yr(document,["visibilitychange"],h,!0,!0);function l(O){O&&O.target!==window||c()}a&&Yr(window,["focus","blur"],l,!0,!0);function f(){if(s){if(e.state!=="running"&&e.state!=="closed"&&v){const O=e.resume();O&&O.then(o,o).catch(o)}}else if(e.state==="running"){const O=e.suspend();O&&O.then(o,o).catch(o)}}const u=O=>{(!O||!O.unmuteHandled)&&(O.unmuteHandled=!0,f())};e.addEventListener("statechange",u,{capture:!0,passive:!0}),e.onstatechange||(e.onstatechange=u);let p=null;const _="data:audio/mpeg;base64,//uQx"+"A".repeat(23)+"WGluZwAAAA8AAAACAAACcQCA"+"gICA".repeat(16)+"/".repeat(66)+"8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkI"+"A".repeat(320)+"//sQxAADgnABGiAAQBCqgCRMAAgEAH"+"/".repeat(15)+"7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq"+"/".repeat(18)+"9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAw"+"V".repeat(97)+"Q==";function m(O){if(a)if(s){if(O){if(!p){const A=document.createElement("div");A.innerHTML="<audio x-webkit-airplay='deny'></audio>",p=A.children.item(0),p.controls=!1,p.disableRemotePlayback=!0,p.preload="auto",p.src=_,p.loop=!0,p.load()}if(p.paused){const A=p.play();A&&A.then(o,b).catch(b)}}}else b()}function b(){p&&(p.src="about:blank",p.load(),p=null)}const g=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let v=!1;function E(){v=!0,m(!0),f()}return Yr(window,g,E,!0,!0),{dispose:function(){b(),r&&Pn(document,["visibilitychange"],h,!0,!0),a&&Pn(window,["focus","blur"],l,!0,!0),Pn(window,g,E,!0,!0),Pn(e,["statechange"],u,!0,!0),e.onstatechange===u&&(e.onstatechange=null)}}}const[wt,Ul]=ve(null);function Vl(e,t=!1){if(!t&&wt())return;const n=new AudioContext(e);Ll(n),Ul(n)}class Gl{constructor(t,n){we(this,"audio");we(this,"_splitter");we(this,"_audioOut");we(this,"_sampleHolder");we(this,"_analyser");we(this,"_playing",!1);this.audio=new AudioBufferSourceNode(t,n),this._splitter=new ChannelSplitterNode(t),this._analyser=new AnalyserNode(t),this._audioOut=new ChannelMergerNode(t),this._sampleHolder=new Float32Array(1),this.audio.addEventListener("ended",()=>{this._playing=!1})}get playbackPosition(){return this._analyser.getFloatTimeDomainData(this._sampleHolder),this._sampleHolder[0]}get playing(){return this._playing}loadBuffer(t){const n=Math.max(t.numberOfChannels,3),r=n-1;if(this.audio.buffer=new AudioBuffer({length:t.length,sampleRate:t.sampleRate,numberOfChannels:n}),t.numberOfChannels==1)this.audio.buffer.copyToChannel(t.getChannelData(0),0),this.audio.buffer.copyToChannel(t.getChannelData(0),1);else for(let i=0;i<t.numberOfChannels;i++)this.audio.buffer.copyToChannel(t.getChannelData(i),i);const o=this.audio.buffer.getChannelData(r);for(let i=0;i<t.length;i++)o[i]=i/t.length;this.audio.connect(this._splitter);for(let i=0;i<r;i++)this._splitter.connect(this._audioOut,i,i);this._splitter.connect(this._analyser,r)}get playbackRate(){return this.audio.playbackRate}start(){this._playing=!0,this.audio.start()}stop(){this.audio.stop()}connect(t,n){return this._audioOut.connect(t,n)}}const zl="_buttonPad_1gbmg_1",Wl="_selected_1gbmg_11",Hl="_label_1gbmg_37",Jr={buttonPad:zl,selected:Wl,label:Hl},Yl=fe("<canvas>"),Jl=fe("<button><div>"),Xl=fe("<button>"),Ql=e=>{let t,n,r,o,i;const a=()=>wt()&&e.model.src,[s]=na(a,async f=>{var p;const u=await Fe.instance.getSampleBlob(f);if(u)return await((p=wt())==null?void 0:p.decodeAudioData(await u.arrayBuffer()))});qo(()=>{const f=e.model.playbackRate;r&&(r.audio.playbackRate.value=f)});function c(){const f=n.getContext("2d");!f||!r||(f.clearRect(0,0,n.width,n.height),f.fillStyle="white",f.fillRect(0,0,n.width*r.playbackPosition,n.height),r!=null&&r.playing?requestAnimationFrame(c):f.clearRect(0,0,n.width,n.height))}const h=()=>{const f=wt();if(!f)return;r&&r.playing&&r.stop(),r=new Gl(f,{playbackRate:e.model.playbackRate});const u=s();u&&(r.loadBuffer(u),r.connect(f.destination),r.start(),c())},l=()=>{r&&r.playing&&r.stop()};return fn({target:()=>o,pointerTypes:["touch","pen","mouse"],onDown:h}),fn({target:()=>i,pointerTypes:["touch","pen","mouse"],onDown:l}),le($s,{get sampler(){return e.model},ref(f){const u=t;typeof u=="function"?u(f):t=f},get class(){return Jr.buttonPad},get onClick(){return e.onClick},get classList(){return{...e.classList,[Jr.selected]:e.selected}},get children(){return[(()=>{const f=Yl(),u=n;return typeof u=="function"?gt(u,f):n=f,f})(),(()=>{const f=Jl(),u=f.firstChild,p=o;return typeof p=="function"?gt(p,f):o=f,se(u,()=>e.model.label),se(f,le(Ml,{size:24}),null),ue(_=>{const m=s.loading,b=Jr.label;return m!==_._v$&&(f.disabled=_._v$=m),b!==_._v$2&&Ce(u,_._v$2=b),_},{_v$:void 0,_v$2:void 0}),f})(),(()=>{const f=Xl(),u=i;return typeof u=="function"?gt(u,f):i=f,se(f,le(Fl,{size:24})),ue(()=>f.disabled=s.loading),f})()]}})};function Zl(e,t){let n=-1/0;fn({target:e,onUp:r=>{const o=performance.now();o-n<cc?(t(r),n=-1/0):n=o}})}const[ai,ef]=ve(0),tf=()=>ur.samplers[ai()],nf=e=>{js("samplers",ai(),ba(e))},rf={selected:tf,selectedIdx:ai,setSelectionIndex:ef,mutateSelected:nf},si=()=>rf,of="_knob_uikyq_1",af="_value_uikyq_10",sf="_arc_uikyq_17",cf="_dial_uikyq_21",kt={knob:of,value:af,arc:sf,dial:cf,"knob-label":"_knob-label_uikyq_26"};function uf(...e){return e.reduce((t,n)=>({x:t.x+n.x,y:t.y+n.y}))}function lf(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}const ff=fe('<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg"><path></path><path></path><text x="70" y="100">'),df=fe("<svg><path></svg>",!1,!0),hf=e=>{const t=()=>(e.value-(e.min??0))/(e.max-(e.min??0)),i={x:60,y:60},a=3/4,s=()=>2*Math.PI*(t()*.75+(1-a)),c=Math.PI/15,h=()=>s()+c,l=u=>{const p=lf(50,u);return uf(p,i)},f=()=>s()>3*Math.PI/2?1:0;return(()=>{const u=ff(),p=u.firstChild,_=p.nextSibling,m=_.nextSibling,b=e.ref;return typeof b=="function"?gt(b,u):e.ref=u,se(u,(()=>{const g=ke(()=>s()+c<2*Math.PI);return()=>g()&&(()=>{const v=df();return ue(E=>{const O=kt.track,A=`M ${i.x+50},${i.y} A 50 50 0 ${h()>Math.PI?0:1} 0 ${l(h()).x} ${l(h()).y}`;return O!==E._v$9&&ae(v,"class",E._v$9=O),A!==E._v$10&&ae(v,"d",E._v$10=A),E},{_v$9:void 0,_v$10:void 0}),v})()})(),p),se(m,()=>e.value.toFixed(2)),ue(g=>{const v=kt.knob,E=e.size??48,O=e.size??48,A=kt.arc,j=`M ${i.x},${i.y+50} A 50 50 0 ${f()} 1 ${l(s()).x} ${l(s()).y}`,k=kt.dial,R=`M ${i.x},${i.y} L ${l(s()).x} ${l(s()).y}`,C=kt.value;return v!==g._v$&&ae(u,"class",g._v$=v),E!==g._v$2&&ae(u,"width",g._v$2=E),O!==g._v$3&&ae(u,"height",g._v$3=O),A!==g._v$4&&ae(p,"class",g._v$4=A),j!==g._v$5&&ae(p,"d",g._v$5=j),k!==g._v$6&&ae(_,"class",g._v$6=k),R!==g._v$7&&ae(_,"d",g._v$7=R),C!==g._v$8&&ae(m,"class",g._v$8=C),g},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),u})()},pf=fe('<div class="flex flex-column"><div>'),yf=e=>{let t;const[n,r]=ve(e.value),[o,i]=ve(null),[a,s]=ve(0),[c,h]=ve(!1),l=u=>{u.pointerId===o()&&(u.preventDefault(),u.stopImmediatePropagation(),u.pointerType==="Mouse"&&u.shiftKey&&h(!0),e.updateFunc(Math.min(e.max,Math.max(e.min??0,n()+(a()-u.clientY)/screen.availHeight*(c()?1:4)))))},f=u=>{u.pointerId===o()&&(Fo(),i(null),h(!1),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",f))};return fn({target:()=>t,onDown:u=>{s(u.clientY),r(e.value),i(u.pointerId),window.addEventListener("pointerup",f,{passive:!1}),window.addEventListener("pointermove",l,{passive:!1})}}),Zl(()=>t,()=>{e.updateFunc(e.defaultValue),Fo()}),(()=>{const u=pf(),p=u.firstChild;return se(p,()=>e.label),se(u,le(hf,{ref(_){const m=t;typeof m=="function"?m(_):t=_},get value(){return e.value},get min(){return e.min},get max(){return e.max},get size(){return e.size}}),null),ue(()=>Ce(p,kt["knob-label"])),u})()},gf="_modal_1azvw_1",mf="_topbar_1azvw_24",jn={modal:gf,topbar:mf,"modal-content":"_modal-content_1azvw_36","modal-overlay":"_modal-overlay_1azvw_51"},bf=fe("<div><div><button></button></div><div>"),vf=fe("<div>"),wf=fe("<button>"),_f=e=>{let t,n;return[(()=>{const r=bf(),o=r.firstChild,i=o.firstChild,a=o.nextSibling,s=t;return typeof s=="function"?gt(s,r):t=r,no(i,"click",e.onClose,!0),se(a,()=>e.children),se(r,(()=>{const c=ke(()=>!!e.buttonText);return()=>c()&&(()=>{const h=wf();return no(h,"click",e.onClose,!0),se(h,()=>e.buttonText),h})()})(),null),ue(c=>{const h={[jn.modal]:!0,hidden:!e.show},l=`${jn.topbar} flex flex-row-reverse`,f=`${jn["modal-content"]} p-2`;return c._v$=ro(r,h,c._v$),l!==c._v$2&&Ce(o,c._v$2=l),f!==c._v$3&&Ce(a,c._v$3=f),c},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})(),(()=>{const r=vf(),o=n;return typeof o=="function"?gt(o,r):n=r,ue(i=>ro(r,{[jn["modal-overlay"]]:!0,hidden:!e.show},i)),r})()]};dn(["click"]);const Af=fe('<div class="grid"><div class="col"><h2 class="pb-2">Musical Shadows</h2><div class="text-left"><div class="py-2">Trigger samples by hitting the pads'),Sf=e=>le(_f,{get show(){return e.show},onClose:()=>{Vl(),e.setShow(!1)},buttonText:"Ok",get children(){return Af()}}),Ef=fe('<div class="h-full flex flex-column px-2 text-sm text-left"><div class="flex"><div class="w-8rem"></div><div class="flex-grow-1 text-right text-color-secondary w-2rem h-full overflow-hidden text-overflow-ellipsis white-space-nowrap">/</div></div><div class="flex flex-auto align-items-end py-2">'),Of=fe('<input type="text" class="border-none h-full w-full text-xs">'),Pf=fe("<div>"),jf=()=>{const[e,t]=ve(!1),{selected:n,mutateSelected:r}=si();return(()=>{const o=Ef(),i=o.firstChild,a=i.firstChild,s=a.nextSibling;s.firstChild;const c=i.nextSibling;return se(a,(()=>{const h=ke(()=>!!e());return()=>h()?(()=>{const l=Of();return l.addEventListener("mouseleave",()=>{t(!1)}),l.$$keyup=f=>{f.key==="Enter"&&t(!1)},l.addEventListener("change",()=>Fo()),l.$$input=f=>{r(u=>{u.label=f.currentTarget.value})},ae(l,"maxlength",wa),ue(()=>l.value=n().label),l})():(()=>{const l=Pf();return l.$$click=()=>{t(!0)},se(l,()=>n().label),l})()})()),se(s,()=>n().src,null),se(o,le(cd,{get model(){return n()}}),c),se(c,le(yf,{get value(){return n().playbackRate},updateFunc:h=>r(l=>{l.playbackRate=h}),defaultValue:1,min:.01,max:2,size:50,label:"Playback Speed"})),o})()};dn(["input","keyup","click"]);function $f(e,t){e.src=t,e.label=al(t).substring(0,wa)}dn(["pointerdown","click"]);function xf(e){return ct({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="1"/><path d="M15.51 15.56A5 5 0 1012 17M18.832 17.86A9 9 0 1012 21M12 12v9"/>'},e)}function kf(e){return ct({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M3 12h5l4 8V4l4 8h5"/>'},e)}function Tf(e){return ct({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M21 12h-2c-.894 0-1.662-.857-1.761-2-.296-3.45-.749-6-2.749-6s-2.5 3.582-2.5 8-.5 8-2.5 8-2.452-2.547-2.749-6c-.1-1.147-.867-2-1.763-2h-2"/>'},e)}function If(e){return ct({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M8 10a2 2 0 100-4 2 2 0 000 4z"/><path fill-rule="evenodd" d="M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z" clip-rule="evenodd"/>'},e)}const Rf="_controlPanel_1v00h_1",Cf={controlPanel:Rf},Df=fe('<div><div class="w-2rem"><ul class="w-full h-full flex flex-initial flex-column justify-content-evenly list-none"></ul></div><div class="h-full flex-grow-1">'),Nf=fe('<li><a class="flex justify-content-center align-content-center flex-wrap w-full hover:text-primary transition-duration-200">'),Bf=fe("<span>Sorry, tab not implemented"),Mf=["SAMPLE","EXPLORER","RECORD","EFFECT"];function Ff(e,t=!1,n){switch(e){case"SAMPLE":return t?le(kf,{size:n}):le(Tf,{size:n});case"EXPLORER":return t?le(ql,{size:n}):le(Kl,{size:n});case"RECORD":return le(If,{size:n});case"EFFECT":return le(xf,{size:n})}}const qf=()=>{const[e,t]=ve("SAMPLE");return(()=>{const n=Df(),r=n.firstChild,o=r.firstChild,i=r.nextSibling;return se(o,()=>Mf.slice(0,1).map((a,s)=>(()=>{const c=Nf(),h=c.firstChild;return c.$$click=()=>t(a),se(h,()=>Ff(a,a===e(),24)),ue(()=>Ce(c,`flex-auto flex cursor-pointer border-50 border-right-1 ${s?"border-top-1":""} ${e()===a?"surface-300":"surface-100"}`)),c})())),i.style.setProperty("width","calc(100% - 2rem)"),se(i,le(la,{get fallback(){return Bf()},get children(){return le(Ht,{get when(){return e()==="SAMPLE"},get children(){return le(jf,{})}})}})),ue(()=>Ce(n,`${Cf.controlPanel} w-full flex overflow-hidden surface-200 select-none border-1 border-primary border-round`)),n})()};dn(["click"]);const Kf="_sampler_513kt_1",Lf="_buttonGrid_513kt_28",Xr={sampler:Kf,buttonGrid:Lf,"hide-md":"_hide-md_513kt_41"},Uf=fe("<div><div>"),Vf=e=>{const{selected:t,setSelectionIndex:n}=si();return(()=>{const r=Uf(),o=r.firstChild;return se(r,le(qf,{}),o),se(o,()=>e.samplers.map((i,a)=>le(Ql,{get selected(){return i===t()},get classList(){return{[Xr["hide-md"]]:a>8}},model:i,onClick:()=>n(a)}))),ue(i=>{const a=`${Xr.sampler}`,s=Xr.buttonGrid;return a!==i._v$&&Ce(r,i._v$=a),s!==i._v$2&&Ce(o,i._v$2=s),i},{_v$:void 0,_v$2:void 0}),r})()};function Gf(e){const t={...e},n={...e},r={},o=a=>{let s=r[a];if(!s){if(!Ko())return t[a];r[a]=s=ve(t[a],{internal:!0}),delete t[a]}return s[0]()};for(const a in e)Object.defineProperty(n,a,{get:()=>o(a),enumerable:!0});const i=(a,s)=>{const c=r[a];if(c)return c[1](s);a in t&&(t[a]=Qi(s,[t[a]]))};return[n,(a,s)=>{if($l(a)){const c=qe(()=>Object.entries(Qi(a,n)));ra(()=>{for(const[h,l]of c)i(h,()=>l)})}else i(a,s);return n}]}var zf={width:null,height:null};function Wf(e){if(!e)return{...zf};const{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Hf(e){const[t,n]=Gf(Wf(Zn(e))),r=new ResizeObserver(([o])=>{const{width:i,height:a}=o.contentRect;n({width:i,height:a})});return Zr(()=>r.disconnect()),qo(()=>{const o=Zn(e);o&&(r.observe(o),Zr(()=>r.unobserve(o)))}),t}const Yf="_sampleView_1decy_1",Jf="_fgLight_1decy_19",Xf="_waveform_1decy_23",Qf="_midline_1decy_31",Zf="_dragline_1decy_37",dt={sampleView:Yf,fgLight:Jf,waveform:Xf,midline:Qf,dragline:Zf},Qr=fe("<svg><path></svg>",!1,!0),ed=fe('<svg><text x="50%" y="50%" text-anchor="middle" alignment-baseline="middle">Audio Engine Off</svg>',!1,!0),td=fe('<svg><text x="50%" y="50%" text-anchor="middle" alignment-baseline="middle">No Sample Loaded</svg>',!1,!0),nd=fe('<svg><text x="50%" y="50%" text-anchor="middle" alignment-baseline="middle">... Loading</svg>',!1,!0),rd=fe('<svg class="w-full h-full"><g>'),od=10;function id(e,t){return e.subarray(Math.max(0,0+t.pan.x),Math.min(Math.floor(e.length/t.zoom.x),e.length))}function ad(e,t,n){const r=id(e,n),o=Math.min(t.width*4,r.length),i=Math.floor(r.length/o),a=t.height/2,s=l=>l*t.width/o,c=l=>a+l*(t.height-od)*.5*n.zoom.y;let h=`M 0 ${r[0]}`;for(let l=1;l<o;l++){const f=r.subarray(l*i,(l+1)*i);h+=` L ${s(l)} ${c(f[0])}`}return h}async function sd({src:e,ctx:t}){const n=Fe.instance.getChannelData(e);if(n)return n;const r=await Fe.instance.getSampleBlob(e);if(!r||!t)return[];const o=await t.decodeAudioData(await r.arrayBuffer()),i=new Array(o.numberOfChannels).fill(null).map((a,s)=>{const c=new Float32Array(o.length);return o.copyFromChannel(c,s),c});return Fe.instance.cacheChannelData(e,i),i}const cd=e=>{let t,n;const r=Hf(()=>t),o=()=>({pan:{x:0,y:0},zoom:{x:1,y:1}}),[i]=na(()=>({src:e.model.src,ctx:wt()}),sd),a=()=>(r.height||0)/2,s=ke(()=>{const b=wt(),g=i(),v=o(),E={width:r.width??0,height:r.height??0};return!g||!b?[]:g.map(O=>(()=>{const A=Qr();return ue(j=>{const k=dt.waveform,R=ad(O,E,v);return k!==j._v$&&ae(A,"class",j._v$=k),R!==j._v$2&&ae(A,"d",j._v$2=R),j},{_v$:void 0,_v$2:void 0}),A})())}),[c,h]=ve(null),[l,f]=ve(0),[u,p]=ve(0),_=b=>{b.pointerId===c()&&(h(null),p(null),window.removeEventListener("pointermove",m),window.removeEventListener("pointerup",_))},m=b=>{b.pointerId===c()&&(b.preventDefault(),b.stopImmediatePropagation())};return fn({target:()=>n,onDown:b=>{Ha(n);const g=n.getBoundingClientRect();f(b.clientY-g.top),p(b.clientX-g.left),h(b.pointerId),window.addEventListener("pointerup",_,{passive:!1}),window.addEventListener("pointermove",m,{passive:!1})}}),le($s,{ref(b){const g=t;typeof g=="function"?g(b):t=b},get class(){return`${dt.sampleView} overflow-hidden`},get children(){const b=rd(),g=b.firstChild,v=n;return typeof v=="function"?gt(v,b):n=b,se(g,le(la,{get children(){return[le(Ht,{get when(){return!wt()},get children(){const E=ed();return ue(()=>ae(E,"class",`${dt.fgLight} font-bold text-sm`)),E}}),le(Ht,{get when(){return i.state==="ready"},get children(){return[(()=>{const E=Qr();return ue(O=>{const A=dt.midline,j=`M 0 ${a()} L ${r.width??0} ${a()}`;return A!==O._v$3&&ae(E,"class",O._v$3=A),j!==O._v$4&&ae(E,"d",O._v$4=j),O},{_v$3:void 0,_v$4:void 0}),E})(),ke(()=>s()),ke(()=>ke(()=>u()!=null)()&&(()=>{const E=Qr();return ue(O=>{const A=dt.dragline,j=`M ${u()-o().pan.x} 0 V ${r.height??0}`;return A!==O._v$7&&ae(E,"class",O._v$7=A),j!==O._v$8&&ae(E,"d",O._v$8=j),O},{_v$7:void 0,_v$8:void 0}),E})())]}}),le(Ht,{get when(){return i.state==="errored"},get children(){const E=td();return ue(()=>ae(E,"class",`${dt.fgLight} font-bold text-sm`)),E}}),le(Ht,{get when(){return i.loading},get children(){const E=nd();return ue(()=>ae(E,"class",`${dt.fgLight} font-bold text-sm`)),E}})]}})),ue(E=>{const O=r.width??0,A=r.height??0;return O!==E._v$5&&ae(b,"width",E._v$5=O),A!==E._v$6&&ae(b,"height",E._v$6=A),E},{_v$5:void 0,_v$6:void 0}),b}})},ud=fe("<div>"),$s=e=>{const[,t]=qs(e,["children","sampler"]),{selectedIdx:n}=si();return(()=>{const r=ud();return da(r,ua(t,{onDragOver:o=>{o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="link")},onDrop:o=>{o.preventDefault(),js("samplers",e.sampler?ur.samplers.indexOf(e.sampler):n(),ba(i=>{o.dataTransfer&&$f(i,o.dataTransfer.getData("text/plain"))}))}}),!1,!0),se(r,()=>e.children),r})()};Xs(()=>le(jl,{}),document.getElementById("root"));
