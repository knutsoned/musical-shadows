var ul=Object.defineProperty;var cl=(t,e,n)=>e in t?ul(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var je=(t,e,n)=>(cl(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const fl=(t,e)=>t===e,Le=Symbol("solid-proxy"),Ci=Symbol("solid-track"),sr={equals:fl};let Ra=qa;const st=1,lr=2,Ca={owned:null,cleanups:null,context:null,owner:null},Fr={};var Se=null;let qr=null,hl=null,we=null,$e=null,nt=null,jr=0;function Da(t,e){const n=we,r=Se,o=t.length===0,i=e===void 0?r:e,a=o?Ca:{owned:null,cleanups:null,context:i?i.context:null,owner:i},s=o?t:()=>t(()=>Ve(()=>kr(a)));Se=a,we=null;try{return pt(s,!0)}finally{we=n,Se=r}}function _e(t,e){e=e?Object.assign({},sr,e):sr;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=o=>(typeof o=="function"&&(o=o(n.value)),Fa(n,o));return[Ma.bind(n),r]}function Di(t,e,n){const r=xr(t,e,!0,st);an(r)}function ce(t,e,n){const r=xr(t,e,!1,st);an(r)}function Qt(t,e,n){Ra=vl;const r=xr(t,e,!1,st);(!n||!n.render)&&(r.user=!0),nt?nt.push(r):an(r)}function De(t,e,n){n=n?Object.assign({},sr,n):sr;const r=xr(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,an(r),Ma.bind(r)}function dl(t){return t&&typeof t=="object"&&"then"in t}function Na(t,e,n){let r,o,i;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,o=t,i=e||{}):(r=t,o=e,i=n||{});let a=null,s=Fr,l=!1,h="initialValue"in i,c=typeof r=="function"&&De(r);const f=new Set,[u,d]=(i.storage||_e)(i.initialValue),[A,E]=_e(void 0),[O,g]=_e(void 0,{equals:!1}),[w,I]=_e(h?"ready":"unresolved");function T(R,$,M,z){return a===R&&(a=null,z!==void 0&&(h=!0),(R===s||$===s)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(z,{value:$})),s=Fr,b($,M)),$}function b(R,$){pt(()=>{$===void 0&&d(()=>R),I($!==void 0?"errored":h?"ready":"unresolved"),E($);for(const M of f.keys())M.decrement();f.clear()},!1)}function m(){const R=gl,$=u(),M=A();if(M!==void 0&&!a)throw M;return we&&!we.user&&R&&Di(()=>{O(),a&&(R.resolved||f.has(R)||(R.increment(),f.add(R)))}),$}function S(R=!0){if(R!==!1&&l)return;l=!1;const $=c?c():r;if($==null||$===!1){T(a,Ve(u));return}const M=s!==Fr?s:Ve(()=>o($,{value:u(),refetching:R}));return dl(M)?(a=M,"value"in M?(M.status==="success"?T(a,M.value,void 0,$):T(a,void 0,Ao(M.value),$),M):(l=!0,queueMicrotask(()=>l=!1),pt(()=>{I(h?"refreshing":"pending"),g()},!1),M.then(z=>T(M,z,void 0,$),z=>T(M,void 0,Ao(z),$)))):(T(a,M,void 0,$),M)}return Object.defineProperties(m,{state:{get:()=>w()},error:{get:()=>A()},loading:{get(){const R=w();return R==="pending"||R==="refreshing"}},latest:{get(){if(!h)return m();const R=A();if(R&&!a)throw R;return u()}}}),c?Di(()=>S(!1)):S(!1),[m,{refetch:S,mutate:d}]}function Ba(t){return pt(t,!1)}function Ve(t){if(we===null)return t();const e=we;we=null;try{return t()}finally{we=e}}function Gt(t){return Se===null||(Se.cleanups===null?Se.cleanups=[t]:Se.cleanups.push(t)),t}function ur(){return we}function pl(){return Se}function yl(t){const e=De(t),n=De(()=>Eo(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let gl;function Ma(){if(this.sources&&this.state)if(this.state===st)an(this);else{const t=$e;$e=null,pt(()=>fr(this),!1),$e=t}if(we){const t=this.observers?this.observers.length:0;we.sources?(we.sources.push(this),we.sourceSlots.push(t)):(we.sources=[this],we.sourceSlots=[t]),this.observers?(this.observers.push(we),this.observerSlots.push(we.sources.length-1)):(this.observers=[we],this.observerSlots=[we.sources.length-1])}return this.value}function Fa(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&pt(()=>{for(let o=0;o<t.observers.length;o+=1){const i=t.observers[o],a=qr&&qr.running;a&&qr.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?$e.push(i):nt.push(i),i.observers&&Ka(i)),a||(i.state=st)}if($e.length>1e6)throw $e=[],new Error},!1)),e}function an(t){if(!t.fn)return;kr(t);const e=jr;ml(t,t.value,e)}function ml(t,e,n){let r;const o=Se,i=we;we=Se=t;try{r=t.fn(e)}catch(a){return t.pure&&(t.state=st,t.owned&&t.owned.forEach(kr),t.owned=null),t.updatedAt=n+1,La(a)}finally{we=i,Se=o}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Fa(t,r):t.value=r,t.updatedAt=n)}function xr(t,e,n,r=st,o){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:Se,context:Se?Se.context:null,pure:n};return Se===null||Se!==Ca&&(Se.owned?Se.owned.push(i):Se.owned=[i]),i}function cr(t){if(t.state===0)return;if(t.state===lr)return fr(t);if(t.suspense&&Ve(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<jr);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===st)an(t);else if(t.state===lr){const r=$e;$e=null,pt(()=>fr(t,e[0]),!1),$e=r}}function pt(t,e){if($e)return t();let n=!1;e||($e=[]),nt?n=!0:nt=[],jr++;try{const r=t();return bl(n),r}catch(r){n||(nt=null),$e=null,La(r)}}function bl(t){if($e&&(qa($e),$e=null),t)return;const e=nt;nt=null,e.length&&pt(()=>Ra(e),!1)}function qa(t){for(let e=0;e<t.length;e++)cr(t[e])}function vl(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:cr(r)}for(e=0;e<n;e++)cr(t[e])}function fr(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const o=r.state;o===st?r!==e&&(!r.updatedAt||r.updatedAt<jr)&&cr(r):o===lr&&fr(r,e)}}}function Ka(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=lr,n.pure?$e.push(n):nt.push(n),n.observers&&Ka(n))}}function kr(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),o=n.observers;if(o&&o.length){const i=o.pop(),a=n.observerSlots.pop();r<o.length&&(i.sourceSlots[a]=r,o[r]=i,n.observerSlots[r]=a)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)kr(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Ao(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function La(t,e=Se){throw Ao(t)}function Eo(t){if(typeof t=="function"&&!t.length)return Eo(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=Eo(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function ue(t,e){return Ve(()=>t(e||{}))}function Bn(){return!0}const Oo={get(t,e,n){return e===Le?n:t.get(e)},has(t,e){return e===Le?!0:t.has(e)},set:Bn,deleteProperty:Bn,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Bn,deleteProperty:Bn}},ownKeys(t){return t.keys()}};function Kr(t){return(t=typeof t=="function"?t():t)?t:{}}function wl(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Po(...t){let e=!1;for(let a=0;a<t.length;a++){const s=t[a];e=e||!!s&&Le in s,t[a]=typeof s=="function"?(e=!0,De(s)):s}if(e)return new Proxy({get(a){for(let s=t.length-1;s>=0;s--){const l=Kr(t[s])[a];if(l!==void 0)return l}},has(a){for(let s=t.length-1;s>=0;s--)if(a in Kr(t[s]))return!0;return!1},keys(){const a=[];for(let s=0;s<t.length;s++)a.push(...Object.keys(Kr(t[s])));return[...new Set(a)]}},Oo);const n={},r=Object.create(null);for(let a=t.length-1;a>=0;a--){const s=t[a];if(!s)continue;const l=Object.getOwnPropertyNames(s);for(let h=l.length-1;h>=0;h--){const c=l[h];if(c==="__proto__"||c==="constructor")continue;const f=Object.getOwnPropertyDescriptor(s,c);if(!r[c])r[c]=f.get?{enumerable:!0,configurable:!0,get:wl.bind(n[c]=[f.get.bind(s)])}:f.value!==void 0?f:void 0;else{const u=n[c];u&&(f.get?u.push(f.get.bind(s)):f.value!==void 0&&u.push(()=>f.value))}}}const o={},i=Object.keys(r);for(let a=i.length-1;a>=0;a--){const s=i[a],l=r[s];l&&l.get?Object.defineProperty(o,s,l):o[s]=l?l.value:void 0}return o}function Ua(t,...e){if(Le in t){const o=new Set(e.length>1?e.flat():e[0]),i=e.map(a=>new Proxy({get(s){return a.includes(s)?t[s]:void 0},has(s){return a.includes(s)&&s in t},keys(){return a.filter(s=>s in t)}},Oo));return i.push(new Proxy({get(a){return o.has(a)?void 0:t[a]},has(a){return o.has(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!o.has(a))}},Oo)),i}const n={},r=e.map(()=>({}));for(const o of Object.getOwnPropertyNames(t)){const i=Object.getOwnPropertyDescriptor(t,o),a=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let s=!1,l=0;for(const h of e)h.includes(o)&&(s=!0,a?r[l][o]=i.value:Object.defineProperty(r[l],o,i)),++l;s||(a?n[o]=i.value:Object.defineProperty(n,o,i))}return[...r,n]}const _l=t=>`Stale read from <${t}>.`;function Va(t){let e=!1;const n=(i,a)=>(e?i[1]===a[1]:!i[1]==!a[1])&&i[2]===a[2],r=yl(()=>t.children),o=De(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let a=0;a<i.length;a++){const s=i[a].when;if(s)return e=!!i[a].keyed,[a,s,i[a]]}return[-1]},void 0,{equals:n});return De(()=>{const[i,a,s]=o();if(i<0)return t.fallback;const l=s.children;return typeof l=="function"&&l.length>0?Ve(()=>l(e?a:()=>{if(Ve(o)[0]!==i)throw _l("Match");return s.when})):l},void 0,void 0)}function dn(t){return t}const Sl=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Al=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Sl]),El=new Set(["innerHTML","textContent","innerText","children"]),Ol=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Pl=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function jl(t,e){const n=Pl[t];return typeof n=="object"?n[e]?n.$:void 0:n}const xl=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),kl={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function $l(t,e,n){let r=n.length,o=e.length,i=r,a=0,s=0,l=e[o-1].nextSibling,h=null;for(;a<o||s<i;){if(e[a]===n[s]){a++,s++;continue}for(;e[o-1]===n[i-1];)o--,i--;if(o===a){const c=i<r?s?n[s-1].nextSibling:n[i-s]:l;for(;s<i;)t.insertBefore(n[s++],c)}else if(i===s)for(;a<o;)(!h||!h.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[i-1]&&n[s]===e[o-1]){const c=e[--o].nextSibling;t.insertBefore(n[s++],e[a++].nextSibling),t.insertBefore(n[--i],c),e[o]=n[i]}else{if(!h){h=new Map;let f=s;for(;f<i;)h.set(n[f],f++)}const c=h.get(e[a]);if(c!=null)if(s<c&&c<i){let f=a,u=1,d;for(;++f<o&&f<i&&!((d=h.get(e[f]))==null||d!==c+u);)u++;if(u>c-s){const A=e[a];for(;s<c;)t.insertBefore(n[s++],A)}else t.replaceChild(n[s++],e[a++])}else a++;else e[a++].remove()}}}const Ni="_$DX_DELEGATE";function Tl(t,e,n,r={}){let o;return Da(i=>{o=i,e===document?t():fe(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{o(),e.textContent=""}}function ye(t,e,n){let r;const o=()=>{const a=document.createElement("template");return a.innerHTML=t,n?a.content.firstChild.firstChild:a.content.firstChild},i=e?()=>Ve(()=>document.importNode(r||(r=o()),!0)):()=>(r||(r=o())).cloneNode(!0);return i.cloneNode=i,i}function Tn(t,e=window.document){const n=e[Ni]||(e[Ni]=new Set);for(let r=0,o=t.length;r<o;r++){const i=t[r];n.has(i)||(n.add(i),e.addEventListener(i,Nl))}}function de(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Il(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function Me(t,e){e==null?t.removeAttribute("class"):t.className=e}function jo(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const o=n[0];t.addEventListener(e,n[0]=i=>o.call(t,n[1],i))}else t.addEventListener(e,n)}function xo(t,e,n={}){const r=Object.keys(e||{}),o=Object.keys(n);let i,a;for(i=0,a=o.length;i<a;i++){const s=o[i];!s||s==="undefined"||e[s]||(Bi(t,s,!1),delete n[s])}for(i=0,a=r.length;i<a;i++){const s=r[i],l=!!e[s];!s||s==="undefined"||n[s]===l||!l||(Bi(t,s,!0),n[s]=l)}return n}function Rl(t,e,n){if(!e)return n?de(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let o,i;for(i in n)e[i]==null&&r.removeProperty(i),delete n[i];for(i in e)o=e[i],o!==n[i]&&(r.setProperty(i,o),n[i]=o);return n}function Ga(t,e={},n,r){const o={};return r||ce(()=>o.children=Xt(t,e.children,o.children)),ce(()=>typeof e.ref=="function"?dt(e.ref,t):e.ref=t),ce(()=>Cl(t,e,n,!0,o,!0)),o}function dt(t,e,n){return Ve(()=>t(e,n))}function fe(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return Xt(t,e,r,n);ce(o=>Xt(t,e(),o,n),r)}function Cl(t,e,n,r,o={},i=!1){e||(e={});for(const a in o)if(!(a in e)){if(a==="children")continue;o[a]=Mi(t,a,null,o[a],n,i)}for(const a in e){if(a==="children"){r||Xt(t,e.children);continue}const s=e[a];o[a]=Mi(t,a,s,o[a],n,i)}}function Dl(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Bi(t,e,n){const r=e.trim().split(/\s+/);for(let o=0,i=r.length;o<i;o++)t.classList.toggle(r[o],n)}function Mi(t,e,n,r,o,i){let a,s,l,h,c;if(e==="style")return Rl(t,n,r);if(e==="classList")return xo(t,n,r);if(n===r)return r;if(e==="ref")i||n(t);else if(e.slice(0,3)==="on:"){const f=e.slice(3);r&&t.removeEventListener(f,r),n&&t.addEventListener(f,n)}else if(e.slice(0,10)==="oncapture:"){const f=e.slice(10);r&&t.removeEventListener(f,r,!0),n&&t.addEventListener(f,n,!0)}else if(e.slice(0,2)==="on"){const f=e.slice(2).toLowerCase(),u=xl.has(f);if(!u&&r){const d=Array.isArray(r)?r[0]:r;t.removeEventListener(f,d)}(u||n)&&(jo(t,f,n,u),u&&Tn([f]))}else if(e.slice(0,5)==="attr:")de(t,e.slice(5),n);else if((c=e.slice(0,5)==="prop:")||(l=El.has(e))||!o&&((h=jl(e,t.tagName))||(s=Al.has(e)))||(a=t.nodeName.includes("-")))c&&(e=e.slice(5),s=!0),e==="class"||e==="className"?Me(t,n):a&&!s&&!l?t[Dl(e)]=n:t[h||e]=n;else{const f=o&&e.indexOf(":")>-1&&kl[e.split(":")[0]];f?Il(t,f,e,n):de(t,Ol[e]||e,n)}return n}function Nl(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[e];if(r&&!n.disabled){const o=n[`${e}Data`];if(o!==void 0?r.call(n,o,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Xt(t,e,n,r,o){for(;typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,a=r!==void 0;if(t=a&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(i==="number"&&(e=e.toString(),e===n))return n;if(a){let s=n[0];s&&s.nodeType===3?s.data!==e&&(s.data=e):s=document.createTextNode(e),n=Dt(t,n,r,s)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean")n=Dt(t,n,r);else{if(i==="function")return ce(()=>{let s=e();for(;typeof s=="function";)s=s();n=Xt(t,s,n,r)}),()=>n;if(Array.isArray(e)){const s=[],l=n&&Array.isArray(n);if(ko(s,e,n,o))return ce(()=>n=Xt(t,s,n,r,!0)),()=>n;if(s.length===0){if(n=Dt(t,n,r),a)return n}else l?n.length===0?Fi(t,s,r):$l(t,n,s):(n&&Dt(t),Fi(t,s));n=s}else if(e.nodeType){if(Array.isArray(n)){if(a)return n=Dt(t,n,r,e);Dt(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function ko(t,e,n,r){let o=!1;for(let i=0,a=e.length;i<a;i++){let s=e[i],l=n&&n[t.length],h;if(!(s==null||s===!0||s===!1))if((h=typeof s)=="object"&&s.nodeType)t.push(s);else if(Array.isArray(s))o=ko(t,s,l)||o;else if(h==="function")if(r){for(;typeof s=="function";)s=s();o=ko(t,Array.isArray(s)?s:[s],Array.isArray(l)?l:[l])||o}else t.push(s),o=!0;else{const c=String(s);l&&l.nodeType===3&&l.data===c?t.push(l):t.push(document.createTextNode(c))}}return o}function Fi(t,e,n=null){for(let r=0,o=e.length;r<o;r++)t.insertBefore(e[r],n)}function Dt(t,e,n,r){if(n===void 0)return t.textContent="";const o=r||document.createTextNode("");if(e.length){let i=!1;for(let a=e.length-1;a>=0;a--){const s=e[a];if(o!==s){const l=s.parentNode===t;!i&&!a?l?t.replaceChild(o,s):t.insertBefore(o,n):l&&s.remove()}else i=!0}}else t.insertBefore(o,n);return[o]}const Bl=!1;const hr=Symbol("store-raw"),zt=Symbol("store-node"),Xe=Symbol("store-has"),za=Symbol("store-self");function Wa(t){let e=t[Le];if(!e&&(Object.defineProperty(t,Le,{value:e=new Proxy(t,ql)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let o=0,i=n.length;o<i;o++){const a=n[o];r[a].get&&Object.defineProperty(t,a,{enumerable:r[a].enumerable,get:r[a].get.bind(e)})}}return e}function Zt(t){let e;return t!=null&&typeof t=="object"&&(t[Le]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function en(t,e=new Set){let n,r,o,i;if(n=t!=null&&t[hr])return n;if(!Zt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,s=t.length;a<s;a++)o=t[a],(r=en(o,e))!==o&&(t[a]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let l=0,h=a.length;l<h;l++)i=a[l],!s[i].get&&(o=t[i],(r=en(o,e))!==o&&(t[i]=r))}return t}function dr(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function Sn(t,e,n){if(t[e])return t[e];const[r,o]=_e(n,{equals:!1,internal:!0});return r.$=o,t[e]=r}function Ml(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===Le||e===zt||(delete n.value,delete n.writable,n.get=()=>t[Le][e]),n}function Ha(t){ur()&&Sn(dr(t,zt),za)()}function Fl(t){return Ha(t),Reflect.ownKeys(t)}const ql={get(t,e,n){if(e===hr)return t;if(e===Le)return n;if(e===Ci)return Ha(t),n;const r=dr(t,zt),o=r[e];let i=o?o():t[e];if(e===zt||e===Xe||e==="__proto__")return i;if(!o){const a=Object.getOwnPropertyDescriptor(t,e);ur()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(i=Sn(r,e,i)())}return Zt(i)?Wa(i):i},has(t,e){return e===hr||e===Le||e===Ci||e===zt||e===Xe||e==="__proto__"?!0:(ur()&&Sn(dr(t,Xe),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Fl,getOwnPropertyDescriptor:Ml};function tn(t,e,n,r=!1){if(!r&&t[e]===n)return;const o=t[e],i=t.length;n===void 0?(delete t[e],t[Xe]&&t[Xe][e]&&o!==void 0&&t[Xe][e].$()):(t[e]=n,t[Xe]&&t[Xe][e]&&o===void 0&&t[Xe][e].$());let a=dr(t,zt),s;if((s=Sn(a,e,o))&&s.$(()=>n),Array.isArray(t)&&t.length!==i){for(let l=t.length;l<i;l++)(s=a[l])&&s.$();(s=Sn(a,"length",i))&&s.$(t.length)}(s=a[za])&&s.$()}function Ya(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const o=n[r];tn(t,o,e[o])}}function Kl(t,e){if(typeof e=="function"&&(e=e(t)),e=en(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const o=e[n];t[n]!==o&&tn(t,n,o)}tn(t,"length",r)}else Ya(t,e)}function pn(t,e,n=[]){let r,o=t;if(e.length>1){r=e.shift();const a=typeof r,s=Array.isArray(t);if(Array.isArray(r)){for(let l=0;l<r.length;l++)pn(t,[r[l]].concat(e),n);return}else if(s&&a==="function"){for(let l=0;l<t.length;l++)r(t[l],l)&&pn(t,[l].concat(e),n);return}else if(s&&a==="object"){const{from:l=0,to:h=t.length-1,by:c=1}=r;for(let f=l;f<=h;f+=c)pn(t,[f].concat(e),n);return}else if(e.length>1){pn(t[r],e,[r].concat(n));return}o=t[r],n=[r].concat(n)}let i=e[0];typeof i=="function"&&(i=i(o,n),i===o)||r===void 0&&i==null||(i=en(i),r===void 0||Zt(o)&&Zt(i)&&!Array.isArray(i)?Ya(o,i):tn(t,r,i))}function Ll(...[t,e]){const n=en(t||{}),r=Array.isArray(n),o=Wa(n);function i(...a){Ba(()=>{r&&a.length===1?Kl(n,a[0]):pn(n,a)})}return[o,i]}const pr=new WeakMap,Ja={get(t,e){if(e===hr)return t;const n=t[e];let r;return Zt(n)?pr.get(n)||(pr.set(n,r=new Proxy(n,Ja)),r):n},set(t,e,n){return tn(t,e,en(n)),!0},deleteProperty(t,e){return tn(t,e,void 0,!0),!0}};function Qa(t){return e=>{if(Zt(e)){let n;(n=pr.get(e))||pr.set(e,n=new Proxy(e,Ja)),t(n)}return e}}const Xa=7,Ul=200,Za=12;var es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lr={exports:{}},Ur={},nn={},ts={},hi=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;e[n]=o;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==o||a.enumerable!==!0)return!1}return!0},Gl=hi,di=function(){return Gl()&&!!Symbol.toStringTag},zl=Error,Wl=EvalError,Hl=RangeError,Yl=ReferenceError,ns=SyntaxError,$r=TypeError,Jl=URIError,qi=typeof Symbol<"u"&&Symbol,Ql=hi,Xl=function(){return typeof qi!="function"||typeof Symbol!="function"||typeof qi("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ql()},Vr={__proto__:null,foo:{}},Zl=Object,eu=function(){return{__proto__:Vr}.foo===Vr.foo&&!(Vr instanceof Zl)},tu="Function.prototype.bind called on incompatible ",nu=Object.prototype.toString,ru=Math.max,ou="[object Function]",Ki=function(e,n){for(var r=[],o=0;o<e.length;o+=1)r[o]=e[o];for(var i=0;i<n.length;i+=1)r[i+e.length]=n[i];return r},iu=function(e,n){for(var r=[],o=n||0,i=0;o<e.length;o+=1,i+=1)r[i]=e[o];return r},au=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},su=function(e){var n=this;if(typeof n!="function"||nu.apply(n)!==ou)throw new TypeError(tu+n);for(var r=iu(arguments,1),o,i=function(){if(this instanceof o){var c=n.apply(this,Ki(r,arguments));return Object(c)===c?c:this}return n.apply(e,Ki(r,arguments))},a=ru(0,n.length-r.length),s=[],l=0;l<a;l++)s[l]="$"+l;if(o=Function("binder","return function ("+au(s,",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var h=function(){};h.prototype=n.prototype,o.prototype=new h,h.prototype=null}return o},lu=su,pi=Function.prototype.bind||lu,uu=Function.prototype.call,cu=Object.prototype.hasOwnProperty,fu=pi,hu=fu.call(uu,cu),re,du=zl,pu=Wl,yu=Hl,gu=Yl,rn=ns,Wt=$r,mu=Jl,rs=Function,Gr=function(t){try{return rs('"use strict"; return ('+t+").constructor;")()}catch{}},Et=Object.getOwnPropertyDescriptor;if(Et)try{Et({},"")}catch{Et=null}var zr=function(){throw new Wt},bu=Et?function(){try{return arguments.callee,zr}catch{try{return Et(arguments,"callee").get}catch{return zr}}}():zr,Nt=Xl(),vu=eu(),Oe=Object.getPrototypeOf||(vu?function(t){return t.__proto__}:null),qt={},wu=typeof Uint8Array>"u"||!Oe?re:Oe(Uint8Array),Ot={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?re:ArrayBuffer,"%ArrayIteratorPrototype%":Nt&&Oe?Oe([][Symbol.iterator]()):re,"%AsyncFromSyncIteratorPrototype%":re,"%AsyncFunction%":qt,"%AsyncGenerator%":qt,"%AsyncGeneratorFunction%":qt,"%AsyncIteratorPrototype%":qt,"%Atomics%":typeof Atomics>"u"?re:Atomics,"%BigInt%":typeof BigInt>"u"?re:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?re:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?re:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":du,"%eval%":eval,"%EvalError%":pu,"%Float32Array%":typeof Float32Array>"u"?re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?re:FinalizationRegistry,"%Function%":rs,"%GeneratorFunction%":qt,"%Int8Array%":typeof Int8Array>"u"?re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Nt&&Oe?Oe(Oe([][Symbol.iterator]())):re,"%JSON%":typeof JSON=="object"?JSON:re,"%Map%":typeof Map>"u"?re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Nt||!Oe?re:Oe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?re:Promise,"%Proxy%":typeof Proxy>"u"?re:Proxy,"%RangeError%":yu,"%ReferenceError%":gu,"%Reflect%":typeof Reflect>"u"?re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Nt||!Oe?re:Oe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Nt&&Oe?Oe(""[Symbol.iterator]()):re,"%Symbol%":Nt?Symbol:re,"%SyntaxError%":rn,"%ThrowTypeError%":bu,"%TypedArray%":wu,"%TypeError%":Wt,"%Uint8Array%":typeof Uint8Array>"u"?re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?re:Uint32Array,"%URIError%":mu,"%WeakMap%":typeof WeakMap>"u"?re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?re:WeakSet};if(Oe)try{null.error}catch(t){var _u=Oe(Oe(t));Ot["%Error.prototype%"]=_u}var Su=function t(e){var n;if(e==="%AsyncFunction%")n=Gr("async function () {}");else if(e==="%GeneratorFunction%")n=Gr("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Gr("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&Oe&&(n=Oe(o.prototype))}return Ot[e]=n,n},Li={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},In=pi,yr=hu,Au=In.call(Function.call,Array.prototype.concat),Eu=In.call(Function.apply,Array.prototype.splice),Ui=In.call(Function.call,String.prototype.replace),gr=In.call(Function.call,String.prototype.slice),Ou=In.call(Function.call,RegExp.prototype.exec),Pu=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ju=/\\(\\)?/g,xu=function(e){var n=gr(e,0,1),r=gr(e,-1);if(n==="%"&&r!=="%")throw new rn("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new rn("invalid intrinsic syntax, expected opening `%`");var o=[];return Ui(e,Pu,function(i,a,s,l){o[o.length]=s?Ui(l,ju,"$1"):a||i}),o},ku=function(e,n){var r=e,o;if(yr(Li,r)&&(o=Li[r],r="%"+o[0]+"%"),yr(Ot,r)){var i=Ot[r];if(i===qt&&(i=Su(r)),typeof i>"u"&&!n)throw new Wt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:r,value:i}}throw new rn("intrinsic "+e+" does not exist!")},Rn=function(e,n){if(typeof e!="string"||e.length===0)throw new Wt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Wt('"allowMissing" argument must be a boolean');if(Ou(/^%?[^%]*%?$/,e)===null)throw new rn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=xu(e),o=r.length>0?r[0]:"",i=ku("%"+o+"%",n),a=i.name,s=i.value,l=!1,h=i.alias;h&&(o=h[0],Eu(r,Au([0,1],h)));for(var c=1,f=!0;c<r.length;c+=1){var u=r[c],d=gr(u,0,1),A=gr(u,-1);if((d==='"'||d==="'"||d==="`"||A==='"'||A==="'"||A==="`")&&d!==A)throw new rn("property names with quotes must have matching quotes");if((u==="constructor"||!f)&&(l=!0),o+="."+u,a="%"+o+"%",yr(Ot,a))s=Ot[a];else if(s!=null){if(!(u in s)){if(!n)throw new Wt("base intrinsic for "+e+" exists, but the property is not available.");return}if(Et&&c+1>=r.length){var E=Et(s,u);f=!!E,f&&"get"in E&&!("originalValue"in E.get)?s=E.get:s=s[u]}else f=yr(s,u),s=s[u];f&&!l&&(Ot[a]=s)}}return s},os={exports:{}},Wr,Vi;function yi(){if(Vi)return Wr;Vi=1;var t=Rn,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Wr=e,Wr}var $u=Rn,Yn=$u("%Object.getOwnPropertyDescriptor%",!0);if(Yn)try{Yn([],"length")}catch{Yn=null}var gi=Yn,Gi=yi(),Tu=ns,Bt=$r,zi=gi,is=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Bt("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Bt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Bt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Bt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Bt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Bt("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!zi&&zi(e,n);if(Gi)Gi(e,n,{configurable:a===null&&l?l.configurable:!a,enumerable:o===null&&l?l.enumerable:!o,value:r,writable:i===null&&l?l.writable:!i});else if(s||!o&&!i&&!a)e[n]=r;else throw new Tu("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$o=yi(),as=function(){return!!$o};as.hasArrayLengthDefineBug=function(){if(!$o)return null;try{return $o([],"length",{value:1}).length!==1}catch{return!0}};var ss=as,Iu=Rn,Wi=is,Ru=ss(),Hi=gi,Yi=$r,Cu=Iu("%Math.floor%"),Du=function(e,n){if(typeof e!="function")throw new Yi("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||Cu(n)!==n)throw new Yi("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],o=!0,i=!0;if("length"in e&&Hi){var a=Hi(e,"length");a&&!a.configurable&&(o=!1),a&&!a.writable&&(i=!1)}return(o||i||!r)&&(Ru?Wi(e,"length",n,!0,!0):Wi(e,"length",n)),e};(function(t){var e=pi,n=Rn,r=Du,o=$r,i=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||e.call(a,i),l=yi(),h=n("%Math.max%");t.exports=function(u){if(typeof u!="function")throw new o("a function is required");var d=s(e,a,arguments);return r(d,1+h(0,u.length-(arguments.length-1)),!0)};var c=function(){return s(e,i,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(os);var Tr=os.exports,ls=Rn,us=Tr,Nu=us(ls("String.prototype.indexOf")),Ir=function(e,n){var r=ls(e,!!n);return typeof r=="function"&&Nu(e,".prototype.")>-1?us(r):r},Bu=di(),Mu=Ir,To=Mu("Object.prototype.toString"),Rr=function(e){return Bu&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:To(e)==="[object Arguments]"},cs=function(e){return Rr(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&To(e)!=="[object Array]"&&To(e.callee)==="[object Function]"},Fu=function(){return Rr(arguments)}();Rr.isLegacyArguments=cs;var qu=Fu?Rr:cs,Ku=Object.prototype.toString,Lu=Function.prototype.toString,Uu=/^\s*(?:function)?\*/,fs=di(),Hr=Object.getPrototypeOf,Vu=function(){if(!fs)return!1;try{return Function("return function*() {}")()}catch{}},Yr,Gu=function(e){if(typeof e!="function")return!1;if(Uu.test(Lu.call(e)))return!0;if(!fs){var n=Ku.call(e);return n==="[object GeneratorFunction]"}if(!Hr)return!1;if(typeof Yr>"u"){var r=Vu();Yr=r?Hr(r):!1}return Hr(e)===Yr},hs=Function.prototype.toString,Ut=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Io,Jn;if(typeof Ut=="function"&&typeof Object.defineProperty=="function")try{Io=Object.defineProperty({},"length",{get:function(){throw Jn}}),Jn={},Ut(function(){throw 42},null,Io)}catch(t){t!==Jn&&(Ut=null)}else Ut=null;var zu=/^\s*class\b/,Ro=function(e){try{var n=hs.call(e);return zu.test(n)}catch{return!1}},Jr=function(e){try{return Ro(e)?!1:(hs.call(e),!0)}catch{return!1}},Qn=Object.prototype.toString,Wu="[object Object]",Hu="[object Function]",Yu="[object GeneratorFunction]",Ju="[object HTMLAllCollection]",Qu="[object HTML document.all class]",Xu="[object HTMLCollection]",Zu=typeof Symbol=="function"&&!!Symbol.toStringTag,ec=!(0 in[,]),Co=function(){return!1};if(typeof document=="object"){var tc=document.all;Qn.call(tc)===Qn.call(document.all)&&(Co=function(e){if((ec||!e)&&(typeof e>"u"||typeof e=="object"))try{var n=Qn.call(e);return(n===Ju||n===Qu||n===Xu||n===Wu)&&e("")==null}catch{}return!1})}var nc=Ut?function(e){if(Co(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Ut(e,null,Io)}catch(n){if(n!==Jn)return!1}return!Ro(e)&&Jr(e)}:function(e){if(Co(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Zu)return Jr(e);if(Ro(e))return!1;var n=Qn.call(e);return n!==Hu&&n!==Yu&&!/^\[object HTML/.test(n)?!1:Jr(e)},rc=nc,oc=Object.prototype.toString,ds=Object.prototype.hasOwnProperty,ic=function(e,n,r){for(var o=0,i=e.length;o<i;o++)ds.call(e,o)&&(r==null?n(e[o],o,e):n.call(r,e[o],o,e))},ac=function(e,n,r){for(var o=0,i=e.length;o<i;o++)r==null?n(e.charAt(o),o,e):n.call(r,e.charAt(o),o,e)},sc=function(e,n,r){for(var o in e)ds.call(e,o)&&(r==null?n(e[o],o,e):n.call(r,e[o],o,e))},lc=function(e,n,r){if(!rc(n))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=r),oc.call(e)==="[object Array]"?ic(e,n,o):typeof e=="string"?ac(e,n,o):sc(e,n,o)},uc=lc,cc=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],Qr=cc,fc=typeof globalThis>"u"?es:globalThis,hc=function(){for(var e=[],n=0;n<Qr.length;n++)typeof fc[Qr[n]]=="function"&&(e[e.length]=Qr[n]);return e},mr=uc,dc=hc,Ji=Tr,mi=Ir,Xn=gi,pc=mi("Object.prototype.toString"),ps=di(),Qi=typeof globalThis>"u"?es:globalThis,Do=dc(),bi=mi("String.prototype.slice"),Xr=Object.getPrototypeOf,yc=mi("Array.prototype.indexOf",!0)||function(e,n){for(var r=0;r<e.length;r+=1)if(e[r]===n)return r;return-1},br={__proto__:null};ps&&Xn&&Xr?mr(Do,function(t){var e=new Qi[t];if(Symbol.toStringTag in e){var n=Xr(e),r=Xn(n,Symbol.toStringTag);if(!r){var o=Xr(n);r=Xn(o,Symbol.toStringTag)}br["$"+t]=Ji(r.get)}}):mr(Do,function(t){var e=new Qi[t],n=e.slice||e.set;n&&(br["$"+t]=Ji(n))});var gc=function(e){var n=!1;return mr(br,function(r,o){if(!n)try{"$"+r(e)===o&&(n=bi(o,1))}catch{}}),n},mc=function(e){var n=!1;return mr(br,function(r,o){if(!n)try{r(e),n=bi(o,1)}catch{}}),n},ys=function(e){if(!e||typeof e!="object")return!1;if(!ps){var n=bi(pc(e),8,-1);return yc(Do,n)>-1?n:n!=="Object"?!1:mc(e)}return Xn?gc(e):null},bc=ys,vc=function(e){return!!bc(e)};(function(t){var e=qu,n=Gu,r=ys,o=vc;function i(D){return D.call.bind(D)}var a=typeof BigInt<"u",s=typeof Symbol<"u",l=i(Object.prototype.toString),h=i(Number.prototype.valueOf),c=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(a)var u=i(BigInt.prototype.valueOf);if(s)var d=i(Symbol.prototype.valueOf);function A(D,Rt){if(typeof D!="object")return!1;try{return Rt(D),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=o;function E(D){return typeof Promise<"u"&&D instanceof Promise||D!==null&&typeof D=="object"&&typeof D.then=="function"&&typeof D.catch=="function"}t.isPromise=E;function O(D){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(D):o(D)||j(D)}t.isArrayBufferView=O;function g(D){return r(D)==="Uint8Array"}t.isUint8Array=g;function w(D){return r(D)==="Uint8ClampedArray"}t.isUint8ClampedArray=w;function I(D){return r(D)==="Uint16Array"}t.isUint16Array=I;function T(D){return r(D)==="Uint32Array"}t.isUint32Array=T;function b(D){return r(D)==="Int8Array"}t.isInt8Array=b;function m(D){return r(D)==="Int16Array"}t.isInt16Array=m;function S(D){return r(D)==="Int32Array"}t.isInt32Array=S;function R(D){return r(D)==="Float32Array"}t.isFloat32Array=R;function $(D){return r(D)==="Float64Array"}t.isFloat64Array=$;function M(D){return r(D)==="BigInt64Array"}t.isBigInt64Array=M;function z(D){return r(D)==="BigUint64Array"}t.isBigUint64Array=z;function L(D){return l(D)==="[object Map]"}L.working=typeof Map<"u"&&L(new Map);function ne(D){return typeof Map>"u"?!1:L.working?L(D):D instanceof Map}t.isMap=ne;function ee(D){return l(D)==="[object Set]"}ee.working=typeof Set<"u"&&ee(new Set);function me(D){return typeof Set>"u"?!1:ee.working?ee(D):D instanceof Set}t.isSet=me;function se(D){return l(D)==="[object WeakMap]"}se.working=typeof WeakMap<"u"&&se(new WeakMap);function he(D){return typeof WeakMap>"u"?!1:se.working?se(D):D instanceof WeakMap}t.isWeakMap=he;function be(D){return l(D)==="[object WeakSet]"}be.working=typeof WeakSet<"u"&&be(new WeakSet);function N(D){return be(D)}t.isWeakSet=N;function B(D){return l(D)==="[object ArrayBuffer]"}B.working=typeof ArrayBuffer<"u"&&B(new ArrayBuffer);function G(D){return typeof ArrayBuffer>"u"?!1:B.working?B(D):D instanceof ArrayBuffer}t.isArrayBuffer=G;function y(D){return l(D)==="[object DataView]"}y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&y(new DataView(new ArrayBuffer(1),0,1));function j(D){return typeof DataView>"u"?!1:y.working?y(D):D instanceof DataView}t.isDataView=j;var C=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function U(D){return l(D)==="[object SharedArrayBuffer]"}function W(D){return typeof C>"u"?!1:(typeof U.working>"u"&&(U.working=U(new C)),U.working?U(D):D instanceof C)}t.isSharedArrayBuffer=W;function P(D){return l(D)==="[object AsyncFunction]"}t.isAsyncFunction=P;function p(D){return l(D)==="[object Map Iterator]"}t.isMapIterator=p;function v(D){return l(D)==="[object Set Iterator]"}t.isSetIterator=v;function k(D){return l(D)==="[object Generator]"}t.isGeneratorObject=k;function F(D){return l(D)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=F;function V(D){return A(D,h)}t.isNumberObject=V;function X(D){return A(D,c)}t.isStringObject=X;function oe(D){return A(D,f)}t.isBooleanObject=oe;function ve(D){return a&&A(D,u)}t.isBigIntObject=ve;function qe(D){return s&&A(D,d)}t.isSymbolObject=qe;function ze(D){return V(D)||X(D)||oe(D)||ve(D)||qe(D)}t.isBoxedPrimitive=ze;function Te(D){return typeof Uint8Array<"u"&&(G(D)||W(D))}t.isAnyArrayBuffer=Te,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(D){Object.defineProperty(t,D,{enumerable:!1,value:function(){throw new Error(D+" is not supported in userland")}})})})(ts);var wc=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},No={exports:{}};typeof Object.create=="function"?No.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:No.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var _c=No.exports;(function(t){var e=Object.getOwnPropertyDescriptors||function(j){for(var C=Object.keys(j),U={},W=0;W<C.length;W++)U[C[W]]=Object.getOwnPropertyDescriptor(j,C[W]);return U},n=/%[sdj%]/g;t.format=function(y){if(!b(y)){for(var j=[],C=0;C<arguments.length;C++)j.push(a(arguments[C]));return j.join(" ")}for(var C=1,U=arguments,W=U.length,P=String(y).replace(n,function(v){if(v==="%%")return"%";if(C>=W)return v;switch(v){case"%s":return String(U[C++]);case"%d":return Number(U[C++]);case"%j":try{return JSON.stringify(U[C++])}catch{return"[Circular]"}default:return v}}),p=U[C];C<W;p=U[++C])w(p)||!$(p)?P+=" "+p:P+=" "+a(p);return P},t.deprecate=function(y,j){if(typeof process<"u"&&process.noDeprecation===!0)return y;if(typeof process>"u")return function(){return t.deprecate(y,j).apply(this,arguments)};var C=!1;function U(){if(!C){if(process.throwDeprecation)throw new Error(j);process.traceDeprecation?console.trace(j):console.error(j),C=!0}return y.apply(this,arguments)}return U};var r={},o=/^$/;if({}.NODE_DEBUG){var i={}.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+i+"$","i")}t.debuglog=function(y){if(y=y.toUpperCase(),!r[y])if(o.test(y)){var j=process.pid;r[y]=function(){var C=t.format.apply(t,arguments);console.error("%s %d: %s",y,j,C)}}else r[y]=function(){};return r[y]};function a(y,j){var C={seen:[],stylize:l};return arguments.length>=3&&(C.depth=arguments[2]),arguments.length>=4&&(C.colors=arguments[3]),g(j)?C.showHidden=j:j&&t._extend(C,j),S(C.showHidden)&&(C.showHidden=!1),S(C.depth)&&(C.depth=2),S(C.colors)&&(C.colors=!1),S(C.customInspect)&&(C.customInspect=!0),C.colors&&(C.stylize=s),c(C,y,C.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(y,j){var C=a.styles[j];return C?"\x1B["+a.colors[C][0]+"m"+y+"\x1B["+a.colors[C][1]+"m":y}function l(y,j){return y}function h(y){var j={};return y.forEach(function(C,U){j[C]=!0}),j}function c(y,j,C){if(y.customInspect&&j&&L(j.inspect)&&j.inspect!==t.inspect&&!(j.constructor&&j.constructor.prototype===j)){var U=j.inspect(C,y);return b(U)||(U=c(y,U,C)),U}var W=f(y,j);if(W)return W;var P=Object.keys(j),p=h(P);if(y.showHidden&&(P=Object.getOwnPropertyNames(j)),z(j)&&(P.indexOf("message")>=0||P.indexOf("description")>=0))return u(j);if(P.length===0){if(L(j)){var v=j.name?": "+j.name:"";return y.stylize("[Function"+v+"]","special")}if(R(j))return y.stylize(RegExp.prototype.toString.call(j),"regexp");if(M(j))return y.stylize(Date.prototype.toString.call(j),"date");if(z(j))return u(j)}var k="",F=!1,V=["{","}"];if(O(j)&&(F=!0,V=["[","]"]),L(j)){var X=j.name?": "+j.name:"";k=" [Function"+X+"]"}if(R(j)&&(k=" "+RegExp.prototype.toString.call(j)),M(j)&&(k=" "+Date.prototype.toUTCString.call(j)),z(j)&&(k=" "+u(j)),P.length===0&&(!F||j.length==0))return V[0]+k+V[1];if(C<0)return R(j)?y.stylize(RegExp.prototype.toString.call(j),"regexp"):y.stylize("[Object]","special");y.seen.push(j);var oe;return F?oe=d(y,j,C,p,P):oe=P.map(function(ve){return A(y,j,C,p,ve,F)}),y.seen.pop(),E(oe,k,V)}function f(y,j){if(S(j))return y.stylize("undefined","undefined");if(b(j)){var C="'"+JSON.stringify(j).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return y.stylize(C,"string")}if(T(j))return y.stylize(""+j,"number");if(g(j))return y.stylize(""+j,"boolean");if(w(j))return y.stylize("null","null")}function u(y){return"["+Error.prototype.toString.call(y)+"]"}function d(y,j,C,U,W){for(var P=[],p=0,v=j.length;p<v;++p)be(j,String(p))?P.push(A(y,j,C,U,String(p),!0)):P.push("");return W.forEach(function(k){k.match(/^\d+$/)||P.push(A(y,j,C,U,k,!0))}),P}function A(y,j,C,U,W,P){var p,v,k;if(k=Object.getOwnPropertyDescriptor(j,W)||{value:j[W]},k.get?k.set?v=y.stylize("[Getter/Setter]","special"):v=y.stylize("[Getter]","special"):k.set&&(v=y.stylize("[Setter]","special")),be(U,W)||(p="["+W+"]"),v||(y.seen.indexOf(k.value)<0?(w(C)?v=c(y,k.value,null):v=c(y,k.value,C-1),v.indexOf(`
`)>-1&&(P?v=v.split(`
`).map(function(F){return"  "+F}).join(`
`).slice(2):v=`
`+v.split(`
`).map(function(F){return"   "+F}).join(`
`))):v=y.stylize("[Circular]","special")),S(p)){if(P&&W.match(/^\d+$/))return v;p=JSON.stringify(""+W),p.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(p=p.slice(1,-1),p=y.stylize(p,"name")):(p=p.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),p=y.stylize(p,"string"))}return p+": "+v}function E(y,j,C){var U=y.reduce(function(W,P){return P.indexOf(`
`)>=0,W+P.replace(/\u001b\[\d\d?m/g,"").length+1},0);return U>60?C[0]+(j===""?"":j+`
 `)+" "+y.join(`,
  `)+" "+C[1]:C[0]+j+" "+y.join(", ")+" "+C[1]}t.types=ts;function O(y){return Array.isArray(y)}t.isArray=O;function g(y){return typeof y=="boolean"}t.isBoolean=g;function w(y){return y===null}t.isNull=w;function I(y){return y==null}t.isNullOrUndefined=I;function T(y){return typeof y=="number"}t.isNumber=T;function b(y){return typeof y=="string"}t.isString=b;function m(y){return typeof y=="symbol"}t.isSymbol=m;function S(y){return y===void 0}t.isUndefined=S;function R(y){return $(y)&&ee(y)==="[object RegExp]"}t.isRegExp=R,t.types.isRegExp=R;function $(y){return typeof y=="object"&&y!==null}t.isObject=$;function M(y){return $(y)&&ee(y)==="[object Date]"}t.isDate=M,t.types.isDate=M;function z(y){return $(y)&&(ee(y)==="[object Error]"||y instanceof Error)}t.isError=z,t.types.isNativeError=z;function L(y){return typeof y=="function"}t.isFunction=L;function ne(y){return y===null||typeof y=="boolean"||typeof y=="number"||typeof y=="string"||typeof y=="symbol"||typeof y>"u"}t.isPrimitive=ne,t.isBuffer=wc;function ee(y){return Object.prototype.toString.call(y)}function me(y){return y<10?"0"+y.toString(10):y.toString(10)}var se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function he(){var y=new Date,j=[me(y.getHours()),me(y.getMinutes()),me(y.getSeconds())].join(":");return[y.getDate(),se[y.getMonth()],j].join(" ")}t.log=function(){console.log("%s - %s",he(),t.format.apply(t,arguments))},t.inherits=_c,t._extend=function(y,j){if(!j||!$(j))return y;for(var C=Object.keys(j),U=C.length;U--;)y[C[U]]=j[C[U]];return y};function be(y,j){return Object.prototype.hasOwnProperty.call(y,j)}var N=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(j){if(typeof j!="function")throw new TypeError('The "original" argument must be of type Function');if(N&&j[N]){var C=j[N];if(typeof C!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(C,N,{value:C,enumerable:!1,writable:!1,configurable:!0}),C}function C(){for(var U,W,P=new Promise(function(k,F){U=k,W=F}),p=[],v=0;v<arguments.length;v++)p.push(arguments[v]);p.push(function(k,F){k?W(k):U(F)});try{j.apply(this,p)}catch(k){W(k)}return P}return Object.setPrototypeOf(C,Object.getPrototypeOf(j)),N&&Object.defineProperty(C,N,{value:C,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(C,e(j))},t.promisify.custom=N;function B(y,j){if(!y){var C=new Error("Promise was rejected with a falsy value");C.reason=y,y=C}return j(y)}function G(y){if(typeof y!="function")throw new TypeError('The "original" argument must be of type Function');function j(){for(var C=[],U=0;U<arguments.length;U++)C.push(arguments[U]);var W=C.pop();if(typeof W!="function")throw new TypeError("The last argument must be of type Function");var P=this,p=function(){return W.apply(P,arguments)};y.apply(this,C).then(function(v){process.nextTick(p.bind(null,null,v))},function(v){process.nextTick(B.bind(null,v,p))})}return Object.setPrototypeOf(j,Object.getPrototypeOf(y)),Object.defineProperties(j,e(y)),j}t.callbackify=G})(nn);var Xi;function gs(){if(Xi)return Ur;Xi=1;function t(b){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(b)}function e(b,m){for(var S=0;S<m.length;S++){var R=m[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(b,r(R.key),R)}}function n(b,m,S){return m&&e(b.prototype,m),S&&e(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b}function r(b){var m=o(b,"string");return t(m)==="symbol"?m:String(m)}function o(b,m){if(t(b)!=="object"||b===null)return b;var S=b[Symbol.toPrimitive];if(S!==void 0){var R=S.call(b,m||"default");if(t(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(b)}function i(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function a(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),m&&s(b,m)}function s(b,m){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,$){return R.__proto__=$,R},s(b,m)}function l(b){var m=f();return function(){var R=u(b),$;if(m){var M=u(this).constructor;$=Reflect.construct(R,arguments,M)}else $=R.apply(this,arguments);return h(this,$)}}function h(b,m){if(m&&(t(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(b)}function c(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(b){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},u(b)}var d={},A,E;function O(b,m,S){S||(S=Error);function R(M,z,L){return typeof m=="string"?m:m(M,z,L)}var $=function(M){a(L,M);var z=l(L);function L(ne,ee,me){var se;return i(this,L),se=z.call(this,R(ne,ee,me)),se.code=b,se}return n(L)}(S);d[b]=$}function g(b,m){if(Array.isArray(b)){var S=b.length;return b=b.map(function(R){return String(R)}),S>2?"one of ".concat(m," ").concat(b.slice(0,S-1).join(", "),", or ")+b[S-1]:S===2?"one of ".concat(m," ").concat(b[0]," or ").concat(b[1]):"of ".concat(m," ").concat(b[0])}else return"of ".concat(m," ").concat(String(b))}function w(b,m,S){return b.substr(!S||S<0?0:+S,m.length)===m}function I(b,m,S){return(S===void 0||S>b.length)&&(S=b.length),b.substring(S-m.length,S)===m}function T(b,m,S){return typeof S!="number"&&(S=0),S+m.length>b.length?!1:b.indexOf(m,S)!==-1}return O("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),O("ERR_INVALID_ARG_TYPE",function(b,m,S){A===void 0&&(A=Bo()),A(typeof b=="string","'name' must be a string");var R;typeof m=="string"&&w(m,"not ")?(R="must not be",m=m.replace(/^not /,"")):R="must be";var $;if(I(b," argument"))$="The ".concat(b," ").concat(R," ").concat(g(m,"type"));else{var M=T(b,".")?"property":"argument";$='The "'.concat(b,'" ').concat(M," ").concat(R," ").concat(g(m,"type"))}return $+=". Received type ".concat(t(S)),$},TypeError),O("ERR_INVALID_ARG_VALUE",function(b,m){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";E===void 0&&(E=nn);var R=E.inspect(m);return R.length>128&&(R="".concat(R.slice(0,128),"...")),"The argument '".concat(b,"' ").concat(S,". Received ").concat(R)},TypeError),O("ERR_INVALID_RETURN_VALUE",function(b,m,S){var R;return S&&S.constructor&&S.constructor.name?R="instance of ".concat(S.constructor.name):R="type ".concat(t(S)),"Expected ".concat(b,' to be returned from the "').concat(m,'"')+" function but got ".concat(R,".")},TypeError),O("ERR_MISSING_ARGS",function(){for(var b=arguments.length,m=new Array(b),S=0;S<b;S++)m[S]=arguments[S];A===void 0&&(A=Bo()),A(m.length>0,"At least one arg needs to be specified");var R="The ",$=m.length;switch(m=m.map(function(M){return'"'.concat(M,'"')}),$){case 1:R+="".concat(m[0]," argument");break;case 2:R+="".concat(m[0]," and ").concat(m[1]," arguments");break;default:R+=m.slice(0,$-1).join(", "),R+=", and ".concat(m[$-1]," arguments");break}return"".concat(R," must be specified")},TypeError),Ur.codes=d,Ur}var Zr,Zi;function Sc(){if(Zi)return Zr;Zi=1;function t(N,B){var G=Object.keys(N);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(N);B&&(y=y.filter(function(j){return Object.getOwnPropertyDescriptor(N,j).enumerable})),G.push.apply(G,y)}return G}function e(N){for(var B=1;B<arguments.length;B++){var G=arguments[B]!=null?arguments[B]:{};B%2?t(Object(G),!0).forEach(function(y){n(N,y,G[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(G)):t(Object(G)).forEach(function(y){Object.defineProperty(N,y,Object.getOwnPropertyDescriptor(G,y))})}return N}function n(N,B,G){return B=a(B),B in N?Object.defineProperty(N,B,{value:G,enumerable:!0,configurable:!0,writable:!0}):N[B]=G,N}function r(N,B){if(!(N instanceof B))throw new TypeError("Cannot call a class as a function")}function o(N,B){for(var G=0;G<B.length;G++){var y=B[G];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(N,a(y.key),y)}}function i(N,B,G){return B&&o(N.prototype,B),G&&o(N,G),Object.defineProperty(N,"prototype",{writable:!1}),N}function a(N){var B=s(N,"string");return w(B)==="symbol"?B:String(B)}function s(N,B){if(w(N)!=="object"||N===null)return N;var G=N[Symbol.toPrimitive];if(G!==void 0){var y=G.call(N,B||"default");if(w(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(N)}function l(N,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(B&&B.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),B&&O(N,B)}function h(N){var B=A();return function(){var y=g(N),j;if(B){var C=g(this).constructor;j=Reflect.construct(y,arguments,C)}else j=y.apply(this,arguments);return c(this,j)}}function c(N,B){if(B&&(w(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(N)}function f(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function u(N){var B=typeof Map=="function"?new Map:void 0;return u=function(y){if(y===null||!E(y))return y;if(typeof y!="function")throw new TypeError("Super expression must either be null or a function");if(typeof B<"u"){if(B.has(y))return B.get(y);B.set(y,j)}function j(){return d(y,arguments,g(this).constructor)}return j.prototype=Object.create(y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),O(j,y)},u(N)}function d(N,B,G){return A()?d=Reflect.construct.bind():d=function(j,C,U){var W=[null];W.push.apply(W,C);var P=Function.bind.apply(j,W),p=new P;return U&&O(p,U.prototype),p},d.apply(null,arguments)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(N){return Function.toString.call(N).indexOf("[native code]")!==-1}function O(N,B){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,j){return y.__proto__=j,y},O(N,B)}function g(N){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},g(N)}function w(N){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},w(N)}var I=nn,T=I.inspect,b=gs(),m=b.codes.ERR_INVALID_ARG_TYPE;function S(N,B,G){return(G===void 0||G>N.length)&&(G=N.length),N.substring(G-B.length,G)===B}function R(N,B){if(B=Math.floor(B),N.length==0||B==0)return"";var G=N.length*B;for(B=Math.floor(Math.log(B)/Math.log(2));B;)N+=N,B--;return N+=N.substring(0,G-N.length),N}var $="",M="",z="",L="",ne={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},ee=10;function me(N){var B=Object.keys(N),G=Object.create(Object.getPrototypeOf(N));return B.forEach(function(y){G[y]=N[y]}),Object.defineProperty(G,"message",{value:N.message}),G}function se(N){return T(N,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function he(N,B,G){var y="",j="",C=0,U="",W=!1,P=se(N),p=P.split(`
`),v=se(B).split(`
`),k=0,F="";if(G==="strictEqual"&&w(N)==="object"&&w(B)==="object"&&N!==null&&B!==null&&(G="strictEqualObject"),p.length===1&&v.length===1&&p[0]!==v[0]){var V=p[0].length+v[0].length;if(V<=ee){if((w(N)!=="object"||N===null)&&(w(B)!=="object"||B===null)&&(N!==0||B!==0))return"".concat(ne[G],`

`)+"".concat(p[0]," !== ").concat(v[0],`
`)}else if(G!=="strictEqualObject"){var X=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(V<X){for(;p[0][k]===v[0][k];)k++;k>2&&(F=`
  `.concat(R(" ",k),"^"),k=0)}}}for(var oe=p[p.length-1],ve=v[v.length-1];oe===ve&&(k++<2?U=`
  `.concat(oe).concat(U):y=oe,p.pop(),v.pop(),!(p.length===0||v.length===0));)oe=p[p.length-1],ve=v[v.length-1];var qe=Math.max(p.length,v.length);if(qe===0){var ze=P.split(`
`);if(ze.length>30)for(ze[26]="".concat($,"...").concat(L);ze.length>27;)ze.pop();return"".concat(ne.notIdentical,`

`).concat(ze.join(`
`),`
`)}k>3&&(U=`
`.concat($,"...").concat(L).concat(U),W=!0),y!==""&&(U=`
  `.concat(y).concat(U),y="");var Te=0,D=ne[G]+`
`.concat(M,"+ actual").concat(L," ").concat(z,"- expected").concat(L),Rt=" ".concat($,"...").concat(L," Lines skipped");for(k=0;k<qe;k++){var Ne=k-C;if(p.length<k+1)Ne>1&&k>2&&(Ne>4?(j+=`
`.concat($,"...").concat(L),W=!0):Ne>3&&(j+=`
  `.concat(v[k-2]),Te++),j+=`
  `.concat(v[k-1]),Te++),C=k,y+=`
`.concat(z,"-").concat(L," ").concat(v[k]),Te++;else if(v.length<k+1)Ne>1&&k>2&&(Ne>4?(j+=`
`.concat($,"...").concat(L),W=!0):Ne>3&&(j+=`
  `.concat(p[k-2]),Te++),j+=`
  `.concat(p[k-1]),Te++),C=k,j+=`
`.concat(M,"+").concat(L," ").concat(p[k]),Te++;else{var vt=v[k],We=p[k],_=We!==vt&&(!S(We,",")||We.slice(0,-1)!==vt);_&&S(vt,",")&&vt.slice(0,-1)===We&&(_=!1,We+=","),_?(Ne>1&&k>2&&(Ne>4?(j+=`
`.concat($,"...").concat(L),W=!0):Ne>3&&(j+=`
  `.concat(p[k-2]),Te++),j+=`
  `.concat(p[k-1]),Te++),C=k,j+=`
`.concat(M,"+").concat(L," ").concat(We),y+=`
`.concat(z,"-").concat(L," ").concat(vt),Te+=2):(j+=y,y="",(Ne===1||k===0)&&(j+=`
  `.concat(We),Te++))}if(Te>20&&k<qe-2)return"".concat(D).concat(Rt,`
`).concat(j,`
`).concat($,"...").concat(L).concat(y,`
`)+"".concat($,"...").concat(L)}return"".concat(D).concat(W?Rt:"",`
`).concat(j).concat(y).concat(U).concat(F)}var be=function(N,B){l(y,N);var G=h(y);function y(j){var C;if(r(this,y),w(j)!=="object"||j===null)throw new m("options","Object",j);var U=j.message,W=j.operator,P=j.stackStartFn,p=j.actual,v=j.expected,k=Error.stackTraceLimit;if(Error.stackTraceLimit=0,U!=null)C=G.call(this,String(U));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?($="\x1B[34m",M="\x1B[32m",L="\x1B[39m",z="\x1B[31m"):($="",M="",L="",z="")),w(p)==="object"&&p!==null&&w(v)==="object"&&v!==null&&"stack"in p&&p instanceof Error&&"stack"in v&&v instanceof Error&&(p=me(p),v=me(v)),W==="deepStrictEqual"||W==="strictEqual")C=G.call(this,he(p,v,W));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var F=ne[W],V=se(p).split(`
`);if(W==="notStrictEqual"&&w(p)==="object"&&p!==null&&(F=ne.notStrictEqualObject),V.length>30)for(V[26]="".concat($,"...").concat(L);V.length>27;)V.pop();V.length===1?C=G.call(this,"".concat(F," ").concat(V[0])):C=G.call(this,"".concat(F,`

`).concat(V.join(`
`),`
`))}else{var X=se(p),oe="",ve=ne[W];W==="notDeepEqual"||W==="notEqual"?(X="".concat(ne[W],`

`).concat(X),X.length>1024&&(X="".concat(X.slice(0,1021),"..."))):(oe="".concat(se(v)),X.length>512&&(X="".concat(X.slice(0,509),"...")),oe.length>512&&(oe="".concat(oe.slice(0,509),"...")),W==="deepEqual"||W==="equal"?X="".concat(ve,`

`).concat(X,`

should equal

`):oe=" ".concat(W," ").concat(oe)),C=G.call(this,"".concat(X).concat(oe))}return Error.stackTraceLimit=k,C.generatedMessage=!U,Object.defineProperty(f(C),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),C.code="ERR_ASSERTION",C.actual=p,C.expected=v,C.operator=W,Error.captureStackTrace&&Error.captureStackTrace(f(C),P),C.stack,C.name="AssertionError",c(C)}return i(y,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:B,value:function(C,U){return T(this,e(e({},U),{},{customInspect:!1,depth:0}))}}]),y}(u(Error),T.custom);return Zr=be,Zr}var ea=Object.prototype.toString,ms=function(e){var n=ea.call(e),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&ea.call(e.callee)==="[object Function]"),r},eo,ta;function Ac(){if(ta)return eo;ta=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=ms,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(u){var d=u.constructor;return d&&d.prototype===u},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!h["$"+u]&&e.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{l(window[u])}catch{return!0}}catch{return!0}return!1}(),f=function(u){if(typeof window>"u"||!c)return l(u);try{return l(u)}catch{return!1}};t=function(d){var A=d!==null&&typeof d=="object",E=n.call(d)==="[object Function]",O=r(d),g=A&&n.call(d)==="[object String]",w=[];if(!A&&!E&&!O)throw new TypeError("Object.keys called on a non-object");var I=a&&E;if(g&&d.length>0&&!e.call(d,0))for(var T=0;T<d.length;++T)w.push(String(T));if(O&&d.length>0)for(var b=0;b<d.length;++b)w.push(String(b));else for(var m in d)!(I&&m==="prototype")&&e.call(d,m)&&w.push(String(m));if(i)for(var S=f(d),R=0;R<s.length;++R)!(S&&s[R]==="constructor")&&e.call(d,s[R])&&w.push(s[R]);return w}}return eo=t,eo}var Ec=Array.prototype.slice,Oc=ms,na=Object.keys,Zn=na?function(e){return na(e)}:Ac(),ra=Object.keys;Zn.shim=function(){if(Object.keys){var e=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);e||(Object.keys=function(r){return Oc(r)?ra(Ec.call(r)):ra(r)})}else Object.keys=Zn;return Object.keys||Zn};var bs=Zn,Pc=bs,vs=hi(),ws=Ir,oa=Object,jc=ws("Array.prototype.push"),ia=ws("Object.prototype.propertyIsEnumerable"),xc=vs?Object.getOwnPropertySymbols:null,kc=function(e,n){if(e==null)throw new TypeError("target must be an object");var r=oa(e);if(arguments.length===1)return r;for(var o=1;o<arguments.length;++o){var i=oa(arguments[o]),a=Pc(i),s=vs&&(Object.getOwnPropertySymbols||xc);if(s)for(var l=s(i),h=0;h<l.length;++h){var c=l[h];ia(i,c)&&jc(a,c)}for(var f=0;f<a.length;++f){var u=a[f];if(ia(i,u)){var d=i[u];r[u]=d}}}return r},to=kc,$c=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var o=Object.assign({},n),i="";for(var a in o)i+=a;return t!==i},Tc=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},Ic=function(){return!Object.assign||$c()||Tc()?to:Object.assign},aa=function(t){return t!==t},_s=function(e,n){return e===0&&n===0?1/e===1/n:!!(e===n||aa(e)&&aa(n))},Rc=_s,vi=function(){return typeof Object.is=="function"?Object.is:Rc},no,sa;function Cr(){if(sa)return no;sa=1;var t=bs,e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,o=is,i=function(h){return typeof h=="function"&&n.call(h)==="[object Function]"},a=ss(),s=function(h,c,f,u){if(c in h){if(u===!0){if(h[c]===f)return}else if(!i(u)||!u())return}a?o(h,c,f,!0):o(h,c,f)},l=function(h,c){var f=arguments.length>2?arguments[2]:{},u=t(c);e&&(u=r.call(u,Object.getOwnPropertySymbols(c)));for(var d=0;d<u.length;d+=1)s(h,u[d],c[u[d]],f[u[d]])};return l.supportsDescriptors=!!a,no=l,no}var ro,la;function Cc(){if(la)return ro;la=1;var t=vi,e=Cr();return ro=function(){var r=t();return e(Object,{is:r},{is:function(){return Object.is!==r}}),r},ro}var oo,ua;function Dc(){if(ua)return oo;ua=1;var t=Cr(),e=Tr,n=_s,r=vi,o=Cc(),i=e(r(),Object);return t(i,{getPolyfill:r,implementation:n,shim:o}),oo=i,oo}var io,ca;function Ss(){return ca||(ca=1,io=function(e){return e!==e}),io}var ao,fa;function As(){if(fa)return ao;fa=1;var t=Ss();return ao=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:t},ao}var so,ha;function Nc(){if(ha)return so;ha=1;var t=Cr(),e=As();return so=function(){var r=e();return t(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},so}var lo,da;function Bc(){if(da)return lo;da=1;var t=Tr,e=Cr(),n=Ss(),r=As(),o=Nc(),i=t(r(),Number);return e(i,{getPolyfill:r,implementation:n,shim:o}),lo=i,lo}var uo,pa;function Mc(){if(pa)return uo;pa=1;function t(_,x){return i(_)||o(_,x)||n(_,x)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(_,x){if(_){if(typeof _=="string")return r(_,x);var q=Object.prototype.toString.call(_).slice(8,-1);if(q==="Object"&&_.constructor&&(q=_.constructor.name),q==="Map"||q==="Set")return Array.from(_);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return r(_,x)}}function r(_,x){(x==null||x>_.length)&&(x=_.length);for(var q=0,H=new Array(x);q<x;q++)H[q]=_[q];return H}function o(_,x){var q=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(q!=null){var H,Y,te,Z,ie=[],ae=!0,Pe=!1;try{if(te=(q=q.call(_)).next,x===0){if(Object(q)!==q)return;ae=!1}else for(;!(ae=(H=te.call(q)).done)&&(ie.push(H.value),ie.length!==x);ae=!0);}catch(Ie){Pe=!0,Y=Ie}finally{try{if(!ae&&q.return!=null&&(Z=q.return(),Object(Z)!==Z))return}finally{if(Pe)throw Y}}return ie}}function i(_){if(Array.isArray(_))return _}function a(_){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},a(_)}var s=/a/g.flags!==void 0,l=function(x){var q=[];return x.forEach(function(H){return q.push(H)}),q},h=function(x){var q=[];return x.forEach(function(H,Y){return q.push([Y,H])}),q},c=Object.is?Object.is:Dc(),f=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},u=Number.isNaN?Number.isNaN:Bc();function d(_){return _.call.bind(_)}var A=d(Object.prototype.hasOwnProperty),E=d(Object.prototype.propertyIsEnumerable),O=d(Object.prototype.toString),g=nn.types,w=g.isAnyArrayBuffer,I=g.isArrayBufferView,T=g.isDate,b=g.isMap,m=g.isRegExp,S=g.isSet,R=g.isNativeError,$=g.isBoxedPrimitive,M=g.isNumberObject,z=g.isStringObject,L=g.isBooleanObject,ne=g.isBigIntObject,ee=g.isSymbolObject,me=g.isFloat32Array,se=g.isFloat64Array;function he(_){if(_.length===0||_.length>10)return!0;for(var x=0;x<_.length;x++){var q=_.charCodeAt(x);if(q<48||q>57)return!0}return _.length===10&&_>=Math.pow(2,32)}function be(_){return Object.keys(_).filter(he).concat(f(_).filter(Object.prototype.propertyIsEnumerable.bind(_)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function N(_,x){if(_===x)return 0;for(var q=_.length,H=x.length,Y=0,te=Math.min(q,H);Y<te;++Y)if(_[Y]!==x[Y]){q=_[Y],H=x[Y];break}return q<H?-1:H<q?1:0}var B=!0,G=!1,y=0,j=1,C=2,U=3;function W(_,x){return s?_.source===x.source&&_.flags===x.flags:RegExp.prototype.toString.call(_)===RegExp.prototype.toString.call(x)}function P(_,x){if(_.byteLength!==x.byteLength)return!1;for(var q=0;q<_.byteLength;q++)if(_[q]!==x[q])return!1;return!0}function p(_,x){return _.byteLength!==x.byteLength?!1:N(new Uint8Array(_.buffer,_.byteOffset,_.byteLength),new Uint8Array(x.buffer,x.byteOffset,x.byteLength))===0}function v(_,x){return _.byteLength===x.byteLength&&N(new Uint8Array(_),new Uint8Array(x))===0}function k(_,x){return M(_)?M(x)&&c(Number.prototype.valueOf.call(_),Number.prototype.valueOf.call(x)):z(_)?z(x)&&String.prototype.valueOf.call(_)===String.prototype.valueOf.call(x):L(_)?L(x)&&Boolean.prototype.valueOf.call(_)===Boolean.prototype.valueOf.call(x):ne(_)?ne(x)&&BigInt.prototype.valueOf.call(_)===BigInt.prototype.valueOf.call(x):ee(x)&&Symbol.prototype.valueOf.call(_)===Symbol.prototype.valueOf.call(x)}function F(_,x,q,H){if(_===x)return _!==0?!0:q?c(_,x):!0;if(q){if(a(_)!=="object")return typeof _=="number"&&u(_)&&u(x);if(a(x)!=="object"||_===null||x===null||Object.getPrototypeOf(_)!==Object.getPrototypeOf(x))return!1}else{if(_===null||a(_)!=="object")return x===null||a(x)!=="object"?_==x:!1;if(x===null||a(x)!=="object")return!1}var Y=O(_),te=O(x);if(Y!==te)return!1;if(Array.isArray(_)){if(_.length!==x.length)return!1;var Z=be(_),ie=be(x);return Z.length!==ie.length?!1:X(_,x,q,H,j,Z)}if(Y==="[object Object]"&&(!b(_)&&b(x)||!S(_)&&S(x)))return!1;if(T(_)){if(!T(x)||Date.prototype.getTime.call(_)!==Date.prototype.getTime.call(x))return!1}else if(m(_)){if(!m(x)||!W(_,x))return!1}else if(R(_)||_ instanceof Error){if(_.message!==x.message||_.name!==x.name)return!1}else if(I(_)){if(!q&&(me(_)||se(_))){if(!P(_,x))return!1}else if(!p(_,x))return!1;var ae=be(_),Pe=be(x);return ae.length!==Pe.length?!1:X(_,x,q,H,y,ae)}else{if(S(_))return!S(x)||_.size!==x.size?!1:X(_,x,q,H,C);if(b(_))return!b(x)||_.size!==x.size?!1:X(_,x,q,H,U);if(w(_)){if(!v(_,x))return!1}else if($(_)&&!k(_,x))return!1}return X(_,x,q,H,y)}function V(_,x){return x.filter(function(q){return E(_,q)})}function X(_,x,q,H,Y,te){if(arguments.length===5){te=Object.keys(_);var Z=Object.keys(x);if(te.length!==Z.length)return!1}for(var ie=0;ie<te.length;ie++)if(!A(x,te[ie]))return!1;if(q&&arguments.length===5){var ae=f(_);if(ae.length!==0){var Pe=0;for(ie=0;ie<ae.length;ie++){var Ie=ae[ie];if(E(_,Ie)){if(!E(x,Ie))return!1;te.push(Ie),Pe++}else if(E(x,Ie))return!1}var un=f(x);if(ae.length!==un.length&&V(x,un).length!==Pe)return!1}else{var Ct=f(x);if(Ct.length!==0&&V(x,Ct).length!==0)return!1}}if(te.length===0&&(Y===y||Y===j&&_.length===0||_.size===0))return!0;if(H===void 0)H={val1:new Map,val2:new Map,position:0};else{var cn=H.val1.get(_);if(cn!==void 0){var He=H.val2.get(x);if(He!==void 0)return cn===He}H.position++}H.val1.set(_,H.position),H.val2.set(x,H.position);var fn=Ne(_,x,q,te,H,Y);return H.val1.delete(_),H.val2.delete(x),fn}function oe(_,x,q,H){for(var Y=l(_),te=0;te<Y.length;te++){var Z=Y[te];if(F(x,Z,q,H))return _.delete(Z),!0}return!1}function ve(_){switch(a(_)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":_=+_;case"number":if(u(_))return!1}return!0}function qe(_,x,q){var H=ve(q);return H??(x.has(H)&&!_.has(H))}function ze(_,x,q,H,Y){var te=ve(q);if(te!=null)return te;var Z=x.get(te);return Z===void 0&&!x.has(te)||!F(H,Z,!1,Y)?!1:!_.has(te)&&F(H,Z,!1,Y)}function Te(_,x,q,H){for(var Y=null,te=l(_),Z=0;Z<te.length;Z++){var ie=te[Z];if(a(ie)==="object"&&ie!==null)Y===null&&(Y=new Set),Y.add(ie);else if(!x.has(ie)){if(q||!qe(_,x,ie))return!1;Y===null&&(Y=new Set),Y.add(ie)}}if(Y!==null){for(var ae=l(x),Pe=0;Pe<ae.length;Pe++){var Ie=ae[Pe];if(a(Ie)==="object"&&Ie!==null){if(!oe(Y,Ie,q,H))return!1}else if(!q&&!_.has(Ie)&&!oe(Y,Ie,q,H))return!1}return Y.size===0}return!0}function D(_,x,q,H,Y,te){for(var Z=l(_),ie=0;ie<Z.length;ie++){var ae=Z[ie];if(F(q,ae,Y,te)&&F(H,x.get(ae),Y,te))return _.delete(ae),!0}return!1}function Rt(_,x,q,H){for(var Y=null,te=h(_),Z=0;Z<te.length;Z++){var ie=t(te[Z],2),ae=ie[0],Pe=ie[1];if(a(ae)==="object"&&ae!==null)Y===null&&(Y=new Set),Y.add(ae);else{var Ie=x.get(ae);if(Ie===void 0&&!x.has(ae)||!F(Pe,Ie,q,H)){if(q||!ze(_,x,ae,Pe,H))return!1;Y===null&&(Y=new Set),Y.add(ae)}}}if(Y!==null){for(var un=h(x),Ct=0;Ct<un.length;Ct++){var cn=t(un[Ct],2),He=cn[0],fn=cn[1];if(a(He)==="object"&&He!==null){if(!D(Y,_,He,fn,q,H))return!1}else if(!q&&(!_.has(He)||!F(_.get(He),fn,!1,H))&&!D(Y,_,He,fn,!1,H))return!1}return Y.size===0}return!0}function Ne(_,x,q,H,Y,te){var Z=0;if(te===C){if(!Te(_,x,q,Y))return!1}else if(te===U){if(!Rt(_,x,q,Y))return!1}else if(te===j)for(;Z<_.length;Z++)if(A(_,Z)){if(!A(x,Z)||!F(_[Z],x[Z],q,Y))return!1}else{if(A(x,Z))return!1;for(var ie=Object.keys(_);Z<ie.length;Z++){var ae=ie[Z];if(!A(x,ae)||!F(_[ae],x[ae],q,Y))return!1}return ie.length===Object.keys(x).length}for(Z=0;Z<H.length;Z++){var Pe=H[Z];if(!F(_[Pe],x[Pe],q,Y))return!1}return!0}function vt(_,x){return F(_,x,G)}function We(_,x){return F(_,x,B)}return uo={isDeepEqual:vt,isDeepStrictEqual:We},uo}var ya;function Bo(){if(ya)return Lr.exports;ya=1;function t(P){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},t(P)}function e(P,p){for(var v=0;v<p.length;v++){var k=p[v];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(P,r(k.key),k)}}function n(P,p,v){return p&&e(P.prototype,p),v&&e(P,v),Object.defineProperty(P,"prototype",{writable:!1}),P}function r(P){var p=o(P,"string");return t(p)==="symbol"?p:String(p)}function o(P,p){if(t(P)!=="object"||P===null)return P;var v=P[Symbol.toPrimitive];if(v!==void 0){var k=v.call(P,p||"default");if(t(k)!=="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(P)}function i(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}var a=gs(),s=a.codes,l=s.ERR_AMBIGUOUS_ARGUMENT,h=s.ERR_INVALID_ARG_TYPE,c=s.ERR_INVALID_ARG_VALUE,f=s.ERR_INVALID_RETURN_VALUE,u=s.ERR_MISSING_ARGS,d=Sc(),A=nn,E=A.inspect,O=nn.types,g=O.isPromise,w=O.isRegExp,I=Ic(),T=vi(),b=Ir("RegExp.prototype.test"),m,S;function R(){var P=Mc();m=P.isDeepEqual,S=P.isDeepStrictEqual}var $=!1,M=Lr.exports=me,z={};function L(P){throw P.message instanceof Error?P.message:new d(P)}function ne(P,p,v,k,F){var V=arguments.length,X;if(V===0)X="Failed";else if(V===1)v=P,P=void 0;else{if($===!1){$=!0;var oe=process.emitWarning?process.emitWarning:console.warn.bind(console);oe("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}V===2&&(k="!=")}if(v instanceof Error)throw v;var ve={actual:P,expected:p,operator:k===void 0?"fail":k,stackStartFn:F||ne};v!==void 0&&(ve.message=v);var qe=new d(ve);throw X&&(qe.message=X,qe.generatedMessage=!0),qe}M.fail=ne,M.AssertionError=d;function ee(P,p,v,k){if(!v){var F=!1;if(p===0)F=!0,k="No value argument passed to `assert.ok()`";else if(k instanceof Error)throw k;var V=new d({actual:v,expected:!0,message:k,operator:"==",stackStartFn:P});throw V.generatedMessage=F,V}}function me(){for(var P=arguments.length,p=new Array(P),v=0;v<P;v++)p[v]=arguments[v];ee.apply(void 0,[me,p.length].concat(p))}M.ok=me,M.equal=function P(p,v,k){if(arguments.length<2)throw new u("actual","expected");p!=v&&L({actual:p,expected:v,message:k,operator:"==",stackStartFn:P})},M.notEqual=function P(p,v,k){if(arguments.length<2)throw new u("actual","expected");p==v&&L({actual:p,expected:v,message:k,operator:"!=",stackStartFn:P})},M.deepEqual=function P(p,v,k){if(arguments.length<2)throw new u("actual","expected");m===void 0&&R(),m(p,v)||L({actual:p,expected:v,message:k,operator:"deepEqual",stackStartFn:P})},M.notDeepEqual=function P(p,v,k){if(arguments.length<2)throw new u("actual","expected");m===void 0&&R(),m(p,v)&&L({actual:p,expected:v,message:k,operator:"notDeepEqual",stackStartFn:P})},M.deepStrictEqual=function P(p,v,k){if(arguments.length<2)throw new u("actual","expected");m===void 0&&R(),S(p,v)||L({actual:p,expected:v,message:k,operator:"deepStrictEqual",stackStartFn:P})},M.notDeepStrictEqual=se;function se(P,p,v){if(arguments.length<2)throw new u("actual","expected");m===void 0&&R(),S(P,p)&&L({actual:P,expected:p,message:v,operator:"notDeepStrictEqual",stackStartFn:se})}M.strictEqual=function P(p,v,k){if(arguments.length<2)throw new u("actual","expected");T(p,v)||L({actual:p,expected:v,message:k,operator:"strictEqual",stackStartFn:P})},M.notStrictEqual=function P(p,v,k){if(arguments.length<2)throw new u("actual","expected");T(p,v)&&L({actual:p,expected:v,message:k,operator:"notStrictEqual",stackStartFn:P})};var he=n(function P(p,v,k){var F=this;i(this,P),v.forEach(function(V){V in p&&(k!==void 0&&typeof k[V]=="string"&&w(p[V])&&b(p[V],k[V])?F[V]=k[V]:F[V]=p[V])})});function be(P,p,v,k,F,V){if(!(v in P)||!S(P[v],p[v])){if(!k){var X=new he(P,F),oe=new he(p,F,P),ve=new d({actual:X,expected:oe,operator:"deepStrictEqual",stackStartFn:V});throw ve.actual=P,ve.expected=p,ve.operator=V.name,ve}L({actual:P,expected:p,message:k,operator:V.name,stackStartFn:V})}}function N(P,p,v,k){if(typeof p!="function"){if(w(p))return b(p,P);if(arguments.length===2)throw new h("expected",["Function","RegExp"],p);if(t(P)!=="object"||P===null){var F=new d({actual:P,expected:p,message:v,operator:"deepStrictEqual",stackStartFn:k});throw F.operator=k.name,F}var V=Object.keys(p);if(p instanceof Error)V.push("name","message");else if(V.length===0)throw new c("error",p,"may not be an empty object");return m===void 0&&R(),V.forEach(function(X){typeof P[X]=="string"&&w(p[X])&&b(p[X],P[X])||be(P,p,X,v,V,k)}),!0}return p.prototype!==void 0&&P instanceof p?!0:Error.isPrototypeOf(p)?!1:p.call({},P)===!0}function B(P){if(typeof P!="function")throw new h("fn","Function",P);try{P()}catch(p){return p}return z}function G(P){return g(P)||P!==null&&t(P)==="object"&&typeof P.then=="function"&&typeof P.catch=="function"}function y(P){return Promise.resolve().then(function(){var p;if(typeof P=="function"){if(p=P(),!G(p))throw new f("instance of Promise","promiseFn",p)}else if(G(P))p=P;else throw new h("promiseFn",["Function","Promise"],P);return Promise.resolve().then(function(){return p}).then(function(){return z}).catch(function(v){return v})})}function j(P,p,v,k){if(typeof v=="string"){if(arguments.length===4)throw new h("error",["Object","Error","Function","RegExp"],v);if(t(p)==="object"&&p!==null){if(p.message===v)throw new l("error/message",'The error message "'.concat(p.message,'" is identical to the message.'))}else if(p===v)throw new l("error/message",'The error "'.concat(p,'" is identical to the message.'));k=v,v=void 0}else if(v!=null&&t(v)!=="object"&&typeof v!="function")throw new h("error",["Object","Error","Function","RegExp"],v);if(p===z){var F="";v&&v.name&&(F+=" (".concat(v.name,")")),F+=k?": ".concat(k):".";var V=P.name==="rejects"?"rejection":"exception";L({actual:void 0,expected:v,operator:P.name,message:"Missing expected ".concat(V).concat(F),stackStartFn:P})}if(v&&!N(p,v,k,P))throw p}function C(P,p,v,k){if(p!==z){if(typeof v=="string"&&(k=v,v=void 0),!v||N(p,v)){var F=k?": ".concat(k):".",V=P.name==="doesNotReject"?"rejection":"exception";L({actual:p,expected:v,operator:P.name,message:"Got unwanted ".concat(V).concat(F,`
`)+'Actual message: "'.concat(p&&p.message,'"'),stackStartFn:P})}throw p}}M.throws=function P(p){for(var v=arguments.length,k=new Array(v>1?v-1:0),F=1;F<v;F++)k[F-1]=arguments[F];j.apply(void 0,[P,B(p)].concat(k))},M.rejects=function P(p){for(var v=arguments.length,k=new Array(v>1?v-1:0),F=1;F<v;F++)k[F-1]=arguments[F];return y(p).then(function(V){return j.apply(void 0,[P,V].concat(k))})},M.doesNotThrow=function P(p){for(var v=arguments.length,k=new Array(v>1?v-1:0),F=1;F<v;F++)k[F-1]=arguments[F];C.apply(void 0,[P,B(p)].concat(k))},M.doesNotReject=function P(p){for(var v=arguments.length,k=new Array(v>1?v-1:0),F=1;F<v;F++)k[F-1]=arguments[F];return y(p).then(function(V){return C.apply(void 0,[P,V].concat(k))})},M.ifError=function P(p){if(p!=null){var v="ifError got unwanted exception: ";t(p)==="object"&&typeof p.message=="string"?p.message.length===0&&p.constructor?v+=p.constructor.name:v+=p.message:v+=E(p);var k=new d({actual:p,expected:null,operator:"ifError",message:v,stackStartFn:P}),F=p.stack;if(typeof F=="string"){var V=F.split(`
`);V.shift();for(var X=k.stack.split(`
`),oe=0;oe<V.length;oe++){var ve=X.indexOf(V[oe]);if(ve!==-1){X=X.slice(0,ve);break}}k.stack="".concat(X.join(`
`),`
`).concat(V.join(`
`))}throw k}};function U(P,p,v,k,F){if(!w(p))throw new h("regexp","RegExp",p);var V=F==="match";if(typeof P!="string"||b(p,P)!==V){if(v instanceof Error)throw v;var X=!v;v=v||(typeof P!="string"?'The "string" argument must be of type string. Received type '+"".concat(t(P)," (").concat(E(P),")"):(V?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(E(p),`. Input:

`).concat(E(P),`
`));var oe=new d({actual:P,expected:p,message:v,operator:F,stackStartFn:k});throw oe.generatedMessage=X,oe}}M.match=function P(p,v,k){U(p,v,k,P,"match")},M.doesNotMatch=function P(p,v,k){U(p,v,k,P,"doesNotMatch")};function W(){for(var P=arguments.length,p=new Array(P),v=0;v<P;v++)p[v]=arguments[v];ee.apply(void 0,[W,p.length].concat(p))}return M.strict=I(W,M,{equal:M.strictEqual,deepEqual:M.deepStrictEqual,notEqual:M.notStrictEqual,notDeepEqual:M.notDeepStrictEqual}),M.strict.strict=M.strict,Lr.exports}var Fc=Bo();const Es=Vl(Fc),pe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ae=Object.keys,ke=Array.isArray;function Ce(t,e){return typeof e!="object"||Ae(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||pe.Promise||(pe.Promise=Promise);const An=Object.getPrototypeOf,qc={}.hasOwnProperty;function Fe(t,e){return qc.call(t,e)}function on(t,e){typeof e=="function"&&(e=e(An(t))),(typeof Reflect>"u"?Ae:Reflect.ownKeys)(e).forEach(n=>{rt(t,n,e[n])})}const Os=Object.defineProperty;function rt(t,e,n,r){Os(t,e,Ce(n&&Fe(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ht(t){return{from:function(e){return t.prototype=Object.create(e.prototype),rt(t.prototype,"constructor",t),{extend:on.bind(null,t.prototype)}}}}const Kc=Object.getOwnPropertyDescriptor;function wi(t,e){let n;return Kc(t,e)||(n=An(t))&&wi(n,e)}const Lc=[].slice;function vr(t,e,n){return Lc.call(t,e,n)}function Ps(t,e){return e(t)}function yn(t){if(!t)throw new Error("Assertion Failed")}function js(t){pe.setImmediate?setImmediate(t):setTimeout(t,0)}function xs(t,e){return t.reduce((n,r,o)=>{var i=e(r,o);return i&&(n[i[0]]=i[1]),n},{})}function ot(t,e){if(typeof e=="string"&&Fe(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,o=e.length;r<o;++r){var i=ot(t,e[r]);n.push(i)}return n}var a=e.indexOf(".");if(a!==-1){var s=t[e.substr(0,a)];return s==null?void 0:ot(s,e.substr(a+1))}}function Ke(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){yn(typeof n!="string"&&"length"in n);for(var r=0,o=e.length;r<o;++r)Ke(t,e[r],n[r])}else{var i=e.indexOf(".");if(i!==-1){var a=e.substr(0,i),s=e.substr(i+1);if(s==="")n===void 0?ke(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var l=t[a];l&&Fe(t,a)||(l=t[a]={}),Ke(l,s,n)}}else n===void 0?ke(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function ks(t){var e={};for(var n in t)Fe(t,n)&&(e[n]=t[n]);return e}const Uc=[].concat;function $s(t){return Uc.apply([],t)}const Ts="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat($s([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>pe[t]),Vc=Ts.map(t=>pe[t]);xs(Ts,t=>[t,!0]);let ut=null;function Cn(t){ut=typeof WeakMap<"u"&&new WeakMap;const e=Mo(t);return ut=null,e}function Mo(t){if(!t||typeof t!="object")return t;let e=ut&&ut.get(t);if(e)return e;if(ke(t)){e=[],ut&&ut.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(Mo(t[n]))}else if(Vc.indexOf(t.constructor)>=0)e=t;else{const i=An(t);for(var o in e=i===Object.prototype?{}:Object.create(i),ut&&ut.set(t,e),t)Fe(t,o)&&(e[o]=Mo(t[o]))}return e}const{toString:Gc}={};function Fo(t){return Gc.call(t).slice(8,-1)}const qo=typeof Symbol<"u"?Symbol.iterator:"@@iterator",zc=typeof qo=="symbol"?function(t){var e;return t!=null&&(e=t[qo])&&e.apply(t)}:function(){return null},Kt={};function et(t){var e,n,r,o;if(arguments.length===1){if(ke(t))return t.slice();if(this===Kt&&typeof t=="string")return[t];if(o=zc(t)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const _i=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Ge=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Is(t,e){Ge=t,Rs=e}var Rs=()=>!0;const Wc=!new Error("").stack;function It(){if(Wc)try{throw It.arguments,new Error}catch(t){return t}return new Error}function Ko(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(Rs).map(r=>`
`+r).join("")):""}var Cs=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Si=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Cs),Hc={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Yt(t,e){this._e=It(),this.name=t,this.message=e}function Ds(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,o)=>o.indexOf(n)===r).join(`
`)}function wr(t,e,n,r){this._e=It(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=Ds(t,e)}function mn(t,e){this._e=It(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=Ds(t,e)}Ht(Yt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Ko(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Ht(wr).from(Yt),Ht(mn).from(Yt);var Ai=Si.reduce((t,e)=>(t[e]=e+"Error",t),{});const Yc=Yt;var Q=Si.reduce((t,e)=>{var n=e+"Error";function r(o,i){this._e=It(),this.name=n,o?typeof o=="string"?(this.message=`${o}${i?`
 `+i:""}`,this.inner=i||null):typeof o=="object"&&(this.message=`${o.name} ${o.message}`,this.inner=o):(this.message=Hc[e]||n,this.inner=null)}return Ht(r).from(Yc),t[e]=r,t},{});Q.Syntax=SyntaxError,Q.Type=TypeError,Q.Range=RangeError;var ga=Cs.reduce((t,e)=>(t[e+"Error"]=Q[e],t),{}),er=Si.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=Q[e]),t),{});function le(){}function En(t){return t}function Jc(t,e){return t==null||t===En?e:function(n){return e(t(n))}}function $t(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Qc(t,e){return t===le?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?$t(r,this.onsuccess):r),o&&(this.onerror=this.onerror?$t(o,this.onerror):o),i!==void 0?i:n}}function Xc(t,e){return t===le?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?$t(n,this.onsuccess):n),r&&(this.onerror=this.onerror?$t(r,this.onerror):r)}}function Zc(t,e){return t===le?e:function(n){var r=t.apply(this,arguments);Ce(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?$t(o,this.onsuccess):o),i&&(this.onerror=this.onerror?$t(i,this.onerror):i),r===void 0?a===void 0?void 0:a:Ce(r,a)}}function ef(t,e){return t===le?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function Ei(t,e){return t===le?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then(function(){return e.apply(r,i)})}return e.apply(this,arguments)}}er.ModifyError=wr,er.DexieError=Yt,er.BulkError=mn;var On={};const Ns=100,[Lo,_r,Uo]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,An(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,An(e),t]})(),Bs=_r&&_r.then,tr=Lo&&Lo.constructor,Oi=!!Uo;var Vo=!1,tf=Uo?()=>{Uo.then(Mn)}:pe.setImmediate?setImmediate.bind(null,Mn):pe.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{Mn(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Mn,0)},bn=function(t,e){gn.push([t,e]),Sr&&(tf(),Sr=!1)},Go=!0,Sr=!0,Pt=[],nr=[],zo=null,Wo=En,Jt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:va,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{va(t[0],t[1])}catch{}})}},J=Jt,gn=[],jt=0,rr=[];function K(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=le,this._lib=!1;var e=this._PSD=J;if(Ge&&(this._stackHolder=It(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==On)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Yo(this,this._value))}this._state=null,this._value=null,++e.ref,Fs(this,t)}const Ho={get:function(){var t=J,e=Ar;function n(r,o){var i=!t.global&&(t!==J||e!==Ar);const a=i&&!at();var s=new K((l,h)=>{Pi(this,new Ms(Er(r,t,i,a),Er(o,t,i,a),l,h,t))});return Ge&&Ls(s,this),s}return n.prototype=On,n},set:function(t){rt(this,"then",t&&t.prototype===On?Ho:{get:function(){return t},set:Ho.set})}};function Ms(t,e,n,r,o){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=o}function Fs(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Dn();n&&typeof n.then=="function"?Fs(t,(o,i)=>{n instanceof K?n._then(o,i):n.then(o,i)}):(t._state=!0,t._value=n,qs(t)),r&&Nn()}},Yo.bind(null,t))}catch(n){Yo(t,n)}}function Yo(t,e){if(nr.push(e),t._state===null){var n=t._lib&&Dn();e=Wo(e),t._state=!1,t._value=e,Ge&&e!==null&&typeof e=="object"&&!e._promise&&function(r,o,i){try{r.apply(null,i)}catch(a){o&&o(a)}}(()=>{var r=wi(e,"stack");e._promise=t,rt(e,"stack",{get:()=>Vo?r&&(r.get?r.get.apply(e):r.value):t.stack})}),function(r){Pt.some(o=>o._value===r._value)||Pt.push(r)}(t),qs(t),n&&Nn()}}function qs(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Pi(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),jt===0&&(++jt,bn(()=>{--jt==0&&ji()},[]))}function Pi(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++jt,bn(nf,[n,t,e])}else t._listeners.push(e)}function nf(t,e,n){try{zo=e;var r,o=e._value;e._state?r=t(o):(nr.length&&(nr=[]),r=t(o),nr.indexOf(o)===-1&&function(i){for(var a=Pt.length;a;)if(Pt[--a]._value===i._value)return void Pt.splice(a,1)}(e)),n.resolve(r)}catch(i){n.reject(i)}finally{zo=null,--jt==0&&ji(),--n.psd.ref||n.psd.finalize()}}function Ks(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var o,i,a=t._value;a!=null?(o=a.name||"Error",i=a.message||a,r=Ko(a,0)):(o=a,i=""),e.push(o+(i?": "+i:"")+r)}return Ge&&((r=Ko(t._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),t._prev&&Ks(t._prev,e,n)),e}function Ls(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function Mn(){Dn()&&Nn()}function Dn(){var t=Go;return Go=!1,Sr=!1,t}function Nn(){var t,e,n;do for(;gn.length>0;)for(t=gn,gn=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(gn.length>0);Go=!0,Sr=!0}function ji(){var t=Pt;Pt=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=rr.slice(0),n=e.length;n;)e[--n]()}function Fn(t){return new K(On,!1,t)}function ge(t,e){var n=J;return function(){var r=Dn(),o=J;try{return gt(n,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{gt(o,!1),r&&Nn()}}}on(K.prototype,{then:Ho,_then:function(t,e){Pi(this,new Ms(null,null,t,e,J))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):Fn(r)):this.then(null,r=>r&&r.name===e?n(r):Fn(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),Fn(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Vo=!0;var t=Ks(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Vo=!1}}},timeout:function(t,e){return t<1/0?new K((n,r)=>{var o=setTimeout(()=>r(new Q.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,o))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&rt(K.prototype,Symbol.toStringTag,"Dexie.Promise"),Jt.env=Us(),on(K,{all:function(){var t=et.apply(null,arguments).map(qn);return new K(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((o,i)=>K.resolve(o).then(a=>{t[i]=a,--r||e(t)},n))})},resolve:t=>{if(t instanceof K)return t;if(t&&typeof t.then=="function")return new K((n,r)=>{t.then(n,r)});var e=new K(On,!0,t);return Ls(e,zo),e},reject:Fn,race:function(){var t=et.apply(null,arguments).map(qn);return new K((e,n)=>{t.map(r=>K.resolve(r).then(e,n))})},PSD:{get:()=>J,set:t=>J=t},totalEchoes:{get:()=>Ar},newPSD:yt,usePSD:ln,scheduler:{get:()=>bn,set:t=>{bn=t}},rejectionMapper:{get:()=>Wo,set:t=>{Wo=t}},follow:(t,e)=>new K((n,r)=>yt((o,i)=>{var a=J;a.unhandleds=[],a.onunhandled=i,a.finalize=$t(function(){(function(s){function l(){s(),rr.splice(rr.indexOf(l),1)}rr.push(l),++jt,bn(()=>{--jt==0&&ji()},[])})(()=>{this.unhandleds.length===0?o():i(this.unhandleds[0])})},a.finalize),t()},e,n,r))}),tr&&(tr.allSettled&&rt(K,"allSettled",function(){const t=et.apply(null,arguments).map(qn);return new K(e=>{t.length===0&&e([]);let n=t.length;const r=new Array(n);t.forEach((o,i)=>K.resolve(o).then(a=>r[i]={status:"fulfilled",value:a},a=>r[i]={status:"rejected",reason:a}).then(()=>--n||e(r)))})}),tr.any&&typeof AggregateError<"u"&&rt(K,"any",function(){const t=et.apply(null,arguments).map(qn);return new K((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length;const o=new Array(r);t.forEach((i,a)=>K.resolve(i).then(s=>e(s),s=>{o[a]=s,--r||n(new AggregateError(o))}))})}));const xe={awaits:0,echoes:0,id:0};var rf=0,or=[],co=0,Ar=0,of=0;function yt(t,e,n,r){var o=J,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++of;var a=Jt.env;i.env=Oi?{Promise:K,PromiseProp:{value:K,configurable:!0,writable:!0},all:K.all,race:K.race,allSettled:K.allSettled,any:K.any,resolve:K.resolve,reject:K.reject,nthen:ma(a.nthen,i),gthen:ma(a.gthen,i)}:{},e&&Ce(i,e),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=ln(i,t,n,r);return i.ref===0&&i.finalize(),s}function sn(){return xe.id||(xe.id=++rf),++xe.awaits,xe.echoes+=Ns,xe.id}function at(){return!!xe.awaits&&(--xe.awaits==0&&(xe.id=0),xe.echoes=xe.awaits*Ns,!0)}function qn(t){return xe.echoes&&t&&t.constructor===tr?(sn(),t.then(e=>(at(),e),e=>(at(),Ee(e)))):t}function af(t){++Ar,xe.echoes&&--xe.echoes!=0||(xe.echoes=xe.id=0),or.push(J),gt(t,!0)}function sf(){var t=or[or.length-1];or.pop(),gt(t,!1)}function gt(t,e){var n=J;if((e?!xe.echoes||co++&&t===J:!co||--co&&t===J)||Vs(e?af.bind(null,t):sf),t!==J&&(J=t,n===Jt&&(Jt.env=Us()),Oi)){var r=Jt.env.Promise,o=t.env;_r.then=o.nthen,r.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(pe,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function Us(){var t=pe.Promise;return Oi?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(pe,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:_r.then,gthen:t.prototype.then}:{}}function ln(t,e,n,r,o){var i=J;try{return gt(t,!0),e(n,r,o)}finally{gt(i,!1)}}function Vs(t){Bs.call(Lo,t)}function Er(t,e,n,r){return typeof t!="function"?t:function(){var o=J;n&&sn(),gt(e,!0);try{return t.apply(this,arguments)}finally{gt(o,!1),r&&Vs(at)}}}function ma(t,e){return function(n,r){return t.call(this,Er(n,e),Er(r,e))}}(""+Bs).indexOf("[native code]")===-1&&(sn=at=le);const ba="unhandledrejection";function va(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,o={promise:e,reason:t};if(pe.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ba,!0,!0),Ce(r,o)):pe.CustomEvent&&Ce(r=new CustomEvent(ba,{detail:o}),o),r&&pe.dispatchEvent&&(dispatchEvent(r),!pe.PromiseRejectionEvent&&pe.onunhandledrejection))try{pe.onunhandledrejection(r)}catch{}Ge&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var Ee=K.reject;function Jo(t,e,n,r){if(t.idbdb&&(t._state.openComplete||J.letThrough||t._vip)){var o=t._createTransaction(e,n,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===Ai.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Jo(t,e,n,r))):Ee(i)}return o._promise(e,(i,a)=>yt(()=>(J.trans=o,r(i,a,o)))).then(i=>o._completion.then(()=>i))}if(t._state.openComplete)return Ee(new Q.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Ee(new Q.DatabaseClosed);t.open().catch(le)}return t._state.dbReadyPromise.then(()=>Jo(t,e,n,r))}const wa="3.2.7",St=String.fromCharCode(65535),Qo=-1/0,Ye="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Gs="String expected.",vn=[],Dr=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),lf=Dr,uf=Dr,zs=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),Nr="__dbnames",fo="readonly",ho="readwrite";function Tt(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const Ws={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Kn(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=Cn(e))[t],e)}class cf{_trans(e,n,r){const o=this._tx||J.trans,i=this.name;function a(l,h,c){if(!c.schema[i])throw new Q.NotFound("Table "+i+" not part of transaction");return n(c.idbtrans,c)}const s=Dn();try{return o&&o.db===this.db?o===J.trans?o._promise(e,a,r):yt(()=>o._promise(e,a,r),{trans:o,transless:J.transless||J}):Jo(this.db,e,[this.name],a)}finally{s&&Nn()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(o=>this.hook.reading.fire(o))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(ke(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=Ae(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(h=>{if(h.compound&&n.every(c=>h.keyPath.indexOf(c)>=0)){for(let c=0;c<n.length;++c)if(n.indexOf(h.keyPath[c])===-1)return!1;return!0}return!1}).sort((h,c)=>h.keyPath.length-c.keyPath.length)[0];if(r&&this.db._maxKey!==St){const h=r.keyPath.slice(0,n.length);return this.where(h).equals(h.map(c=>e[c]))}!r&&Ge&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:o}=this.schema,i=this.db._deps.indexedDB;function a(h,c){try{return i.cmp(h,c)===0}catch{return!1}}const[s,l]=n.reduce(([h,c],f)=>{const u=o[f],d=e[f];return[h||u,h||!u?Tt(c,u&&u.multi?A=>{const E=ot(A,f);return ke(E)&&E.some(O=>a(d,O))}:A=>a(d,ot(A,f))):c]},[null,null]);return s?this.where(s.name).equals(e[s.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,ke(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const o=Object.create(e.prototype);for(var i in r)if(Fe(r,i))try{o[i]=r[i]}catch{}return o};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){Ce(this,e)})}add(e,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=e;return o&&r&&(i=Kn(o)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[i]})).then(a=>a.numFailures?K.reject(a.failures[0]):a.lastResult).then(a=>{if(o)try{Ke(e,o,a)}catch{}return a})}update(e,n){if(typeof e!="object"||ke(e))return this.where(":id").equals(e).modify(n);{const r=ot(e,this.schema.primKey.keyPath);if(r===void 0)return Ee(new Q.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Ae(n).forEach(o=>{Ke(e,o,n[o])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:o}=this.schema.primKey;let i=e;return o&&r&&(i=Kn(o)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[i],keys:n!=null?[n]:null})).then(a=>a.numFailures?K.reject(a.failures[0]):a.lastResult).then(a=>{if(o)try{Ke(e,o,a)}catch{}return a})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?K.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:Ws})).then(e=>e.numFailures?K.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(o=>this.hook.reading.fire(o))))}bulkAdd(e,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&o)throw new Q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");const h=e.length;let c=l&&s?e.map(Kn(l)):e;return this.core.mutate({trans:a,type:"add",keys:o,values:c,wantResults:i}).then(({numFailures:f,results:u,lastResult:d,failures:A})=>{if(f===0)return i?u:d;throw new mn(`${this.name}.bulkAdd(): ${f} of ${h} operations failed`,A)})})}bulkPut(e,n,r){const o=Array.isArray(n)?n:void 0,i=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&o)throw new Q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");const h=e.length;let c=l&&s?e.map(Kn(l)):e;return this.core.mutate({trans:a,type:"put",keys:o,values:c,wantResults:i}).then(({numFailures:f,results:u,lastResult:d,failures:A})=>{if(f===0)return i?u:d;throw new mn(`${this.name}.bulkPut(): ${f} of ${h} operations failed`,A)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:o,failures:i})=>{if(r===0)return o;throw new mn(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}}function wn(t){var e={},n=function(a,s){if(s){for(var l=arguments.length,h=new Array(l-1);--l;)h[l-1]=arguments[l];return e[a].subscribe.apply(null,h),t}if(typeof a=="string")return e[a]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(a,s,l){if(typeof a!="object"){var h;s||(s=ef),l||(l=le);var c={subscribers:[],fire:l,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=s(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(u){return u!==f}),c.fire=c.subscribers.reduce(s,l)}};return e[a]=n[a]=c,c}Ae(h=a).forEach(function(f){var u=h[f];if(ke(u))i(f,h[f][0],h[f][1]);else{if(u!=="asap")throw new Q.InvalidArgument("Invalid event config");var d=i(f,En,function(){for(var A=arguments.length,E=new Array(A);A--;)E[A]=arguments[A];d.subscribers.forEach(function(O){js(function(){O.apply(null,E)})})})}})}}function hn(t,e){return Ht(e).from({prototype:t}),e}function Mt(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function po(t,e){t.filter=Tt(t.filter,e)}function yo(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>Tt(r(),e()):e,t.justLimit=n&&!r}function ir(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new Q.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function _a(t,e,n){const r=ir(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function Ln(t,e,n,r){const o=t.replayFilter?Tt(t.filter,t.replayFilter()):t.filter;if(t.or){const i={},a=(s,l,h)=>{if(!o||o(l,h,u=>l.stop(u),u=>l.fail(u))){var c=l.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),Fe(i,f)||(i[f]=!0,e(s,l,h))}};return Promise.all([t.or._iterate(a,n),Sa(_a(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return Sa(_a(t,r,n),Tt(t.algorithm,o),e,!t.keysOnly&&t.valueMapper)}function Sa(t,e,n,r){var o=ge(r?(i,a,s)=>n(r(i),a,s):n);return t.then(i=>{if(i)return i.start(()=>{var a=()=>i.continue();e&&!e(i,s=>a=s,s=>{i.stop(s),a=le},s=>{i.fail(s),a=le})||o(i.value,i,s=>a=s),a()})})}function Re(t,e){try{const n=Aa(t),r=Aa(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(o,i){const a=o.length,s=i.length,l=a<s?a:s;for(let h=0;h<l;++h)if(o[h]!==i[h])return o[h]<i[h]?-1:1;return a===s?0:a<s?-1:1}(Ea(t),Ea(e));case"Array":return function(o,i){const a=o.length,s=i.length,l=a<s?a:s;for(let h=0;h<l;++h){const c=Re(o[h],i[h]);if(c!==0)return c}return a===s?0:a<s?-1:1}(t,e)}}catch{}return NaN}function Aa(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=Fo(t);return n==="ArrayBuffer"?"binary":n}function Ea(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class ff{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,Ee.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,Ee.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=Tt(n.algorithm,e)}_iterate(e,n){return Ln(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&Ce(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>Ln(n,e,r,n.table.core))}count(e){return this._read(n=>{const r=this._ctx,o=r.table.core;if(Mt(r,!0))return o.count({trans:n,query:{index:ir(r,o.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var i=0;return Ln(r,()=>(++i,!1),n,o).then(()=>i)}).then(e)}sortBy(e,n){const r=e.split(".").reverse(),o=r[0],i=r.length-1;function a(h,c){return c?a(h[r[c]],c-1):h[o]}var s=this._ctx.dir==="next"?1:-1;function l(h,c){var f=a(h,i),u=a(c,i);return f<u?-s:f>u?s:0}return this.toArray(function(h){return h.sort(l)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Mt(r,!0)&&r.limit>0){const{valueMapper:o}=r,i=ir(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:a})=>o?a.map(o):a)}{const o=[];return Ln(r,i=>o.push(i),n,r.table.core).then(()=>o)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,Mt(n)?yo(n,()=>{var r=e;return(o,i)=>r===0||(r===1?(--r,!1):(i(()=>{o.advance(r),r=0}),!1))}):yo(n,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),yo(this._ctx,()=>{var n=e;return function(r,o,i){return--n<=0&&o(i),n>=0}},!0),this}until(e,n){return po(this._ctx,function(r,o,i){return!e(r.value)||(o(i),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,r;return po(this._ctx,function(o){return e(o.value)}),n=this._ctx,r=e,n.isMatch=Tt(n.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){e(o.key,o)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,o){e(o.primaryKey,o)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&Mt(n,!0)&&n.limit>0)return this._read(o=>{var i=ir(n,n.table.core.schema);return n.table.core.query({trans:o,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:o})=>o).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(o,i){r.push(i.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return po(this._ctx,function(o){var i=o.primaryKey.toString(),a=Fe(r,i);return r[i]=!0,!a}),this}modify(e){var n=this._ctx;return this._write(r=>{var o;if(typeof e=="function")o=e;else{var i=Ae(e),a=i.length;o=function(E){for(var O=!1,g=0;g<a;++g){var w=i[g],I=e[w];ot(E,w)!==I&&(Ke(E,w,I),O=!0)}return O}}const s=n.table.core,{outbound:l,extractKey:h}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,f=[];let u=0;const d=[],A=(E,O)=>{const{failures:g,numFailures:w}=O;u+=E-w;for(let I of Ae(g))f.push(g[I])};return this.clone().primaryKeys().then(E=>{const O=g=>{const w=Math.min(c,E.length-g);return s.getMany({trans:r,keys:E.slice(g,g+w),cache:"immutable"}).then(I=>{const T=[],b=[],m=l?[]:null,S=[];for(let $=0;$<w;++$){const M=I[$],z={value:Cn(M),primKey:E[g+$]};o.call(z,z.value,z)!==!1&&(z.value==null?S.push(E[g+$]):l||Re(h(M),h(z.value))===0?(b.push(z.value),l&&m.push(E[g+$])):(S.push(E[g+$]),T.push(z.value)))}const R=Mt(n)&&n.limit===1/0&&(typeof e!="function"||e===go)&&{index:n.index,range:n.range};return Promise.resolve(T.length>0&&s.mutate({trans:r,type:"add",values:T}).then($=>{for(let M in $.failures)S.splice(parseInt(M),1);A(T.length,$)})).then(()=>(b.length>0||R&&typeof e=="object")&&s.mutate({trans:r,type:"put",keys:m,values:b,criteria:R,changeSpec:typeof e!="function"&&e}).then($=>A(b.length,$))).then(()=>(S.length>0||R&&e===go)&&s.mutate({trans:r,type:"delete",keys:S,criteria:R}).then($=>A(S.length,$))).then(()=>E.length>g+w&&O(g+c))})};return O(0).then(()=>{if(f.length>0)throw new wr("Error modifying one or more objects",f,u,d);return E.length})})})}delete(){var e=this._ctx,n=e.range;return Mt(e)&&(e.isPrimKey&&!uf||n.type===3)?this._write(r=>{const{primaryKey:o}=e.table.core.schema,i=n;return e.table.core.count({trans:r,query:{index:o,range:i}}).then(a=>e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:s,lastResult:l,results:h,numFailures:c})=>{if(c)throw new wr("Could not delete some values",Object.keys(s).map(f=>s[f]),a-c);return a-c}))}):this.modify(go)}}const go=(t,e)=>e.value=null;function hf(t,e){return t<e?-1:t===e?0:1}function df(t,e){return t>e?-1:t===e?0:1}function Be(t,e,n){var r=t instanceof Ys?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Ft(t){return new t.Collection(t,()=>Hs("")).limit(0)}function pf(t,e,n,r,o,i){for(var a=Math.min(t.length,r.length),s=-1,l=0;l<a;++l){var h=e[l];if(h!==r[l])return o(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):o(t[l],r[l])<0?t.substr(0,l)+r[l]+n.substr(l+1):s>=0?t.substr(0,s)+e[s]+n.substr(s+1):null;o(t[l],h)<0&&(s=l)}return a<r.length&&i==="next"?t+n.substr(t.length):a<t.length&&i==="prev"?t.substr(0,n.length):s<0?null:t.substr(0,s)+r[s]+n.substr(s+1)}function Un(t,e,n,r){var o,i,a,s,l,h,c,f=n.length;if(!n.every(E=>typeof E=="string"))return Be(t,Gs);function u(E){o=function(g){return g==="next"?w=>w.toUpperCase():w=>w.toLowerCase()}(E),i=function(g){return g==="next"?w=>w.toLowerCase():w=>w.toUpperCase()}(E),a=E==="next"?hf:df;var O=n.map(function(g){return{lower:i(g),upper:o(g)}}).sort(function(g,w){return a(g.lower,w.lower)});s=O.map(function(g){return g.upper}),l=O.map(function(g){return g.lower}),h=E,c=E==="next"?"":r}u("next");var d=new t.Collection(t,()=>lt(s[0],l[f-1]+r));d._ondirectionchange=function(E){u(E)};var A=0;return d._addAlgorithm(function(E,O,g){var w=E.key;if(typeof w!="string")return!1;var I=i(w);if(e(I,l,A))return!0;for(var T=null,b=A;b<f;++b){var m=pf(w,I,s[b],l[b],a,h);m===null&&T===null?A=b+1:(T===null||a(T,m)>0)&&(T=m)}return O(T!==null?function(){E.continue(T+c)}:g),!1}),d}function lt(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function Hs(t){return{type:1,lower:t,upper:t}}class Ys{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,o){r=r!==!1,o=o===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||o)&&(!r||!o)?Ft(this):new this.Collection(this,()=>lt(e,n,!r,!o))}catch{return Be(this,Ye)}}equals(e){return e==null?Be(this,Ye):new this.Collection(this,()=>Hs(e))}above(e){return e==null?Be(this,Ye):new this.Collection(this,()=>lt(e,void 0,!0))}aboveOrEqual(e){return e==null?Be(this,Ye):new this.Collection(this,()=>lt(e,void 0,!1))}below(e){return e==null?Be(this,Ye):new this.Collection(this,()=>lt(void 0,e,!1,!0))}belowOrEqual(e){return e==null?Be(this,Ye):new this.Collection(this,()=>lt(void 0,e))}startsWith(e){return typeof e!="string"?Be(this,Gs):this.between(e,e+St,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):Un(this,(n,r)=>n.indexOf(r[0])===0,[e],St)}equalsIgnoreCase(e){return Un(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=et.apply(Kt,arguments);return e.length===0?Ft(this):Un(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=et.apply(Kt,arguments);return e.length===0?Ft(this):Un(this,(n,r)=>r.some(o=>n.indexOf(o)===0),e,St)}anyOf(){const e=et.apply(Kt,arguments);let n=this._cmp;try{e.sort(n)}catch{return Be(this,Ye)}if(e.length===0)return Ft(this);const r=new this.Collection(this,()=>lt(e[0],e[e.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,e.sort(n)};let o=0;return r._addAlgorithm((i,a,s)=>{const l=i.key;for(;n(l,e[o])>0;)if(++o,o===e.length)return a(s),!1;return n(l,e[o])===0||(a(()=>{i.continue(e[o])}),!1)}),r}notEqual(e){return this.inAnyRange([[Qo,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=et.apply(Kt,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Be(this,Ye)}const n=e.reduce((r,o)=>r?r.concat([[r[r.length-1][1],o]]):[[Qo,o]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,o=this._ascending,i=this._descending,a=this._min,s=this._max;if(e.length===0)return Ft(this);if(!e.every(w=>w[0]!==void 0&&w[1]!==void 0&&o(w[0],w[1])<=0))return Be(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Q.InvalidArgument);const l=!n||n.includeLowers!==!1,h=n&&n.includeUppers===!0;let c,f=o;function u(w,I){return f(w[0],I[0])}try{c=e.reduce(function(w,I){let T=0,b=w.length;for(;T<b;++T){const m=w[T];if(r(I[0],m[1])<0&&r(I[1],m[0])>0){m[0]=a(m[0],I[0]),m[1]=s(m[1],I[1]);break}}return T===b&&w.push(I),w},[]),c.sort(u)}catch{return Be(this,Ye)}let d=0;const A=h?w=>o(w,c[d][1])>0:w=>o(w,c[d][1])>=0,E=l?w=>i(w,c[d][0])>0:w=>i(w,c[d][0])>=0;let O=A;const g=new this.Collection(this,()=>lt(c[0][0],c[c.length-1][1],!l,!h));return g._ondirectionchange=w=>{w==="next"?(O=A,f=o):(O=E,f=i),c.sort(u)},g._addAlgorithm((w,I,T)=>{for(var b=w.key;O(b);)if(++d,d===c.length)return I(T),!1;return!!function(m){return!A(m)&&!E(m)}(b)||(this._cmp(b,c[d][1])===0||this._cmp(b,c[d][0])===0||I(()=>{f===o?w.continue(c[d][0]):w.continue(c[d][1])}),!1)}),g}startsWithAnyOf(){const e=et.apply(Kt,arguments);return e.every(n=>typeof n=="string")?e.length===0?Ft(this):this.inAnyRange(e.map(n=>[n,n+St])):Be(this,"startsWithAnyOf() only works with strings")}}function Ue(t){return ge(function(e){return Pn(e),t(e.target.error),!1})}function Pn(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const jn="storagemutated",ht="x-storagemutated-1",mt=wn(null,jn);class yf{_lock(){return yn(!J.global),++this._reculock,this._reculock!==1||J.global||(J.lockOwnerFor=this),this}_unlock(){if(yn(!J.global),--this._reculock==0)for(J.global||(J.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ln(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&J.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(yn(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Q.DatabaseClosed(r);case"MissingAPIError":throw new Q.MissingAPI(r.message,r);default:throw new Q.OpenFailed(r)}if(!this.active)throw new Q.TransactionInactive;return yn(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ge(o=>{Pn(o),this._reject(e.error)}),e.onabort=ge(o=>{Pn(o),this.active&&this._reject(new Q.Abort(e.error)),this.active=!1,this.on("abort").fire(o)}),e.oncomplete=ge(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&mt.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return Ee(new Q.ReadOnly("Transaction is readonly"));if(!this.active)return Ee(new Q.TransactionInactive);if(this._locked())return new K((i,a)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(i,a)},J])});if(r)return yt(()=>{var i=new K((a,s)=>{this._lock();const l=n(a,s,this);l&&l.then&&l.then(a,s)});return i.finally(()=>this._unlock()),i._lib=!0,i});var o=new K((i,a)=>{var s=n(i,a,this);s&&s.then&&s.then(i,a)});return o._lib=!0,o}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=K.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var o=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(o.get(-1/0).onsuccess=a)})()}var i=n._waitingFor;return new K((a,s)=>{r.then(l=>n._waitingQueue.push(ge(a.bind(null,l))),l=>n._waitingQueue.push(ge(s.bind(null,l)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Q.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(Fe(n,e))return n[e];const r=this.schema[e];if(!r)throw new Q.NotFound("Table "+e+" not part of transaction");const o=new this.db.Table(e,r,this);return o.core=this.db.core.table(e),n[e]=o,o}}function Xo(t,e,n,r,o,i,a){return{name:t,keyPath:e,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+Js(e)}}function Js(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Qs(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:xs(n,r=>[r.name,r])}}let xn=t=>{try{return t.only([[]]),xn=()=>[[]],[[]]}catch{return xn=()=>St,St}};function Zo(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>ot(r,e)}(t):e=>ot(e,t)}function Oa(t){return[].slice.call(t)}let gf=0;function _n(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function mf(t,e,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:h,upper:c,lowerOpen:f,upperOpen:u}=l;return h===void 0?c===void 0?null:e.upperBound(c,!!u):c===void 0?e.lowerBound(h,!!f):e.bound(h,c,!!f,!!u)}const{schema:o,hasGetAll:i}=function(l,h){const c=Oa(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(f=>h.objectStore(f)).map(f=>{const{keyPath:u,autoIncrement:d}=f,A=ke(u),E=u==null,O={},g={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E,compound:A,keyPath:u,autoIncrement:d,unique:!0,extractKey:Zo(u)},indexes:Oa(f.indexNames).map(w=>f.index(w)).map(w=>{const{name:I,unique:T,multiEntry:b,keyPath:m}=w,S={name:I,compound:ke(m),keyPath:m,unique:T,multiEntry:b,extractKey:Zo(m)};return O[_n(m)]=S,S}),getIndexByKeyPath:w=>O[_n(w)]};return O[":id"]=g.primaryKey,u!=null&&(O[_n(u)]=g.primaryKey),g})},hasGetAll:c.length>0&&"getAll"in h.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),a=o.tables.map(l=>function(h){const c=h.name;return{name:c,schema:h,mutate:function({trans:f,type:u,keys:d,values:A,range:E}){return new Promise((O,g)=>{O=ge(O);const w=f.objectStore(c),I=w.keyPath==null,T=u==="put"||u==="add";if(!T&&u!=="delete"&&u!=="deleteRange")throw new Error("Invalid operation type: "+u);const{length:b}=d||A||{length:1};if(d&&A&&d.length!==A.length)throw new Error("Given keys array must have same length as given values array.");if(b===0)return O({numFailures:0,failures:{},results:[],lastResult:void 0});let m;const S=[],R=[];let $=0;const M=L=>{++$,Pn(L)};if(u==="deleteRange"){if(E.type===4)return O({numFailures:$,failures:R,results:[],lastResult:void 0});E.type===3?S.push(m=w.clear()):S.push(m=w.delete(r(E)))}else{const[L,ne]=T?I?[A,d]:[A,null]:[d,null];if(T)for(let ee=0;ee<b;++ee)S.push(m=ne&&ne[ee]!==void 0?w[u](L[ee],ne[ee]):w[u](L[ee])),m.onerror=M;else for(let ee=0;ee<b;++ee)S.push(m=w[u](L[ee])),m.onerror=M}const z=L=>{const ne=L.target.result;S.forEach((ee,me)=>ee.error!=null&&(R[me]=ee.error)),O({numFailures:$,failures:R,results:u==="delete"?d:S.map(ee=>ee.result),lastResult:ne})};m.onerror=L=>{M(L),z(L)},m.onsuccess=z})},getMany:({trans:f,keys:u})=>new Promise((d,A)=>{d=ge(d);const E=f.objectStore(c),O=u.length,g=new Array(O);let w,I=0,T=0;const b=S=>{const R=S.target;g[R._pos]=R.result,++T===I&&d(g)},m=Ue(A);for(let S=0;S<O;++S)u[S]!=null&&(w=E.get(u[S]),w._pos=S,w.onsuccess=b,w.onerror=m,++I);I===0&&d(g)}),get:({trans:f,key:u})=>new Promise((d,A)=>{d=ge(d);const E=f.objectStore(c).get(u);E.onsuccess=O=>d(O.target.result),E.onerror=Ue(A)}),query:function(f){return u=>new Promise((d,A)=>{d=ge(d);const{trans:E,values:O,limit:g,query:w}=u,I=g===1/0?void 0:g,{index:T,range:b}=w,m=E.objectStore(c),S=T.isPrimaryKey?m:m.index(T.name),R=r(b);if(g===0)return d({result:[]});if(f){const $=O?S.getAll(R,I):S.getAllKeys(R,I);$.onsuccess=M=>d({result:M.target.result}),$.onerror=Ue(A)}else{let $=0;const M=O||!("openKeyCursor"in S)?S.openCursor(R):S.openKeyCursor(R),z=[];M.onsuccess=L=>{const ne=M.result;return ne?(z.push(O?ne.value:ne.primaryKey),++$===g?d({result:z}):void ne.continue()):d({result:z})},M.onerror=Ue(A)}})}(i),openCursor:function({trans:f,values:u,query:d,reverse:A,unique:E}){return new Promise((O,g)=>{O=ge(O);const{index:w,range:I}=d,T=f.objectStore(c),b=w.isPrimaryKey?T:T.index(w.name),m=A?E?"prevunique":"prev":E?"nextunique":"next",S=u||!("openKeyCursor"in b)?b.openCursor(r(I),m):b.openKeyCursor(r(I),m);S.onerror=Ue(g),S.onsuccess=ge(R=>{const $=S.result;if(!$)return void O(null);$.___id=++gf,$.done=!1;const M=$.continue.bind($);let z=$.continuePrimaryKey;z&&(z=z.bind($));const L=$.advance.bind($),ne=()=>{throw new Error("Cursor not stopped")};$.trans=f,$.stop=$.continue=$.continuePrimaryKey=$.advance=()=>{throw new Error("Cursor not started")},$.fail=ge(g),$.next=function(){let ee=1;return this.start(()=>ee--?this.continue():this.stop()).then(()=>this)},$.start=ee=>{const me=new Promise((he,be)=>{he=ge(he),S.onerror=Ue(be),$.fail=be,$.stop=N=>{$.stop=$.continue=$.continuePrimaryKey=$.advance=ne,he(N)}}),se=()=>{if(S.result)try{ee()}catch(he){$.fail(he)}else $.done=!0,$.start=()=>{throw new Error("Cursor behind last entry")},$.stop()};return S.onsuccess=ge(he=>{S.onsuccess=se,se()}),$.continue=M,$.continuePrimaryKey=z,$.advance=L,se(),me},O($)},g)})},count({query:f,trans:u}){const{index:d,range:A}=f;return new Promise((E,O)=>{const g=u.objectStore(c),w=d.isPrimaryKey?g:g.index(d.name),I=r(A),T=I?w.count(I):w.count();T.onsuccess=ge(b=>E(b.target.result)),T.onerror=Ue(O)})}}}(l)),s={};return a.forEach(l=>s[l.name]=l),{stack:"dbcore",transaction:t.transaction.bind(t),table(l){if(!s[l])throw new Error(`Table '${l}' not found`);return s[l]},MIN_KEY:-1/0,MAX_KEY:xn(e),schema:o}}function ei({_novip:t},e){const n=e.db,r=function(o,i,{IDBKeyRange:a,indexedDB:s},l){return{dbcore:function(c,f){return f.reduce((u,{create:d})=>({...u,...d(u)}),c)}(mf(i,a,l),o.dbcore)}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(o=>{const i=o.name;t.core.schema.tables.some(a=>a.name===i)&&(o.core=t.core.table(i),t[i]instanceof t.Table&&(t[i].core=o.core))})}function Or({_novip:t},e,n,r){n.forEach(o=>{const i=r[o];e.forEach(a=>{const s=wi(a,o);(!s||"value"in s&&s.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?rt(a,o,{get(){return this.table(o)},set(l){Os(this,o,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[o]=new t.Table(o,i))})})}function ti({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function bf(t,e){return t._cfg.version-e._cfg.version}function vf(t,e,n,r){const o=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,o);i.create(n),i._completion.catch(r);const a=i._reject.bind(i),s=J.transless||J;yt(()=>{J.trans=i,J.transless=s,e===0?(Ae(o).forEach(l=>{mo(n,l,o[l].primKey,o[l].indexes)}),ei(t,n),K.follow(()=>t.on.populate.fire(i)).catch(a)):function({_novip:l},h,c,f){const u=[],d=l._versions;let A=l._dbSchema=ri(l,l.idbdb,f),E=!1;const O=d.filter(w=>w._cfg.version>=h);function g(){return u.length?K.resolve(u.shift()(c.idbtrans)).then(g):K.resolve()}return O.forEach(w=>{u.push(()=>{const I=A,T=w._cfg.dbschema;oi(l,I,f),oi(l,T,f),A=l._dbSchema=T;const b=Xs(I,T);b.add.forEach(S=>{mo(f,S[0],S[1].primKey,S[1].indexes)}),b.change.forEach(S=>{if(S.recreate)throw new Q.Upgrade("Not yet support for changing primary key");{const R=f.objectStore(S.name);S.add.forEach($=>ni(R,$)),S.change.forEach($=>{R.deleteIndex($.name),ni(R,$)}),S.del.forEach($=>R.deleteIndex($))}});const m=w._cfg.contentUpgrade;if(m&&w._cfg.version>h){ei(l,f),c._memoizedTables={},E=!0;let S=ks(T);b.del.forEach(z=>{S[z]=I[z]}),ti(l,[l.Transaction.prototype]),Or(l,[l.Transaction.prototype],Ae(S),S),c.schema=S;const R=_i(m);let $;R&&sn();const M=K.follow(()=>{if($=m(c),$&&R){var z=at.bind(null,null);$.then(z,z)}});return $&&typeof $.then=="function"?K.resolve($):M.then(()=>$)}}),u.push(I=>{(!E||!lf)&&function(T,b){[].slice.call(b.db.objectStoreNames).forEach(m=>T[m]==null&&b.db.deleteObjectStore(m))}(w._cfg.dbschema,I),ti(l,[l.Transaction.prototype]),Or(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),g().then(()=>{var w,I;I=f,Ae(w=A).forEach(T=>{I.db.objectStoreNames.contains(T)||mo(I,T,w[T].primKey,w[T].indexes)})})}(t,e,i,n).catch(a)})}function Xs(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const o=t[r],i=e[r];if(o){const a={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!Dr)a.recreate=!0,n.change.push(a);else{const s=o.idxByName,l=i.idxByName;let h;for(h in s)l[h]||a.del.push(h);for(h in l){const c=s[h],f=l[h];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,i])}return n}function mo(t,e,n,r){const o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>ni(o,i)),o}function ni(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function ri(t,e,n){const r={};return vr(e.objectStoreNames,0).forEach(o=>{const i=n.objectStore(o);let a=i.keyPath;const s=Xo(Js(a),a||"",!1,!1,!!i.autoIncrement,a&&typeof a!="string",!0),l=[];for(let c=0;c<i.indexNames.length;++c){const f=i.index(i.indexNames[c]);a=f.keyPath;var h=Xo(f.name,a,!!f.unique,!!f.multiEntry,!1,a&&typeof a!="string",!1);l.push(h)}r[o]=Qs(o,s,l)}),r}function oi({_novip:t},e,n){const r=n.db.objectStoreNames;for(let o=0;o<r.length;++o){const i=r[o],a=n.objectStore(i);t._hasGetAll="getAll"in a;for(let s=0;s<a.indexNames.length;++s){const l=a.indexNames[s],h=a.index(l).keyPath,c=typeof h=="string"?h:"["+vr(h).join("+")+"]";if(e[i]){const f=e[i].idxByName[c];f&&(f.name=l,delete e[i].idxByName[c],e[i].idxByName[l]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&pe.WorkerGlobalScope&&pe instanceof pe.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class wf{_parseStoresSpec(e,n){Ae(e).forEach(r=>{if(e[r]!==null){var o=e[r].split(",").map((a,s)=>{const l=(a=a.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Xo(l,h||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),ke(h),s===0)}),i=o.shift();if(i.multi)throw new Q.Schema("Primary key cannot be multi-valued");o.forEach(a=>{if(a.auto)throw new Q.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new Q.Schema("Index must have a name and cannot be an empty string")}),n[r]=Qs(r,i,o)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?Ce(this._cfg.storesSource,e):e;const r=n._versions,o={};let i={};return r.forEach(a=>{Ce(o,a._cfg.storesSource),i=a._cfg.dbschema={},a._parseStoresSpec(o,i)}),n._dbSchema=i,ti(n,[n._allTables,n,n.Transaction.prototype]),Or(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Ae(i),i),n._storeNames=Ae(i),this}upgrade(e){return this._cfg.contentUpgrade=Ei(this._cfg.contentUpgrade||le,e),this}}function xi(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new xt(Nr,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function ki(t){return t&&typeof t.databases=="function"}function ii(t){return yt(function(){return J.letThrough=!0,t()})}function _f(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function Sf(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?Ee(e.dbOpenError):t);Ge&&(e.openCanceller._stackHolder=It()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function o(){if(e.openCanceller!==r)throw new Q.DatabaseClosed("db.open() was cancelled")}let i=e.dbReadyResolve,a=null,s=!1;const l=()=>new K((h,c)=>{if(o(),!n)throw new Q.MissingAPI;const f=t.name,u=e.autoSchema?n.open(f):n.open(f,Math.round(10*t.verno));if(!u)throw new Q.MissingAPI;u.onerror=Ue(c),u.onblocked=ge(t._fireOnBlocked),u.onupgradeneeded=ge(d=>{if(a=u.transaction,e.autoSchema&&!t._options.allowEmptyDB){u.onerror=Pn,a.abort(),u.result.close();const E=n.deleteDatabase(f);E.onsuccess=E.onerror=ge(()=>{c(new Q.NoSuchDatabase(`Database ${f} doesnt exist`))})}else{a.onerror=Ue(c);var A=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;s=A<1,t._novip.idbdb=u.result,vf(t,A/10,a,c)}},c),u.onsuccess=ge(()=>{a=null;const d=t._novip.idbdb=u.result,A=vr(d.objectStoreNames);if(A.length>0)try{const O=d.transaction((E=A).length===1?E[0]:E,"readonly");e.autoSchema?function({_novip:g},w,I){g.verno=w.version/10;const T=g._dbSchema=ri(0,w,I);g._storeNames=vr(w.objectStoreNames,0),Or(g,[g._allTables],Ae(T),T)}(t,d,O):(oi(t,t._dbSchema,O),function(g,w){const I=Xs(ri(0,g.idbdb,w),g._dbSchema);return!(I.add.length||I.change.some(T=>T.add.length||T.change.length))}(t,O)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),ei(t,O)}catch{}var E;vn.push(t),d.onversionchange=ge(O=>{e.vcFired=!0,t.on("versionchange").fire(O)}),d.onclose=ge(O=>{t.on("close").fire(O)}),s&&function({indexedDB:O,IDBKeyRange:g},w){!ki(O)&&w!==Nr&&xi(O,g).put({name:w}).catch(le)}(t._deps,f),h()},c)}).catch(h=>h&&h.name==="UnknownError"&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):K.reject(h));return K.race([r,(typeof navigator>"u"?K.resolve():_f()).then(l)]).then(()=>(o(),e.onReadyBeingFired=[],K.resolve(ii(()=>t.on.ready.fire(t.vip))).then(function h(){if(e.onReadyBeingFired.length>0){let c=e.onReadyBeingFired.reduce(Ei,le);return e.onReadyBeingFired=[],K.resolve(ii(()=>c(t.vip))).then(h)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(h=>{e.dbOpenError=h;try{a&&a.abort()}catch{}return r===e.openCanceller&&t._close(),Ee(h)}).finally(()=>{e.openComplete=!0,i()})}function ai(t){var e=i=>t.next(i),n=o(e),r=o(i=>t.throw(i));function o(i){return a=>{var s=i(a),l=s.value;return s.done?l:l&&typeof l.then=="function"?l.then(n,r):ke(l)?Promise.all(l).then(n,r):n(l)}}return o(e)()}function Af(t,e,n){var r=arguments.length;if(r<2)throw new Q.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[t,$s(o),n]}function Zs(t,e,n,r,o){return K.resolve().then(()=>{const i=J.transless||J,a=t._createTransaction(e,n,t._dbSchema,r),s={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(f){return f.name===Ai.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Zs(t,e,n,null,o))):Ee(f)}const l=_i(o);let h;l&&sn();const c=K.follow(()=>{if(h=o.call(a,a),h)if(l){var f=at.bind(null,null);h.then(f,f)}else typeof h.next=="function"&&typeof h.throw=="function"&&(h=ai(h))},s);return(h&&typeof h.then=="function"?K.resolve(h).then(f=>a.active?f:Ee(new Q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>h)).then(f=>(r&&a._resolve(),a._completion.then(()=>f))).catch(f=>(a._reject(f),Ee(f)))})}function Vn(t,e,n){const r=ke(t)?t.slice():[t];for(let o=0;o<n;++o)r.push(e);return r}const Ef={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,o={},i=[];function a(c,f,u){const d=_n(c),A=o[d]=o[d]||[],E=c==null?0:typeof c=="string"?1:c.length,O=f>0,g={...u,isVirtual:O,keyTail:f,keyLength:E,extractKey:Zo(c),unique:!O&&u.unique};return A.push(g),g.isPrimaryKey||i.push(g),E>1&&a(E===2?c[0]:c.slice(0,E-1),f+1,u),A.sort((w,I)=>w.keyTail-I.keyTail),g}const s=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[s];for(const c of r.indexes)a(c.keyPath,0,c);function l(c){const f=c.query.index;return f.isVirtual?{...c,query:{index:f,range:(u=c.query.range,d=f.keyTail,{type:u.type===1?2:u.type,lower:Vn(u.lower,u.lowerOpen?t.MAX_KEY:t.MIN_KEY,d),lowerOpen:!0,upper:Vn(u.upper,u.upperOpen?t.MIN_KEY:t.MAX_KEY,d),upperOpen:!0})}}:c;var u,d}return{...n,schema:{...r,primaryKey:s,indexes:i,getIndexByKeyPath:function(c){const f=o[_n(c)];return f&&f[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:f,isVirtual:u,keyLength:d}=c.query.index;return u?n.openCursor(l(c)).then(A=>A&&function(E){return Object.create(E,{continue:{value:function(g){g!=null?E.continue(Vn(g,c.reverse?t.MAX_KEY:t.MIN_KEY,f)):c.unique?E.continue(E.key.slice(0,d).concat(c.reverse?t.MIN_KEY:t.MAX_KEY,f)):E.continue()}},continuePrimaryKey:{value(g,w){E.continuePrimaryKey(Vn(g,t.MAX_KEY,f),w)}},primaryKey:{get:()=>E.primaryKey},key:{get(){const g=E.key;return d===1?g[0]:g.slice(0,d)}},value:{get:()=>E.value}})}(A)):n.openCursor(c)}}}}}};function $i(t,e,n,r){return n=n||{},r=r||"",Ae(t).forEach(o=>{if(Fe(e,o)){var i=t[o],a=e[o];if(typeof i=="object"&&typeof a=="object"&&i&&a){const s=Fo(i);s!==Fo(a)?n[r+o]=e[o]:s==="Object"?$i(i,a,n,r+o+"."):i!==a&&(n[r+o]=e[o])}else i!==a&&(n[r+o]=e[o])}else n[r+o]=void 0}),Ae(e).forEach(o=>{Fe(t,o)||(n[r+o]=e[o])}),n}const Of={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(i){const a=J.trans,{deleting:s,creating:l,updating:h}=a.table(e).hook;switch(i.type){case"add":if(l.fire===le)break;return a._promise("readwrite",()=>c(i),!0);case"put":if(l.fire===le&&h.fire===le)break;return a._promise("readwrite",()=>c(i),!0);case"delete":if(s.fire===le)break;return a._promise("readwrite",()=>c(i),!0);case"deleteRange":if(s.fire===le)break;return a._promise("readwrite",()=>function(u){return f(u.trans,u.range,1e4)}(i),!0)}return n.mutate(i);function c(u){const d=J.trans,A=u.keys||function(E,O){return O.type==="delete"?O.keys:O.keys||O.values.map(E.extractKey)}(r,u);if(!A)throw new Error("Keys missing");return(u=u.type==="add"||u.type==="put"?{...u,keys:A}:{...u}).type!=="delete"&&(u.values=[...u.values]),u.keys&&(u.keys=[...u.keys]),function(E,O,g){return O.type==="add"?Promise.resolve([]):E.getMany({trans:O.trans,keys:g,cache:"immutable"})}(n,u,A).then(E=>{const O=A.map((g,w)=>{const I=E[w],T={onerror:null,onsuccess:null};if(u.type==="delete")s.fire.call(T,g,I,d);else if(u.type==="add"||I===void 0){const b=l.fire.call(T,g,u.values[w],d);g==null&&b!=null&&(g=b,u.keys[w]=g,r.outbound||Ke(u.values[w],r.keyPath,g))}else{const b=$i(I,u.values[w]),m=h.fire.call(T,b,g,I,d);if(m){const S=u.values[w];Object.keys(m).forEach(R=>{Fe(S,R)?S[R]=m[R]:Ke(S,R,m[R])})}}return T});return n.mutate(u).then(({failures:g,results:w,numFailures:I,lastResult:T})=>{for(let b=0;b<A.length;++b){const m=w?w[b]:A[b],S=O[b];m==null?S.onerror&&S.onerror(g[b]):S.onsuccess&&S.onsuccess(u.type==="put"&&E[b]?u.values[b]:m)}return{failures:g,results:w,numFailures:I,lastResult:T}}).catch(g=>(O.forEach(w=>w.onerror&&w.onerror(g)),Promise.reject(g)))})}function f(u,d,A){return n.query({trans:u,values:!1,query:{index:r,range:d},limit:A}).then(({result:E})=>c({type:"delete",keys:E,trans:u}).then(O=>O.numFailures>0?Promise.reject(O.failures[0]):E.length<A?{failures:[],numFailures:0,lastResult:void 0}:f(u,{...d,lower:E[E.length-1],lowerOpen:!0},A)))}}}}})};function el(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let o=0,i=0;o<e.keys.length&&i<t.length;++o)Re(e.keys[o],t[i])===0&&(r.push(n?Cn(e.values[o]):e.values[o]),++i);return r.length===t.length?r:null}catch{return null}}const Pf={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const o=el(r.keys,r.trans._cache,r.cache==="clone");return o?K.resolve(o):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Cn(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Ti(t){return!("from"in t)}const Ze=function(t,e){if(!this){const n=new Ze;return t&&"d"in t&&Ce(n,t),n}Ce(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function kn(t,e,n){const r=Re(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Ti(t))return Ce(t,{from:e,to:n,d:1});const o=t.l,i=t.r;if(Re(n,t.from)<0)return o?kn(o,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Pa(t);if(Re(e,t.to)>0)return i?kn(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Pa(t);Re(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),Re(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;o&&!t.l&&Pr(t,o),i&&a&&Pr(t,i)}function Pr(t,e){Ti(e)||function n(r,{from:o,to:i,l:a,r:s}){kn(r,o,i),a&&n(r,a),s&&n(r,s)}(t,e)}function jf(t,e){const n=si(e);let r=n.next();if(r.done)return!1;let o=r.value;const i=si(t);let a=i.next(o.from),s=a.value;for(;!r.done&&!a.done;){if(Re(s.from,o.to)<=0&&Re(s.to,o.from)>=0)return!0;Re(o.from,s.from)<0?o=(r=n.next(s.from)).value:s=(a=i.next(o.from)).value}return!1}function si(t){let e=Ti(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&Re(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||Re(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Pa(t){var e,n;const r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){const i=o==="r"?"l":"r",a={...t},s=t[o];t.from=s.from,t.to=s.to,t[o]=s[o],a[o]=s[i],t[i]=a,a.d=ja(a)}t.d=ja(t)}function ja({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}on(Ze.prototype,{add(t){return Pr(this,t),this},addKey(t){return kn(this,t,t),this},addKeys(t){return t.forEach(e=>kn(this,e,e)),this},[qo](){return si(this)}});const xf={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new Ze(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const o=t.table(r),{schema:i}=o,{primaryKey:a}=i,{extractKey:s,outbound:l}=a,h={...o,mutate:u=>{const d=u.trans,A=d.mutatedParts||(d.mutatedParts={}),E=m=>{const S=`idb://${e}/${r}/${m}`;return A[S]||(A[S]=new Ze)},O=E(""),g=E(":dels"),{type:w}=u;let[I,T]=u.type==="deleteRange"?[u.range]:u.type==="delete"?[u.keys]:u.values.length<50?[[],u.values]:[];const b=u.trans._cache;return o.mutate(u).then(m=>{if(ke(I)){w!=="delete"&&(I=m.results),O.addKeys(I);const S=el(I,b);S||w==="add"||g.addKeys(I),(S||T)&&function(R,$,M,z){function L(ne){const ee=R(ne.name||"");function me(he){return he!=null?ne.extractKey(he):null}const se=he=>ne.multiEntry&&ke(he)?he.forEach(be=>ee.addKey(be)):ee.addKey(he);(M||z).forEach((he,be)=>{const N=M&&me(M[be]),B=z&&me(z[be]);Re(N,B)!==0&&(N!=null&&se(N),B!=null&&se(B))})}$.indexes.forEach(L)}(E,i,S,T)}else if(I){const S={from:I.lower,to:I.upper};g.add(S),O.add(S)}else O.add(n),g.add(n),i.indexes.forEach(S=>E(S.name).add(n));return m})}},c=({query:{index:u,range:d}})=>{var A,E;return[u,new Ze((A=d.lower)!==null&&A!==void 0?A:t.MIN_KEY,(E=d.upper)!==null&&E!==void 0?E:t.MAX_KEY)]},f={get:u=>[a,new Ze(u.key)],getMany:u=>[a,new Ze().addKeys(u.keys)],count:c,query:c,openCursor:c};return Ae(f).forEach(u=>{h[u]=function(d){const{subscr:A}=J;if(A){const E=T=>{const b=`idb://${e}/${r}/${T}`;return A[b]||(A[b]=new Ze)},O=E(""),g=E(":dels"),[w,I]=f[u](d);if(E(w.name||"").add(I),!w.isPrimaryKey){if(u!=="count"){const T=u==="query"&&l&&d.values&&o.query({...d,values:!1});return o[u].apply(this,arguments).then(b=>{if(u==="query"){if(l&&d.values)return T.then(({result:S})=>(O.addKeys(S),b));const m=d.values?b.result.map(s):b.result;d.values?O.addKeys(m):g.addKeys(m)}else if(u==="openCursor"){const m=b,S=d.values;return m&&Object.create(m,{key:{get:()=>(g.addKey(m.primaryKey),m.key)},primaryKey:{get(){const R=m.primaryKey;return g.addKey(R),R}},value:{get:()=>(S&&O.addKey(m.primaryKey),m.value)}})}return b})}g.add(n)}}return o[u].apply(this,arguments)}}),h}}}};class xt{constructor(e,n){this._middlewares={},this.verno=0;const r=xt.dependencies;this._options=n={addons:xt.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:o}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:le,dbReadyPromise:null,cancelOpen:le,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;i.dbReadyPromise=new K(s=>{i.dbReadyResolve=s}),i.openCanceller=new K((s,l)=>{i.cancelOpen=l}),this._state=i,this.name=e,this.on=wn(this,"populate","blocked","versionchange","close",{ready:[Ei,le]}),this.on.ready.subscribe=Ps(this.on.ready.subscribe,s=>(l,h)=>{xt.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||K.resolve().then(l),h&&s(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),h&&s(l);else{s(l);const f=this;h||s(function u(){f.on.ready.unsubscribe(l),f.on.ready.unsubscribe(u)})}})}),this.Collection=(a=this,hn(ff.prototype,function(s,l){this.db=a;let h=Ws,c=null;if(l)try{h=l()}catch(A){c=A}const f=s._ctx,u=f.table,d=u.hook.reading.fire;this._ctx={table:u,index:f.index,isPrimKey:!f.index||u.schema.primKey.keyPath&&f.index===u.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:f.or,valueMapper:d!==En?d:null}})),this.Table=function(s){return hn(cf.prototype,function(l,h,c){this.db=s,this._tx=c,this.name=l,this.schema=h,this.hook=s._allTables[l]?s._allTables[l].hook:wn(null,{creating:[Qc,le],reading:[Jc,En],updating:[Zc,le],deleting:[Xc,le]})})}(this),this.Transaction=function(s){return hn(yf.prototype,function(l,h,c,f,u){this.db=s,this.mode=l,this.storeNames=h,this.schema=c,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=wn(this,"complete","error","abort"),this.parent=u||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new K((d,A)=>{this._resolve=d,this._reject=A}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},d=>{var A=this.active;return this.active=!1,this.on.error.fire(d),this.parent?this.parent._reject(d):A&&this.idbtrans&&this.idbtrans.abort(),Ee(d)})})}(this),this.Version=function(s){return hn(wf.prototype,function(l){this.db=s,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(s){return hn(Ys.prototype,function(l,h,c){this.db=s,this._ctx={table:l,index:h===":id"?null:h,or:c};const f=s._deps.indexedDB;if(!f)throw new Q.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(u,d)=>f.cmp(d,u),this._max=(u,d)=>f.cmp(u,d)>0?u:d,this._min=(u,d)=>f.cmp(u,d)<0?u:d,this._IDBKeyRange=s._deps.IDBKeyRange})}(this),this.on("versionchange",s=>{s.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",s=>{!s.newVersion||s.newVersion<s.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${s.oldVersion/10}`)}),this._maxKey=xn(n.IDBKeyRange),this._createTransaction=(s,l,h,c)=>new this.Transaction(s,l,h,this._options.chromeTransactionDurability,c),this._fireOnBlocked=s=>{this.on("blocked").fire(s),vn.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(s))},this.use(Ef),this.use(Of),this.use(xf),this.use(Pf),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(s=>s(this))}version(e){if(isNaN(e)||e<.1)throw new Q.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter(o=>o._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(bf),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||J.letThrough||this._vip)?e():new K((n,r)=>{if(this._state.openComplete)return r(new Q.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new Q.DatabaseClosed);this.open().catch(le)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:o}){o&&this.unuse({stack:e,name:o});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:n,level:r??10,name:o}),i.sort((a,s)=>a.level-s.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(o=>r?o.create!==r:!!n&&o.name!==n)),this}open(){return Sf(this)}_close(){const e=this._state,n=vn.indexOf(this);if(n>=0&&vn.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new K(r=>{e.dbReadyResolve=r}),e.openCanceller=new K((r,o)=>{e.cancelOpen=o})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Q.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new K((r,o)=>{const i=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=ge(()=>{(function({indexedDB:s,IDBKeyRange:l},h){!ki(s)&&h!==Nr&&xi(s,l).delete(h).catch(le)})(this._deps,this.name),r()}),a.onerror=Ue(o),a.onblocked=this._fireOnBlocked};if(e)throw new Q.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Ae(this._allTables).map(e=>this._allTables[e])}transaction(){const e=Af.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let o=J.trans;o&&o.db===this&&e.indexOf("!")===-1||(o=null);const i=e.indexOf("?")!==-1;let a,s;e=e.replace("!","").replace("?","");try{if(s=n.map(h=>{var c=h instanceof this.Table?h.name:h;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),e=="r"||e===fo)a=fo;else{if(e!="rw"&&e!=ho)throw new Q.InvalidArgument("Invalid transaction mode: "+e);a=ho}if(o){if(o.mode===fo&&a===ho){if(!i)throw new Q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&s.forEach(h=>{if(o&&o.storeNames.indexOf(h)===-1){if(!i)throw new Q.SubTransaction("Table "+h+" not included in parent transaction.");o=null}}),i&&o&&!o.active&&(o=null)}}catch(h){return o?o._promise(null,(c,f)=>{f(h)}):Ee(h)}const l=Zs.bind(null,this,a,s,o,r);return o?o._promise(a,l,"lock"):J.trans?ln(J.transless,()=>this._whenReady(l)):this._whenReady(l)}table(e){if(!Fe(this._allTables,e))throw new Q.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const kf=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class $f{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:r})}[kf](){return this}}function tl(t,e){return Ae(e).forEach(n=>{Pr(t[n]||(t[n]=new Ze),e[n])}),t}function Tf(t){let e,n=!1;const r=new $f(o=>{const i=_i(t);let a=!1,s={},l={};const h={get closed(){return a},unsubscribe:()=>{a=!0,mt.storagemutated.unsubscribe(d)}};o.start&&o.start(h);let c=!1,f=!1;function u(){return Ae(l).some(E=>s[E]&&jf(s[E],l[E]))}const d=E=>{tl(s,E),u()&&A()},A=()=>{if(c||a)return;s={};const E={},O=function(g){i&&sn();const w=()=>yt(t,{subscr:g,trans:null}),I=J.trans?ln(J.transless,w):w();return i&&I.then(at,at),I}(E);f||(mt(jn,d),f=!0),c=!0,Promise.resolve(O).then(g=>{n=!0,e=g,c=!1,a||(u()?A():(s={},l=E,o.next&&o.next(g)))},g=>{c=!1,n=!1,o.error&&o.error(g),h.unsubscribe()})};return A(),h});return r.hasValue=()=>n,r.getValue=()=>e,r}let li;try{li={indexedDB:pe.indexedDB||pe.mozIndexedDB||pe.webkitIndexedDB||pe.msIndexedDB,IDBKeyRange:pe.IDBKeyRange||pe.webkitIDBKeyRange}}catch{li={indexedDB:null,IDBKeyRange:null}}const wt=xt;function ar(t){let e=tt;try{tt=!0,mt.storagemutated.fire(t)}finally{tt=e}}on(wt,{...er,delete:t=>new wt(t,{addons:[]}).delete(),exists:t=>new wt(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return ki(e)?Promise.resolve(e.databases()).then(r=>r.map(o=>o.name).filter(o=>o!==Nr)):xi(e,n).toCollection().primaryKeys()}(wt.dependencies).then(t)}catch{return Ee(new Q.MissingAPI)}},defineClass:()=>function(t){Ce(this,t)},ignoreTransaction:t=>J.trans?ln(J.transless,t):t(),vip:ii,async:function(t){return function(){try{var e=ai(t.apply(this,arguments));return e&&typeof e.then=="function"?e:K.resolve(e)}catch(n){return Ee(n)}}},spawn:function(t,e,n){try{var r=ai(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:K.resolve(r)}catch(o){return Ee(o)}},currentTransaction:{get:()=>J.trans||null},waitFor:function(t,e){const n=K.resolve(typeof t=="function"?wt.ignoreTransaction(t):t).timeout(e||6e4);return J.trans?J.trans.waitFor(n):n},Promise:K,debug:{get:()=>Ge,set:t=>{Is(t,t==="dexie"?()=>!0:zs)}},derive:Ht,extend:Ce,props:on,override:Ps,Events:wn,on:mt,liveQuery:Tf,extendObservabilitySet:tl,getByKeyPath:ot,setByKeyPath:Ke,delByKeyPath:function(t,e){typeof e=="string"?Ke(t,e,void 0):"length"in e&&[].map.call(e,function(n){Ke(t,n,void 0)})},shallowClone:ks,deepClone:Cn,getObjectDiff:$i,cmp:Re,asap:js,minKey:Qo,addons:[],connections:vn,errnames:Ai,dependencies:li,semVer:wa,version:wa.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),wt.maxKey=xn(wt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(mt(jn,t=>{if(!tt){let e;Dr?(e=document.createEvent("CustomEvent"),e.initCustomEvent(ht,!0,!0,t)):e=new CustomEvent(ht,{detail:t}),tt=!0,dispatchEvent(e),tt=!1}}),addEventListener(ht,({detail:t})=>{tt||ar(t)}));let tt=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(ht);typeof t.unref=="function"&&t.unref(),mt(jn,e=>{tt||t.postMessage(e)}),t.onmessage=e=>{e.data&&ar(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){mt(jn,e=>{try{tt||(typeof localStorage<"u"&&localStorage.setItem(ht,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:ht,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===ht){const n=JSON.parse(e.newValue);n&&ar(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===ht&&ar(e.changedParts)})}K.rejectionMapper=function(t,e){if(!t||t instanceof Yt||t instanceof TypeError||t instanceof SyntaxError||!t.name||!ga[t.name])return t;var n=new ga[t.name](e||t.message,t);return"stack"in t&&rt(n,"stack",{get:function(){return this.inner.stack}}),n},Is(Ge,zs);class If extends xt{constructor(){super("SoundBoardDB");je(this,"sample");this.version(1).stores({sample:"filename"})}}const ct=class ct{constructor(){je(this,"_db",new If);je(this,"_channelDataStore",new Map)}static init(){ct._instance=new ct}static get instance(){return ct._instance||ct.init(),ct._instance}async getSampleBlob(e){return await this._db.sample.get({filename:e}).then(n=>n==null?void 0:n.data)}cacheChannelData(e,n){this._channelDataStore.set(e,n)}getChannelData(e){return this._channelDataStore.get(e)}async getAllSampleFileNames(){return await this._db.sample.toCollection().keys()}async addSampleFromFile(e){return await this._db.sample.put({filename:e.name,data:e})}async addSample(e){return await this._db.sample.put(e)}async deleteSampleByName(e){return this._channelDataStore.delete(e),await this._db.sample.where({filename:e}).delete()}};je(ct,"_instance");let it=ct;function Rf(t){return(t.split(/.*[/|\\]/).at(-1)??"").replace(/\..*$/,"")}async function Cf(t,e,n){const r=await fetch(`https://api.github.com/repos/${t}/${e}/contents/samples/${n}`,{headers:{"Content-Type":"application/vnd.github.raw"}});if(!r.ok)throw new Error(`Error fetching file:'${n}'
${await r.text()}`);return(await r.json()).content}class nl{static decodeArrayBuffer(e){const n=e.length/4*3,r=new ArrayBuffer(n);return this.decode(e,r),r}static removePaddingChars(e){return this._keyStr.indexOf(e.charAt(e.length-1))==64?e.substring(0,e.length-1):e}static decode(e,n){e=this.removePaddingChars(e),e=this.removePaddingChars(e);const r=Math.floor(e.length/4*3);let o,i,a,s,l,h,c,f=0,u=0;const d=n?new Uint8Array(n):new Uint8Array(r);for(e=e.replace(/[^A-Za-z0-9+/=]/g,""),f=0;f<r;f+=3)s=this._keyStr.indexOf(e.charAt(u++)),l=this._keyStr.indexOf(e.charAt(u++)),h=this._keyStr.indexOf(e.charAt(u++)),c=this._keyStr.indexOf(e.charAt(u++)),o=s<<2|l>>4,i=(l&15)<<4|h>>2,a=(h&3)<<6|c,d[f]=o,h!=64&&(d[f+1]=i),c!=64&&(d[f+2]=a);return d}}je(nl,"_keyStr","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");class Df{get filename(){const e=this.location.split("/").at(-1);if(!e)throw new Error(`Unexpected sample location '${this.location}'`);return e}}class Je extends Df{constructor(n,r){super();je(this,"label");je(this,"location");this.location=n,this.label=r}async downloadDirtSample(){const o=await Cf("knutsoned","musical-shadows",this.location),i=nl.decodeArrayBuffer(o);return new Blob([i],{type:"audio/wav"})}async ensureCached(){let n;n=await it.instance.getSampleBlob(this.filename),n||(n=await this.downloadDirtSample(),it.instance.addSample({filename:this.filename,data:n}))}}class Br{}je(Br,"samples",[new Je("24_TechNoir_ARP2600_C0.wav","TechNoir"),new Je("50_Marimba_DX100_D2.wav","Marimba"),new Je("52 Funk Bass AELITA E2_0001.wav","Aelita"),new Je("M1 Organ Stab Vinyl Synths Fmaj9 C2.wav","Vinyl"),new Je("55_BillyZaneBass_ARP2600_G2.wav","Zane"),new Je("21_Sehnsucht_ARP2600_A-1.wav","Sehnsucht"),new Je("95 Acoustic Guitar Chorus Mirage B5.wav","Guitar"),new Je("Orbit Keys S950 C4.wav","Orbit"),new Je("Stutter Bass Mirage C2.wav","Stutter")]);Es(Br.samples.length>Xa,"Not enough default samples");var rl=(t=>(t[t.ERROR=0]="ERROR",t[t.WARN=1]="WARN",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t))(rl||{});const ft=class ft{static log(e,n,...r){ft.Loggers[rl[n]](`[${n}] ${e}`,...r)}static error(e,...n){ft.log(e,"ERROR",...n)}static warn(e,...n){ft.log(e,"WARN",...n)}static info(e,...n){ft.log(e,"INFO",...n)}static debug(e,...n){ft.log(e,"DEBUG",...n)}};je(ft,"Loggers",[console.error,console.warn,console.info,console.debug]);let At=ft;class Nf{static toAppState(e){return Ff(JSON.parse(e),ci("AppState"))}static appStateToJson(e){return JSON.stringify(qf(e,ci("AppState")),null,2)}}function Qe(t,e,n,r=""){const o=ui(t),i=r?` on ${r}`:"",a=n?` for key "${n}"`:"";throw Error(`Invalid value${a}${i}. Expected ${o} but got ${JSON.stringify(e)}`)}function ui(t){return Array.isArray(t)?t.length===2&&t[0]===void 0?`an optional ${ui(t[1])}`:`one of [${t.map(e=>ui(e)).join(", ")}]`:typeof t=="object"&&t.literal!==void 0?t.literal:typeof t}function Bf(t){if(t.jsonToJS===void 0){const e={};t.props.forEach(n=>e[n.json]={key:n.js,typ:n.typ}),t.jsonToJS=e}return t.jsonToJS}function Mf(t){if(t.jsToJSON===void 0){const e={};t.props.forEach(n=>e[n.js]={key:n.json,typ:n.typ}),t.jsToJSON=e}return t.jsToJSON}function Vt(t,e,n,r="",o=""){function i(u,d){return typeof u==typeof d?d:Qe(u,d,r,o)}function a(u,d){const A=u.length;for(let E=0;E<A;E++){const O=u[E];try{return Vt(d,O,n)}catch{}}return Qe(u,d,r,o)}function s(u,d){return u.indexOf(d)!==-1?d:Qe(u.map(A=>Gn(A)),d,r,o)}function l(u,d){return Array.isArray(d)?d.map(A=>Vt(A,u,n)):Qe(Gn("array"),d,r,o)}function h(u){if(u===null)return null;const d=new Date(u);return isNaN(d.valueOf())?Qe(Gn("Date"),u,r,o):d}function c(u,d,A){if(A===null||typeof A!="object"||Array.isArray(A))return Qe(Gn(f||"object"),A,r,o);const E={};return Object.getOwnPropertyNames(u).forEach(O=>{const g=u[O],w=Object.prototype.hasOwnProperty.call(A,O)?A[O]:void 0;E[g.key]=Vt(w,g.typ,n,O,f)}),Object.getOwnPropertyNames(A).forEach(O=>{Object.prototype.hasOwnProperty.call(u,O)||(E[O]=Vt(A[O],d,n,O,f))}),E}if(e==="any")return t;if(e===null)return t===null?t:Qe(e,t,r,o);if(e===!1)return Qe(e,t,r,o);let f;for(;typeof e=="object"&&e.ref!==void 0;)f=e.ref,e=Lf[e.ref];return Array.isArray(e)?s(e,t):typeof e=="object"?e.hasOwnProperty("unionMembers")?a(e.unionMembers,t):e.hasOwnProperty("arrayItems")?l(e.arrayItems,t):e.hasOwnProperty("props")?c(n(e),e.additional,t):Qe(e,t,r,o):e===Date&&typeof t!="number"?h(t):i(e,t)}function Ff(t,e){return Vt(t,e,Bf)}function qf(t,e){return Vt(t,e,Mf)}function Gn(t){return{literal:t}}function Kf(t){return{arrayItems:t}}function xa(t,e){return{props:t,additional:e}}function ci(t){return{ref:t}}const Lf={AppState:xa([{json:"samplers",js:"samplers",typ:Kf(ci("SamplePlayer"))}],!1),SamplePlayer:xa([{json:"label",js:"label",typ:""},{json:"playbackRate",js:"playbackRate",typ:3.14},{json:"src",js:"src",typ:""}],!1)},ol="soundbored-app";function Uf(){const t=localStorage.getItem(ol);if(t)try{return Nf.toAppState(t)}catch(e){return At.error("Failed to parse App state from JSON",e),null}return null}function Vf(){return{samplers:Br.samples.slice(0,Xa).map(({filename:e,label:n})=>({src:e,label:n,playbackRate:1}))}}const Gf=Uf()??Vf(),[Mr,il]=Ll(Gf);function fi(){localStorage.setItem(ol,JSON.stringify(Mr))}async function zf(){it.init(),performance.mark("fetch-sample-start");const t=await Promise.allSettled(Br.samples.map(async r=>{try{return await r.ensureCached(),Promise.resolve()}catch(o){return At.error(`Failed to load sample '${r}'`,o),Promise.reject()}}));performance.mark("fetch-sample-end");const e=t.reduce((r,o)=>(r[o.status]+=1,r),{fulfilled:0,rejected:0}),n=performance.measure("fetch-sample-duration","fetch-sample-start","fetch-sample-end");e.fulfilled&&At.info(`Successfully loaded ${e.fulfilled} samples`),e.rejected&&At.warn(`Failed to load ${e.rejected} samples`),At.debug(`Sample fetch took ${Math.ceil(n.duration)}ms`)}const Wf="_root_i3ynq_1",Hf="_content_i3ynq_7",Yf="_navbar_i3ynq_14",Jf="_icon_i3ynq_27",Qf="_footer_i3ynq_47",Xf="_interaction_i3ynq_64",zn={root:Wf,content:Hf,navbar:Yf,icon:Jf,"header-title":"_header-title_i3ynq_43",footer:Qf,interaction:Xf};var Zf=ye('<div><header><h1>Musical Shadows</h1></header><main role=main class="flex flex-1 justify-content-center align-items-center"></main><footer>');function eh(){const t=zf(),[e,n]=_e(!0);return(()=>{var r=Zf(),o=r.firstChild,i=o.firstChild,a=o.nextSibling,s=a.nextSibling;return fe(r,ue(Hh,{get show(){return e()},setShow:n}),o),fe(a,ue(gd,{appInitialized:t,get samplers(){return Mr.samplers}})),ce(l=>{var h=zn.root,c=zn.navbar+" px-4 justify-content-center align-items-center",f=zn["header-title"],u=zn.footer;return h!==l.e&&Me(r,l.e=h),c!==l.t&&Me(o,l.t=c),f!==l.a&&Me(i,l.a=f),u!==l.o&&Me(s,l.o=u),l},{e:void 0,t:void 0,a:void 0,o:void 0}),r})()}function th(t){return t!==null&&(typeof t=="object"||typeof t=="function")}var ka=t=>typeof t=="function"&&!t.length?t():t,$a=t=>Array.isArray(t)?t:t?[t]:[];function Ta(t,...e){return typeof t=="function"?t(...e):t}var nh=Object.entries,rh=Gt;function al(t,e,n,r){return t.addEventListener(e,n,r),rh(t.removeEventListener.bind(t,e,n,r))}function oh(t,e,n,r){const o=()=>{$a(ka(t)).forEach(i=>{i&&$a(ka(e)).forEach(a=>al(i,a,n,r))})};typeof t=="function"?Qt(o):ce(o)}var ih=t=>Object.assign({},t);function Ia(t,...e){const n=typeof e[0]=="string"?[e]:e,r=ih(t),o=[];for(let i=0;i<n.length;i++){const a=n[i];o.push({});for(const s of a)o[i][s]=r[s],delete r[s]}return[...o,r]}function ah(t,e=pl()){let n=0,r,o;return()=>(n++,Gt(()=>{n--,queueMicrotask(()=>{!n&&o&&(o(),o=r=void 0)})}),o||Da(i=>r=t(o=i),e),r)}var sh=t=>t.substring(2).toLowerCase(),lh=t=>{const e={};return Object.entries(t).forEach(([n,r])=>e[sh(n)]=r),e};function $n(t){const[{target:e=document.body,pointerTypes:n,passive:r=!0},o]=Ia(t,"target","pointerTypes","passive"),[{gotcapture:i,lostcapture:a},s]=Ia(lh(o),"gotcapture","lostcapture"),l=c=>f=>(!n||n.includes(f.pointerType))&&c(f),h=(c,f)=>oh(e,c,l(f),{passive:r});nh(s).forEach(([c,f])=>f&&h(`pointer${c}`,f)),i&&h("gotpointercapture",i),a&&h("lostpointercapture",a)}var uh=ye("<svg stroke-width=0>");function bt(t,e){const n=Po(t.a,e),[r,o]=Ua(n,["src"]),[i,a]=_e(""),s=De(()=>e.title?`${t.c}<title>${e.title}</title>`:t.c);return Qt(()=>a(s())),Gt(()=>{a("")}),(()=>{var l=uh();return Ga(l,Po({get stroke(){var h;return(h=t.a)==null?void 0:h.stroke},get color(){return e.color||"currentColor"},get fill(){return e.color||"currentColor"},get style(){return{...e.style,overflow:"visible"}}},o,{get height(){return e.size||"1em"},get width(){return e.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return i()}}),!0,!0),fe(l,()=>Bl),l})()}function ch(t){return bt({a:{viewBox:"0 0 24 24"},c:'<path d="M7 6v12l10-6z"/>'},t)}function fh(t){return bt({a:{viewBox:"0 0 24 24"},c:'<path d="M7 7h10v10H7z"/>'},t)}function hh(t){return bt({a:{viewBox:"0 0 24 24"},c:'<path d="M2.165 19.551c.186.28.499.449.835.449h15c.4 0 .762-.238.919-.606l3-7A.998.998 0 0 0 21 11h-1V8c0-1.103-.897-2-2-2h-6.655L8.789 4H4c-1.103 0-2 .897-2 2v13h.007a1 1 0 0 0 .158.551zM18 8v3H6c-.4 0-.762.238-.919.606L4 14.129V8h14z"/>'},t)}function dh(t){return bt({a:{viewBox:"0 0 24 24"},c:'<path d="M20 5h-9.586L8.707 3.293A.997.997 0 0 0 8 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2z"/>'},t)}function bo(t,e,n,r,o){e.forEach(i=>{t.addEventListener(i,n,{capture:r,passive:o})})}function Wn(t,e,n,r,o){e.forEach(i=>t.removeEventListener(i,n,{capture:r,passive:o}))}function ph(t,e=!1,n=!1){const r=document.hidden!==void 0;function o(){}const i=navigator.userAgent.toLowerCase(),a=n||i.indexOf("iphone")>=0&&i.indexOf("like iphone")<0||i.indexOf("ipad")>=0&&i.indexOf("like ipad")<0||i.indexOf("ipod")>=0&&i.indexOf("like ipod")<0||i.indexOf("mac os x")>=0&&navigator.maxTouchPoints>0;let s=!0;function l(){const T=!!(e||(!r||!document.hidden)&&(!a||document.hasFocus()));T!==s&&(s=T,E(!1),f())}const h=()=>{l()};r&&bo(document,["visibilitychange"],h,!0,!0);function c(T){T&&T.target!==window||l()}a&&bo(window,["focus","blur"],c,!0,!0);function f(){if(s){if(t.state!=="running"&&t.state!=="closed"&&w){const T=t.resume();T&&T.then(o,o).catch(o)}}else if(t.state==="running"){const T=t.suspend();T&&T.then(o,o).catch(o)}}const u=T=>{(!T||!T.unmuteHandled)&&(T.unmuteHandled=!0,f())};t.addEventListener("statechange",u,{capture:!0,passive:!0}),t.onstatechange||(t.onstatechange=u);let d=null;const A="data:audio/mpeg;base64,//uQx"+"A".repeat(23)+"WGluZwAAAA8AAAACAAACcQCA"+"gICA".repeat(16)+"/".repeat(66)+"8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkI"+"A".repeat(320)+"//sQxAADgnABGiAAQBCqgCRMAAgEAH"+"/".repeat(15)+"7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq"+"/".repeat(18)+"9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAw"+"V".repeat(97)+"Q==";function E(T){if(a)if(s){if(T){if(!d){const b=document.createElement("div");b.innerHTML="<audio x-webkit-airplay='deny'></audio>",d=b.children.item(0),d.controls=!1,d.disableRemotePlayback=!0,d.preload="auto",d.src=A,d.loop=!0,d.load()}if(d.paused){const b=d.play();b&&b.then(o,O).catch(O)}}}else O()}function O(){d&&(d.src="about:blank",d.load(),d=null)}const g=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let w=!1;function I(){w=!0,E(!0),f()}return bo(window,g,I,!0,!0),{dispose:function(){O(),r&&Wn(document,["visibilitychange"],h,!0,!0),a&&Wn(window,["focus","blur"],c,!0,!0),Wn(window,g,I,!0,!0),Wn(t,["statechange"],u,!0,!0),t.onstatechange===u&&(t.onstatechange=null)}}}const[kt,yh]=_e(null);function gh(t,e=!1){if(!e&&kt())return;const n=new AudioContext(t);ph(n),yh(n)}class mh{constructor(e,n){je(this,"audio");je(this,"_splitter");je(this,"_audioOut");je(this,"_sampleHolder");je(this,"_analyser");je(this,"_playing",!1);this.audio=new AudioBufferSourceNode(e,n),this._splitter=new ChannelSplitterNode(e),this._analyser=new AnalyserNode(e),this._audioOut=new ChannelMergerNode(e),this._sampleHolder=new Float32Array(1),this.audio.addEventListener("ended",()=>{this._playing=!1})}get playbackPosition(){return this._analyser.getFloatTimeDomainData(this._sampleHolder),this._sampleHolder[0]}get playing(){return this._playing}loadBuffer(e){const n=Math.max(e.numberOfChannels,3),r=n-1;if(this.audio.buffer=new AudioBuffer({length:e.length,sampleRate:e.sampleRate,numberOfChannels:n}),e.numberOfChannels==1)this.audio.buffer.copyToChannel(e.getChannelData(0),0),this.audio.buffer.copyToChannel(e.getChannelData(0),1);else for(let i=0;i<e.numberOfChannels;i++)this.audio.buffer.copyToChannel(e.getChannelData(i),i);const o=this.audio.buffer.getChannelData(r);for(let i=0;i<e.length;i++)o[i]=i/e.length;this.audio.connect(this._splitter);for(let i=0;i<r;i++)this._splitter.connect(this._audioOut,i,i);this._splitter.connect(this._analyser,r)}get playbackRate(){return this.audio.playbackRate}start(){this._playing=!0,this.audio.start()}stop(){this.audio.stop()}connect(e,n){return this._audioOut.connect(e,n)}}const bh="_buttonPad_1gbmg_1",vh="_selected_1gbmg_11",wh="_label_1gbmg_37",vo={buttonPad:bh,selected:vh,label:wh};var _h=ye("<canvas>"),Sh=ye("<button><div>"),Ah=ye("<button>");const Eh=t=>{let e,n,r,o,i;const a=()=>kt()&&t.model.src,[s]=Na(a,async f=>{var d;const u=await it.instance.getSampleBlob(f);if(u)return await((d=kt())==null?void 0:d.decodeAudioData(await u.arrayBuffer()))});Qt(()=>{const f=t.model.playbackRate;r&&(r.audio.playbackRate.value=f)});function l(){const f=n.getContext("2d");!f||!r||(f.clearRect(0,0,n.width,n.height),f.fillStyle="white",f.fillRect(0,0,n.width*r.playbackPosition,n.height),r!=null&&r.playing?requestAnimationFrame(l):f.clearRect(0,0,n.width,n.height))}const h=()=>{const f=kt();if(!f)return;r&&r.playing&&r.stop(),r=new mh(f,{playbackRate:t.model.playbackRate});const u=s();u&&(r.loadBuffer(u),r.connect(f.destination),r.start(),l())};Qt(()=>{t.selected&&t.playSelected()&&h()});const c=()=>{r&&r.playing&&r.stop()};return $n({target:()=>o,pointerTypes:["touch","pen","mouse"],onDown:h}),$n({target:()=>i,pointerTypes:["touch","pen","mouse"],onDown:c}),ue(ll,{get sampler(){return t.model},ref(f){var u=e;typeof u=="function"?u(f):e=f},get class(){return vo.buttonPad},get onClick(){return t.onClick},get classList(){return{...t.classList,[vo.selected]:t.selected}},get children(){return[(()=>{var f=_h(),u=n;return typeof u=="function"?dt(u,f):n=f,f})(),(()=>{var f=Sh(),u=f.firstChild,d=o;return typeof d=="function"?dt(d,f):o=f,fe(u,()=>t.model.label),fe(f,ue(ch,{size:24}),null),ce(A=>{var E=s.loading,O=vo.label;return E!==A.e&&(f.disabled=A.e=E),O!==A.t&&Me(u,A.t=O),A},{e:void 0,t:void 0}),f})(),(()=>{var f=Ah(),u=i;return typeof u=="function"?dt(u,f):i=f,fe(f,ue(fh,{size:24})),ce(()=>f.disabled=s.loading),f})()]}})};function Oh(t,e){let n=-1/0;$n({target:t,onUp:r=>{const o=performance.now();o-n<Ul?(e(r),n=-1/0):n=o}})}const[Ii,Ph]=_e(0),jh=()=>Mr.samplers[Ii()],xh=t=>{il("samplers",Ii(),Qa(t))},kh={selected:jh,selectedIdx:Ii,setSelectionIndex:Ph,mutateSelected:xh},Ri=()=>kh,$h="_knob_uikyq_1",Th="_value_uikyq_10",Ih="_arc_uikyq_17",Rh="_dial_uikyq_21",Lt={knob:$h,value:Th,arc:Ih,dial:Rh,"knob-label":"_knob-label_uikyq_26"};function Ch(...t){return t.reduce((e,n)=>({x:e.x+n.x,y:e.y+n.y}))}function Dh(t,e){return{x:t*Math.cos(e),y:t*Math.sin(e)}}var Nh=ye('<svg viewBox="0 0 120 120"xmlns=http://www.w3.org/2000/svg><path></path><path></path><text x=70 y=100>'),Bh=ye("<svg><path></svg>",!1,!0);const Mh=t=>{const e=()=>(t.value-(t.min??0))/(t.max-(t.min??0)),i={x:60,y:60},a=3/4,s=()=>2*Math.PI*(e()*.75+(1-a)),l=Math.PI/15,h=()=>s()+l,c=u=>{const d=Dh(50,u);return Ch(d,i)},f=()=>s()>3*Math.PI/2?1:0;return(()=>{var u=Nh(),d=u.firstChild,A=d.nextSibling,E=A.nextSibling,O=t.ref;return typeof O=="function"?dt(O,u):t.ref=u,fe(u,(()=>{var g=De(()=>s()+l<2*Math.PI);return()=>g()&&(()=>{var w=Bh();return ce(I=>{var T=Lt.track,b=`M ${i.x+50},${i.y} A 50 50 0 ${h()>Math.PI?0:1} 0 ${c(h()).x} ${c(h()).y}`;return T!==I.e&&de(w,"class",I.e=T),b!==I.t&&de(w,"d",I.t=b),I},{e:void 0,t:void 0}),w})()})(),d),fe(E,()=>t.value.toFixed(2)),ce(g=>{var w=Lt.knob,I=t.size??48,T=t.size??48,b=Lt.arc,m=`M ${i.x},${i.y+50} A 50 50 0 ${f()} 1 ${c(s()).x} ${c(s()).y}`,S=Lt.dial,R=`M ${i.x},${i.y} L ${c(s()).x} ${c(s()).y}`,$=Lt.value;return w!==g.e&&de(u,"class",g.e=w),I!==g.t&&de(u,"width",g.t=I),T!==g.a&&de(u,"height",g.a=T),b!==g.o&&de(d,"class",g.o=b),m!==g.i&&de(d,"d",g.i=m),S!==g.n&&de(A,"class",g.n=S),R!==g.s&&de(A,"d",g.s=R),$!==g.h&&de(E,"class",g.h=$),g},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),u})()};var Fh=ye('<div class="flex flex-column"><div>');const qh=t=>{let e;const[n,r]=_e(t.value),[o,i]=_e(null),[a,s]=_e(0),[l,h]=_e(!1),c=u=>{u.pointerId===o()&&(u.preventDefault(),u.stopImmediatePropagation(),u.pointerType==="Mouse"&&u.shiftKey&&h(!0),t.updateFunc(Math.min(t.max,Math.max(t.min??0,n()+(a()-u.clientY)/screen.availHeight*(l()?1:4)))))},f=u=>{u.pointerId===o()&&(fi(),i(null),h(!1),window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",f))};return $n({target:()=>e,onDown:u=>{s(u.clientY),r(t.value),i(u.pointerId),window.addEventListener("pointerup",f,{passive:!1}),window.addEventListener("pointermove",c,{passive:!1})}}),Oh(()=>e,()=>{t.updateFunc(t.defaultValue),fi()}),(()=>{var u=Fh(),d=u.firstChild;return fe(d,()=>t.label),fe(u,ue(Mh,{ref(A){var E=e;typeof E=="function"?E(A):e=A},get value(){return t.value},get min(){return t.min},get max(){return t.max},get size(){return t.size}}),null),ce(()=>Me(d,Lt["knob-label"])),u})()},Kh="_modal_1azvw_1",Lh="_topbar_1azvw_24",Hn={modal:Kh,topbar:Lh,"modal-content":"_modal-content_1azvw_36","modal-overlay":"_modal-overlay_1azvw_51"};var Uh=ye("<div><div><button></button></div><div>"),Vh=ye("<div>"),Gh=ye("<button>");const zh=t=>{let e,n;return[(()=>{var r=Uh(),o=r.firstChild,i=o.firstChild,a=o.nextSibling,s=e;return typeof s=="function"?dt(s,r):e=r,jo(i,"click",t.onClose,!0),fe(a,()=>t.children),fe(r,(()=>{var l=De(()=>!!t.buttonText);return()=>l()&&(()=>{var h=Gh();return jo(h,"click",t.onClose,!0),fe(h,()=>t.buttonText),h})()})(),null),ce(l=>{var h={[Hn.modal]:!0,hidden:!t.show},c=`${Hn.topbar} flex flex-row-reverse`,f=`${Hn["modal-content"]} p-2`;return l.e=xo(r,h,l.e),c!==l.t&&Me(o,l.t=c),f!==l.a&&Me(a,l.a=f),l},{e:void 0,t:void 0,a:void 0}),r})(),(()=>{var r=Vh(),o=n;return typeof o=="function"?dt(o,r):n=r,ce(i=>xo(r,{[Hn["modal-overlay"]]:!0,hidden:!t.show},i)),r})()]};Tn(["click"]);var Wh=ye("<div class=grid><div class=col><h2 class=pb-2>Musical Shadows</h2><div class=text-left><div class=py-2>Trigger samples by hitting the pads");const Hh=t=>ue(zh,{get show(){return t.show},onClose:()=>{gh(),t.setShow(!1)},buttonText:"Ok",get children(){return Wh()}});var Yh=ye('<div class="h-full flex flex-column px-2 text-sm text-left"><div class=flex><div class=w-8rem></div><div class="flex-grow-1 text-right text-color-secondary w-2rem h-full overflow-hidden text-overflow-ellipsis white-space-nowrap">/</div></div><div class="flex flex-auto align-items-end py-2">'),Jh=ye('<input type=text class="border-none h-full w-full text-xs">'),Qh=ye("<div>");const Xh=()=>{const[t,e]=_e(!1),{selected:n,mutateSelected:r}=Ri();return(()=>{var o=Yh(),i=o.firstChild,a=i.firstChild,s=a.nextSibling;s.firstChild;var l=i.nextSibling;return fe(a,(()=>{var h=De(()=>!!t());return()=>h()?(()=>{var c=Jh();return c.addEventListener("mouseleave",()=>{e(!1)}),c.$$keyup=f=>{f.key==="Enter"&&e(!1)},c.addEventListener("change",()=>fi()),c.$$input=f=>{r(u=>{u.label=f.currentTarget.value})},de(c,"maxlength",Za),ce(()=>c.value=n().label),c})():(()=>{var c=Qh();return c.$$click=()=>{e(!0)},fe(c,()=>n().label),c})()})()),fe(s,()=>n().src,null),fe(o,ue(Id,{get model(){return n()}}),l),fe(l,ue(qh,{get value(){return n().playbackRate},updateFunc:h=>r(c=>{c.playbackRate=h}),defaultValue:1,min:.01,max:2,size:50,label:"Playback Speed"})),o})()};Tn(["input","keyup","click"]);function Zh(t,e){t.src=e,t.label=Rf(e).substring(0,Za)}Tn(["pointerdown","click"]);var ed=ah(()=>{const[t,e]=_e(null);return al(window,"keydown",n=>{e(n),setTimeout(()=>e(null))}),t});function td(t){return bt({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-radar-2",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"/><path d="M15.51 15.56a5 5 0 1 0 -3.51 1.44"/><path d="M18.832 17.86a9 9 0 1 0 -6.832 3.14"/><path d="M12 12v9"/>'},t)}function nd(t){return bt({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-wave-saw-tool",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12h5l4 8v-16l4 8h5"/>'},t)}function rd(t){return bt({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-wave-sine",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 12h-2c-.894 0 -1.662 -.857 -1.761 -2c-.296 -3.45 -.749 -6 -2.749 -6s-2.5 3.582 -2.5 8s-.5 8 -2.5 8s-2.452 -2.547 -2.749 -6c-.1 -1.147 -.867 -2 -1.763 -2h-2"/>'},t)}function od(t){return bt({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/><path fill-rule="evenodd" d="M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z" clip-rule="evenodd"/>'},t)}const id="_controlPanel_1v00h_1",ad={controlPanel:id};var sd=ye('<div><div class=w-2rem><ul class="w-full h-full flex flex-initial flex-column justify-content-evenly list-none"></ul></div><div class="h-full flex-grow-1">'),ld=ye('<li><a class="flex justify-content-center align-content-center flex-wrap w-full hover:text-primary transition-duration-200">'),ud=ye("<span>Sorry, tab not implemented");const cd=["SAMPLE","EXPLORER","RECORD","EFFECT"];function fd(t,e=!1,n){switch(t){case"SAMPLE":return e?ue(nd,{size:n}):ue(rd,{size:n});case"EXPLORER":return e?ue(hh,{size:n}):ue(dh,{size:n});case"RECORD":return ue(od,{size:n});case"EFFECT":return ue(td,{size:n})}}const hd=()=>{const[t,e]=_e("SAMPLE");return(()=>{var n=sd(),r=n.firstChild,o=r.firstChild,i=r.nextSibling;return fe(o,()=>cd.slice(0,1).map((a,s)=>(()=>{var l=ld(),h=l.firstChild;return l.$$click=()=>e(a),fe(h,()=>fd(a,a===t(),24)),ce(()=>Me(l,`flex-auto flex cursor-pointer border-50 border-right-1 ${s?"border-top-1":""} ${t()===a?"surface-300":"surface-100"}`)),l})())),i.style.setProperty("width","calc(100% - 2rem)"),fe(i,ue(Va,{get fallback(){return ud()},get children(){return ue(dn,{get when(){return t()==="SAMPLE"},get children(){return ue(Xh,{})}})}})),ce(()=>Me(n,`${ad.controlPanel} w-full flex overflow-hidden surface-200 select-none border-1 border-primary border-round`)),n})()};Tn(["click"]);const dd="_sampler_513kt_1",pd="_buttonGrid_513kt_28",wo={sampler:dd,buttonGrid:pd,"hide-md":"_hide-md_513kt_41"};var yd=ye("<div><div>");const gd=t=>{const{selected:e,setSelectionIndex:n}=Ri(),[r,o]=_e(!1,{equals:!1}),i=ed();return Qt(()=>{const a=i();if(a){const s=parseInt(a.key);s>0&&(n(s-1),o(!0)),a.preventDefault()}}),(()=>{var a=yd(),s=a.firstChild;return fe(a,ue(hd,{}),s),fe(s,()=>t.samplers.map((l,h)=>ue(Eh,{get selected(){return l===e()},get classList(){return{[wo["hide-md"]]:h>8}},model:l,onClick:()=>n(h),playSelected:r}))),ce(l=>{var h=`${wo.sampler}`,c=wo.buttonGrid;return h!==l.e&&Me(a,l.e=h),c!==l.t&&Me(s,l.t=c),l},{e:void 0,t:void 0}),a})()};function md(t){const e={...t},n={...t},r={},o=a=>{let s=r[a];if(!s){if(!ur())return e[a];r[a]=s=_e(e[a],{internal:!0}),delete e[a]}return s[0]()};for(const a in t)Object.defineProperty(n,a,{get:()=>o(a),enumerable:!0});const i=(a,s)=>{const l=r[a];if(l)return l[1](s);a in e&&(e[a]=Ta(s,[e[a]]))};return[n,(a,s)=>{if(th(a)){const l=Ve(()=>Object.entries(Ta(a,n)));Ba(()=>{for(const[h,c]of l)i(h,()=>c)})}else i(a,s);return n}]}var sl={width:null,height:null};function _o(t){if(!t)return{...sl};const{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function bd(t){const e=typeof t=="function",[n,r]=md(e?sl:_o(t)),o=new ResizeObserver(([i])=>r(_o(i.target)));return Gt(()=>o.disconnect()),e?Qt(()=>{const i=t();i&&(r(_o(i)),o.observe(i),Gt(()=>o.unobserve(i)))}):(o.observe(t),Gt(()=>o.unobserve(t))),n}const vd="_sampleView_1decy_1",wd="_fgLight_1decy_19",_d="_waveform_1decy_23",Sd="_midline_1decy_31",Ad="_dragline_1decy_37",_t={sampleView:vd,fgLight:wd,waveform:_d,midline:Sd,dragline:Ad};var So=ye("<svg><path></svg>",!1,!0),Ed=ye("<svg><text x=50% y=50% text-anchor=middle alignment-baseline=middle>Audio Engine Off</svg>",!1,!0),Od=ye("<svg><text x=50% y=50% text-anchor=middle alignment-baseline=middle>No Sample Loaded</svg>",!1,!0),Pd=ye("<svg><text x=50% y=50% text-anchor=middle alignment-baseline=middle>... Loading</svg>",!1,!0),jd=ye('<svg class="w-full h-full"><g>');const xd=10;function kd(t,e){return t.subarray(Math.max(0,0+e.pan.x),Math.min(Math.floor(t.length/e.zoom.x),t.length))}function $d(t,e,n){const r=kd(t,n),o=Math.min(e.width*4,r.length),i=Math.floor(r.length/o),a=e.height/2,s=c=>c*e.width/o,l=c=>a+c*(e.height-xd)*.5*n.zoom.y;let h=`M 0 ${r[0]}`;for(let c=1;c<o;c++){const f=r.subarray(c*i,(c+1)*i);h+=` L ${s(c)} ${l(f[0])}`}return h}async function Td({src:t,ctx:e}){const n=it.instance.getChannelData(t);if(n)return n;const r=await it.instance.getSampleBlob(t);if(!r||!e)return[];const o=await e.decodeAudioData(await r.arrayBuffer()),i=new Array(o.numberOfChannels).fill(null).map((a,s)=>{const l=new Float32Array(o.length);return o.copyFromChannel(l,s),l});return it.instance.cacheChannelData(t,i),i}const Id=t=>{let e,n;const r=bd(()=>e),o=()=>({pan:{x:0,y:0},zoom:{x:1,y:1}}),[i]=Na(()=>({src:t.model.src,ctx:kt()}),Td),a=()=>(r.height||0)/2,s=De(()=>{const O=kt(),g=i(),w=o(),I={width:r.width??0,height:r.height??0};return!g||!O?[]:g.map(T=>(()=>{var b=So();return ce(m=>{var S=_t.waveform,R=$d(T,I,w);return S!==m.e&&de(b,"class",m.e=S),R!==m.t&&de(b,"d",m.t=R),m},{e:void 0,t:void 0}),b})())}),[l,h]=_e(null),[c,f]=_e(0),[u,d]=_e(0),A=O=>{O.pointerId===l()&&(h(null),d(null),window.removeEventListener("pointermove",E),window.removeEventListener("pointerup",A))},E=O=>{O.pointerId===l()&&(O.preventDefault(),O.stopImmediatePropagation())};return $n({target:()=>n,onDown:O=>{Es(n);const g=n.getBoundingClientRect();f(O.clientY-g.top),d(O.clientX-g.left),h(O.pointerId),window.addEventListener("pointerup",A,{passive:!1}),window.addEventListener("pointermove",E,{passive:!1})}}),ue(ll,{ref(O){var g=e;typeof g=="function"?g(O):e=O},get class(){return`${_t.sampleView} overflow-hidden`},get children(){var O=jd(),g=O.firstChild,w=n;return typeof w=="function"?dt(w,O):n=O,fe(g,ue(Va,{get children(){return[ue(dn,{get when(){return!kt()},get children(){var I=Ed();return ce(()=>de(I,"class",`${_t.fgLight} font-bold text-sm`)),I}}),ue(dn,{get when(){return i.state==="ready"},get children(){return[(()=>{var I=So();return ce(T=>{var b=_t.midline,m=`M 0 ${a()} L ${r.width??0} ${a()}`;return b!==T.e&&de(I,"class",T.e=b),m!==T.t&&de(I,"d",T.t=m),T},{e:void 0,t:void 0}),I})(),De(()=>s()),De(()=>De(()=>u()!=null)()&&(()=>{var I=So();return ce(T=>{var b=_t.dragline,m=`M ${u()-o().pan.x} 0 V ${r.height??0}`;return b!==T.e&&de(I,"class",T.e=b),m!==T.t&&de(I,"d",T.t=m),T},{e:void 0,t:void 0}),I})())]}}),ue(dn,{get when(){return i.state==="errored"},get children(){var I=Od();return ce(()=>de(I,"class",`${_t.fgLight} font-bold text-sm`)),I}}),ue(dn,{get when(){return i.loading},get children(){var I=Pd();return ce(()=>de(I,"class",`${_t.fgLight} font-bold text-sm`)),I}})]}})),ce(I=>{var T=r.width??0,b=r.height??0;return T!==I.e&&de(O,"width",I.e=T),b!==I.t&&de(O,"height",I.t=b),I},{e:void 0,t:void 0}),O}})};var Rd=ye("<div>");const ll=t=>{const[,e]=Ua(t,["children","sampler"]),{selectedIdx:n}=Ri();return(()=>{var r=Rd();return Ga(r,Po(e,{onDragOver:o=>{o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="link")},onDrop:o=>{o.preventDefault(),il("samplers",t.sampler?Mr.samplers.indexOf(t.sampler):n(),Qa(i=>{o.dataTransfer&&Zh(i,o.dataTransfer.getData("text/plain"))}))}}),!1,!0),fe(r,()=>t.children),r})()};Tl(()=>ue(eh,{}),document.getElementById("root"));
